function Wv(l,r){for(var i=0;i<r.length;i++){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function T0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Xv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var r=l.default;if(typeof r=="function"){var i=function s(){var u=!1;try{u=this instanceof s}catch{}return u?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var u=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(i,s,u.get?u:{enumerable:!0,get:function(){return l[s]}})}),i}var mc={exports:{}},ei={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Fv(){if(jg)return ei;jg=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(s,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var p in u)p!=="key"&&(c[p]=u[p])}else c=u;return u=c.ref,{$$typeof:l,type:s,key:h,ref:u!==void 0?u:null,props:c}}return ei.Fragment=r,ei.jsx=i,ei.jsxs=i,ei}var Eg;function Zv(){return Eg||(Eg=1,mc.exports=Fv()),mc.exports}var f=Zv(),vc={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function eb(){if(Tg)return Se;Tg=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=_&&v[_]||v["@@iterator"],typeof v=="function"?v:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function Y(v,C,H){this.props=v,this.context=C,this.refs=A,this.updater=H||k}Y.prototype.isReactComponent={},Y.prototype.setState=function(v,C){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,C,"setState")},Y.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=Y.prototype;function P(v,C,H){this.props=v,this.context=C,this.refs=A,this.updater=H||k}var W=P.prototype=new O;W.constructor=P,N(W,Y.prototype),W.isPureReactComponent=!0;var te=Array.isArray;function Q(){}var U={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function be(v,C,H){var V=H.ref;return{$$typeof:l,type:v,key:C,ref:V!==void 0?V:null,props:H}}function re(v,C){return be(v.type,C,v.props)}function X(v){return typeof v=="object"&&v!==null&&v.$$typeof===l}function ae(v){var C={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(H){return C[H]})}var he=/\/+/g;function xe(v,C){return typeof v=="object"&&v!==null&&v.key!=null?ae(""+v.key):C.toString(36)}function ue(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(Q,Q):(v.status="pending",v.then(function(C){v.status==="pending"&&(v.status="fulfilled",v.value=C)},function(C){v.status==="pending"&&(v.status="rejected",v.reason=C)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function D(v,C,H,V,F){var ee=typeof v;(ee==="undefined"||ee==="boolean")&&(v=null);var ie=!1;if(v===null)ie=!0;else switch(ee){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(v.$$typeof){case l:case r:ie=!0;break;case x:return ie=v._init,D(ie(v._payload),C,H,V,F)}}if(ie)return F=F(v),ie=V===""?"."+xe(v,0):V,te(F)?(H="",ie!=null&&(H=ie.replace(he,"$&/")+"/"),D(F,C,H,"",function(kt){return kt})):F!=null&&(X(F)&&(F=re(F,H+(F.key==null||v&&v.key===F.key?"":(""+F.key).replace(he,"$&/")+"/")+ie)),C.push(F)),1;ie=0;var je=V===""?".":V+":";if(te(v))for(var _e=0;_e<v.length;_e++)V=v[_e],ee=je+xe(V,_e),ie+=D(V,C,H,ee,F);else if(_e=E(v),typeof _e=="function")for(v=_e.call(v),_e=0;!(V=v.next()).done;)V=V.value,ee=je+xe(V,_e++),ie+=D(V,C,H,ee,F);else if(ee==="object"){if(typeof v.then=="function")return D(ue(v),C,H,V,F);throw C=String(v),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ie}function K(v,C,H){if(v==null)return v;var V=[],F=0;return D(v,V,"","",function(ee){return C.call(H,ee,F++)}),V}function ne(v){if(v._status===-1){var C=v._result;C=C(),C.then(function(H){(v._status===0||v._status===-1)&&(v._status=1,v._result=H)},function(H){(v._status===0||v._status===-1)&&(v._status=2,v._result=H)}),v._status===-1&&(v._status=0,v._result=C)}if(v._status===1)return v._result.default;throw v._result}var J=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},Z={map:K,forEach:function(v,C,H){K(v,function(){C.apply(this,arguments)},H)},count:function(v){var C=0;return K(v,function(){C++}),C},toArray:function(v){return K(v,function(C){return C})||[]},only:function(v){if(!X(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return Se.Activity=S,Se.Children=Z,Se.Component=Y,Se.Fragment=i,Se.Profiler=u,Se.PureComponent=P,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Se.__COMPILER_RUNTIME={__proto__:null,c:function(v){return U.H.useMemoCache(v)}},Se.cache=function(v){return function(){return v.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(v,C,H){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var V=N({},v.props),F=v.key;if(C!=null)for(ee in C.key!==void 0&&(F=""+C.key),C)!pe.call(C,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&C.ref===void 0||(V[ee]=C[ee]);var ee=arguments.length-2;if(ee===1)V.children=H;else if(1<ee){for(var ie=Array(ee),je=0;je<ee;je++)ie[je]=arguments[je+2];V.children=ie}return be(v.type,F,V)},Se.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:c,_context:v},v},Se.createElement=function(v,C,H){var V,F={},ee=null;if(C!=null)for(V in C.key!==void 0&&(ee=""+C.key),C)pe.call(C,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(F[V]=C[V]);var ie=arguments.length-2;if(ie===1)F.children=H;else if(1<ie){for(var je=Array(ie),_e=0;_e<ie;_e++)je[_e]=arguments[_e+2];F.children=je}if(v&&v.defaultProps)for(V in ie=v.defaultProps,ie)F[V]===void 0&&(F[V]=ie[V]);return be(v,ee,F)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(v){return{$$typeof:p,render:v}},Se.isValidElement=X,Se.lazy=function(v){return{$$typeof:x,_payload:{_status:-1,_result:v},_init:ne}},Se.memo=function(v,C){return{$$typeof:y,type:v,compare:C===void 0?null:C}},Se.startTransition=function(v){var C=U.T,H={};U.T=H;try{var V=v(),F=U.S;F!==null&&F(H,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Q,J)}catch(ee){J(ee)}finally{C!==null&&H.types!==null&&(C.types=H.types),U.T=C}},Se.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Se.use=function(v){return U.H.use(v)},Se.useActionState=function(v,C,H){return U.H.useActionState(v,C,H)},Se.useCallback=function(v,C){return U.H.useCallback(v,C)},Se.useContext=function(v){return U.H.useContext(v)},Se.useDebugValue=function(){},Se.useDeferredValue=function(v,C){return U.H.useDeferredValue(v,C)},Se.useEffect=function(v,C){return U.H.useEffect(v,C)},Se.useEffectEvent=function(v){return U.H.useEffectEvent(v)},Se.useId=function(){return U.H.useId()},Se.useImperativeHandle=function(v,C,H){return U.H.useImperativeHandle(v,C,H)},Se.useInsertionEffect=function(v,C){return U.H.useInsertionEffect(v,C)},Se.useLayoutEffect=function(v,C){return U.H.useLayoutEffect(v,C)},Se.useMemo=function(v,C){return U.H.useMemo(v,C)},Se.useOptimistic=function(v,C){return U.H.useOptimistic(v,C)},Se.useReducer=function(v,C,H){return U.H.useReducer(v,C,H)},Se.useRef=function(v){return U.H.useRef(v)},Se.useState=function(v){return U.H.useState(v)},Se.useSyncExternalStore=function(v,C,H){return U.H.useSyncExternalStore(v,C,H)},Se.useTransition=function(){return U.H.useTransition()},Se.version="19.2.0",Se}var kg;function ud(){return kg||(kg=1,vc.exports=eb()),vc.exports}var j=ud();const Rg=T0(j);var bc={exports:{}},ti={},xc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function tb(){return Og||(Og=1,(function(l){function r(D,K){var ne=D.length;D.push(K);e:for(;0<ne;){var J=ne-1>>>1,Z=D[J];if(0<u(Z,K))D[J]=K,D[ne]=Z,ne=J;else break e}}function i(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var K=D[0],ne=D.pop();if(ne!==K){D[0]=ne;e:for(var J=0,Z=D.length,v=Z>>>1;J<v;){var C=2*(J+1)-1,H=D[C],V=C+1,F=D[V];if(0>u(H,ne))V<Z&&0>u(F,H)?(D[J]=F,D[V]=ne,J=V):(D[J]=H,D[C]=ne,J=C);else if(V<Z&&0>u(F,ne))D[J]=F,D[V]=ne,J=V;else break e}}return K}function u(D,K){var ne=D.sortIndex-K.sortIndex;return ne!==0?ne:D.id-K.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,S=null,_=3,E=!1,k=!1,N=!1,A=!1,Y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function W(D){for(var K=i(y);K!==null;){if(K.callback===null)s(y);else if(K.startTime<=D)s(y),K.sortIndex=K.expirationTime,r(g,K);else break;K=i(y)}}function te(D){if(N=!1,W(D),!k)if(i(g)!==null)k=!0,Q||(Q=!0,ae());else{var K=i(y);K!==null&&ue(te,K.startTime-D)}}var Q=!1,U=-1,pe=5,be=-1;function re(){return A?!0:!(l.unstable_now()-be<pe)}function X(){if(A=!1,Q){var D=l.unstable_now();be=D;var K=!0;try{e:{k=!1,N&&(N=!1,O(U),U=-1),E=!0;var ne=_;try{t:{for(W(D),S=i(g);S!==null&&!(S.expirationTime>D&&re());){var J=S.callback;if(typeof J=="function"){S.callback=null,_=S.priorityLevel;var Z=J(S.expirationTime<=D);if(D=l.unstable_now(),typeof Z=="function"){S.callback=Z,W(D),K=!0;break t}S===i(g)&&s(g),W(D)}else s(g);S=i(g)}if(S!==null)K=!0;else{var v=i(y);v!==null&&ue(te,v.startTime-D),K=!1}}break e}finally{S=null,_=ne,E=!1}K=void 0}}finally{K?ae():Q=!1}}}var ae;if(typeof P=="function")ae=function(){P(X)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,xe=he.port2;he.port1.onmessage=X,ae=function(){xe.postMessage(null)}}else ae=function(){Y(X,0)};function ue(D,K){U=Y(function(){D(l.unstable_now())},K)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(D){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ne=_;_=K;try{return D()}finally{_=ne}},l.unstable_requestPaint=function(){A=!0},l.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=_;_=D;try{return K()}finally{_=ne}},l.unstable_scheduleCallback=function(D,K,ne){var J=l.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,D={id:x++,callback:K,priorityLevel:D,startTime:ne,expirationTime:Z,sortIndex:-1},ne>J?(D.sortIndex=ne,r(y,D),i(g)===null&&D===i(y)&&(N?(O(U),U=-1):N=!0,ue(te,ne-J))):(D.sortIndex=Z,r(g,D),k||E||(k=!0,Q||(Q=!0,ae()))),D},l.unstable_shouldYield=re,l.unstable_wrapCallback=function(D){var K=_;return function(){var ne=_;_=K;try{return D.apply(this,arguments)}finally{_=ne}}}})(Sc)),Sc}var zg;function nb(){return zg||(zg=1,xc.exports=tb()),xc.exports}var wc={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function rb(){if(Mg)return jt;Mg=1;var l=ud();function r(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,y,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:g,containerInfo:y,implementation:x}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jt.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return c(g,y,null,x)},jt.flushSync=function(g){var y=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=x,s.d.f()}},jt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},jt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,S=p(x,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,E=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:E}):x==="script"&&s.d.X(g,{crossOrigin:S,integrity:_,fetchPriority:E,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},jt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,S=p(x,y.crossOrigin);s.d.L(g,x,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jt.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},jt.requestFormReset=function(g){s.d.r(g)},jt.unstable_batchedUpdates=function(g,y){return g(y)},jt.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},jt.version="19.2.0",jt}var Bg;function ab(){if(Bg)return wc.exports;Bg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),wc.exports=rb(),wc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function lb(){if(Dg)return ti;Dg=1;var l=nb(),r=ud(),i=ab();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(a=o.return,a!==null){n=a;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return g(o),e;if(d===a)return g(o),t;d=d.sibling}throw Error(s(188))}if(n.return!==a.return)n=o,a=d;else{for(var m=!1,b=o.child;b;){if(b===n){m=!0,n=o,a=d;break}if(b===a){m=!0,a=o,n=d;break}b=b.sibling}if(!m){for(b=d.child;b;){if(b===n){m=!0,n=d,a=o;break}if(b===a){m=!0,a=d,n=o;break}b=b.sibling}if(!m)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case Y:return"Profiler";case A:return"StrictMode";case te:return"Suspense";case Q:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case P:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}var ue=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},J=[],Z=-1;function v(e){return{current:e}}function C(e){0>Z||(e.current=J[Z],J[Z]=null,Z--)}function H(e,t){Z++,J[Z]=e.current,e.current=t}var V=v(null),F=v(null),ee=v(null),ie=v(null);function je(e,t){switch(H(ee,t),H(F,e),H(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qp(t),e=Wp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}C(V),H(V,e)}function _e(){C(V),C(F),C(ee)}function kt(e){e.memoizedState!==null&&H(ie,e);var t=V.current,n=Wp(t,e.type);t!==n&&(H(F,e),H(V,n))}function wn(e){F.current===e&&(C(V),C(F)),ie.current===e&&(C(ie),Wl._currentValue=ne)}var Tr,_n;function Lt(e){if(Tr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tr=t&&t[1]||"",_n=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+e+_n}var un=!1;function Fn(e,t){if(!e||un)return"";un=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(L){var B=L}Reflect.construct(e,[],I)}else{try{I.call()}catch(L){B=L}e.call(I.prototype)}}else{try{throw Error()}catch(L){B=L}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(L){if(L&&B&&typeof L.stack=="string")return[L.stack,B.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),m=d[0],b=d[1];if(m&&b){var w=m.split(`
`),M=b.split(`
`);for(o=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;if(a===w.length||o===M.length)for(a=w.length-1,o=M.length-1;1<=a&&0<=o&&w[a]!==M[o];)o--;for(;1<=a&&0<=o;a--,o--)if(w[a]!==M[o]){if(a!==1||o!==1)do if(a--,o--,0>o||w[a]!==M[o]){var $=`
`+w[a].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=a&&0<=o);break}}}finally{un=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Lt(n):""}function kr(e,t){switch(e.tag){case 26:case 27:case 5:return Lt(e.type);case 16:return Lt("Lazy");case 13:return e.child!==t&&t!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Fn(e.type,!1);case 11:return Fn(e.type.render,!1);case 1:return Fn(e.type,!0);case 31:return Lt("Activity");default:return""}}function Cn(e){try{var t="",n=null;do t+=kr(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var cn=Object.prototype.hasOwnProperty,dn=l.unstable_scheduleCallback,Qt=l.unstable_cancelCallback,sl=l.unstable_shouldYield,ol=l.unstable_requestPaint,yt=l.unstable_now,ut=l.unstable_getCurrentPriorityLevel,ve=l.unstable_ImmediatePriority,Xe=l.unstable_UserBlockingPriority,ge=l.unstable_NormalPriority,An=l.unstable_LowPriority,me=l.unstable_IdlePriority,ct=l.log,Ne=l.unstable_setDisableYieldValue,mt=null,Ue=null;function vt(e){if(typeof ct=="function"&&Ne(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(mt,e)}catch{}}var Ke=Math.clz32?Math.clz32:zn,fn=Math.log,Ht=Math.LN2;function zn(e){return e>>>=0,e===0?32:31-(fn(e)/Ht|0)|0}var jn=256,hn=262144,yi=4194304;function Rr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~d,a!==0?o=Rr(a):(m&=b,m!==0?o=Rr(m):n||(n=b&~e,n!==0&&(o=Rr(n))))):(b=a&~d,b!==0?o=Rr(b):m!==0?o=Rr(m):n||(n=a&~e,n!==0&&(o=Rr(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function ul(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Uy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kd(){var e=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),e}function ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ly(e,t,n,a,o,d){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,M=e.hiddenUpdates;for(n=m&~n;0<n;){var $=31-Ke(n),I=1<<$;b[$]=0,w[$]=-1;var B=M[$];if(B!==null)for(M[$]=null,$=0;$<B.length;$++){var L=B[$];L!==null&&(L.lane&=-536870913)}n&=~I}a!==0&&Rd(e,a,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function Rd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ke(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Od(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ke(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}function zd(e,t){var n=t&-t;return n=(n&42)!==0?1:lo(n),(n&(e.suspendedLanes|t))!==0?0:n}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function io(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Md(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:bg(e.type))}function Bd(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var Zn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Zn,Ot="__reactProps$"+Zn,ia="__reactContainer$"+Zn,so="__reactEvents$"+Zn,Hy="__reactListeners$"+Zn,$y="__reactHandles$"+Zn,Dd="__reactResources$"+Zn,dl="__reactMarker$"+Zn;function oo(e){delete e[bt],delete e[Ot],delete e[so],delete e[Hy],delete e[$y]}function sa(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ia]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rg(e);e!==null;){if(n=e[bt])return n;e=rg(e)}return t}e=n,n=e.parentNode}return null}function oa(e){if(e=e[bt]||e[ia]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ua(e){var t=e[Dd];return t||(t=e[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[dl]=!0}var Nd=new Set,Ud={};function Or(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(Ud[e]=t,e=0;e<t.length;e++)Nd.add(t[e])}var Vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ld={},Hd={};function qy(e){return cn.call(Hd,e)?!0:cn.call(Ld,e)?!1:Vy.test(e)?Hd[e]=!0:(Ld[e]=!0,!1)}function vi(e,t,n){if(qy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function bi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gy(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uo(e){if(!e._valueTracker){var t=$d(e)?"checked":"value";e._valueTracker=Gy(e,t,""+e[t])}}function Vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=$d(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Py=/[\n"\\]/g;function Xt(e){return e.replace(Py,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function co(e,t,n,a,o,d,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wt(t)):e.value!==""+Wt(t)&&(e.value=""+Wt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?fo(e,m,Wt(t)):n!=null?fo(e,m,Wt(n)):a!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Wt(b):e.removeAttribute("name")}function qd(e,t,n,a,o,d,m,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){uo(e);return}n=n!=null?""+Wt(n):"",t=t!=null?""+Wt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),uo(e)}function fo(e,t,n){t==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function da(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Wt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gd(e,t,n){if(t!=null&&(t=""+Wt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Wt(n):""}function Pd(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(ue(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Wt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),uo(e)}function fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Iy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yd(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&n[o]!==a&&Id(e,o,a)}else for(var d in t)t.hasOwnProperty(d)&&Id(e,d,t[d])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Si(e){return Ky.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var po=null;function go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ha=null,pa=null;function Kd(e){var t=oa(e);if(t&&(e=t.stateNode)){var n=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(co(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=a[Ot]||null;if(!o)throw Error(s(90));co(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Vd(a)}break e;case"textarea":Gd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&da(e,!!n.multiple,t,!1)}}}var yo=!1;function Jd(e,t,n){if(yo)return e(t,n);yo=!0;try{var a=e(t);return a}finally{if(yo=!1,(ha!==null||pa!==null)&&(os(),ha&&(t=ha,e=pa,pa=ha=null,Kd(t),e)))for(t=0;t<e.length;t++)Kd(e[t])}}function hl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Ot]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(Dn)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){mo=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{mo=!1}var er=null,vo=null,wi=null;function Qd(){if(wi)return wi;var e,t=vo,n=t.length,a,o="value"in er?er.value:er.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(a=1;a<=m&&t[n-a]===o[d-a];a++);return wi=o.slice(e,1<a?1-a:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function Wd(){return!1}function zt(e){function t(n,a,o,d,m){this._reactName=n,this._targetInst=o,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ci:Wd,this.isPropagationStopped=Wd,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=zt(zr),gl=S({},zr,{view:0,detail:0}),Jy=zt(gl),bo,xo,yl,ji=S({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(bo=e.screenX-yl.screenX,xo=e.screenY-yl.screenY):xo=bo=0,yl=e),bo)},movementY:function(e){return"movementY"in e?e.movementY:xo}}),Xd=zt(ji),Qy=S({},ji,{dataTransfer:0}),Wy=zt(Qy),Xy=S({},gl,{relatedTarget:0}),So=zt(Xy),Fy=S({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=zt(Fy),em=S({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tm=zt(em),nm=S({},zr,{data:0}),Fd=zt(nm),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lm[e])?!!t[e]:!1}function wo(){return im}var sm=S({},gl,{key:function(e){if(e.key){var t=rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),om=zt(sm),um=S({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=zt(um),cm=S({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),dm=zt(cm),fm=S({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=zt(fm),pm=S({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=zt(pm),ym=S({},zr,{newState:0,oldState:0}),mm=zt(ym),vm=[9,13,27,32],_o=Dn&&"CompositionEvent"in window,ml=null;Dn&&"documentMode"in document&&(ml=document.documentMode);var bm=Dn&&"TextEvent"in window&&!ml,ef=Dn&&(!_o||ml&&8<ml&&11>=ml),tf=" ",nf=!1;function rf(e,t){switch(e){case"keyup":return vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function xm(e,t){switch(e){case"compositionend":return af(t);case"keypress":return t.which!==32?null:(nf=!0,tf);case"textInput":return e=t.data,e===tf&&nf?null:e;default:return null}}function Sm(e,t){if(ga)return e==="compositionend"||!_o&&rf(e,t)?(e=Qd(),wi=vo=er=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ef&&t.locale!=="ko"?null:t.data;default:return null}}var wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wm[e.type]:t==="textarea"}function sf(e,t,n,a){ha?pa?pa.push(a):pa=[a]:ha=a,t=gs(t,"onChange"),0<t.length&&(n=new Ai("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var vl=null,bl=null;function _m(e){Gp(e,0)}function Ei(e){var t=fl(e);if(Vd(t))return e}function of(e,t){if(e==="change")return t}var uf=!1;if(Dn){var Co;if(Dn){var Ao="oninput"in document;if(!Ao){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),Ao=typeof cf.oninput=="function"}Co=Ao}else Co=!1;uf=Co&&(!document.documentMode||9<document.documentMode)}function df(){vl&&(vl.detachEvent("onpropertychange",ff),bl=vl=null)}function ff(e){if(e.propertyName==="value"&&Ei(bl)){var t=[];sf(t,bl,e,go(e)),Jd(_m,t)}}function Cm(e,t,n){e==="focusin"?(df(),vl=t,bl=n,vl.attachEvent("onpropertychange",ff)):e==="focusout"&&df()}function Am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(bl)}function jm(e,t){if(e==="click")return Ei(t)}function Em(e,t){if(e==="input"||e==="change")return Ei(t)}function Tm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Tm;function xl(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!cn.call(t,o)||!$t(e[o],t[o]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var n=hf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hf(n)}}function gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xi(e.document)}return t}function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var km=Dn&&"documentMode"in document&&11>=document.documentMode,ya=null,Eo=null,Sl=null,To=!1;function mf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;To||ya==null||ya!==xi(a)||(a=ya,"selectionStart"in a&&jo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Sl&&xl(Sl,a)||(Sl=a,a=gs(Eo,"onSelect"),0<a.length&&(t=new Ai("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ya)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ma={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},ko={},vf={};Dn&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Br(e){if(ko[e])return ko[e];if(!ma[e])return e;var t=ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vf)return ko[e]=t[n];return e}var bf=Br("animationend"),xf=Br("animationiteration"),Sf=Br("animationstart"),Rm=Br("transitionrun"),Om=Br("transitionstart"),zm=Br("transitioncancel"),wf=Br("transitionend"),_f=new Map,Ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ro.push("scrollEnd");function pn(e,t){_f.set(e,t),Or(t,[e])}var Ti=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],va=0,Oo=0;function ki(){for(var e=va,t=Oo=va=0;t<e;){var n=Ft[t];Ft[t++]=null;var a=Ft[t];Ft[t++]=null;var o=Ft[t];Ft[t++]=null;var d=Ft[t];if(Ft[t++]=null,a!==null&&o!==null){var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}d!==0&&Cf(n,o,d)}}function Ri(e,t,n,a){Ft[va++]=e,Ft[va++]=t,Ft[va++]=n,Ft[va++]=a,Oo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zo(e,t,n,a){return Ri(e,t,n,a),Oi(e)}function Dr(e,t){return Ri(e,null,null,t),Oi(e)}function Cf(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,a=d.alternate,a!==null&&(a.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ke(n),e=d.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=n|536870912),d):null}function Oi(e){if(50<Gl)throw Gl=0,Vu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ba={};function Mm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,a){return new Mm(e,t,n,a)}function Mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nn(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Af(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zi(e,t,n,a,o,d){var m=0;if(a=e,typeof e=="function")Mo(e)&&(m=1);else if(typeof e=="string")m=Lv(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=Vt(31,n,t,o),e.elementType=be,e.lanes=d,e;case N:return Nr(n.children,o,d,t);case A:m=8,o|=24;break;case Y:return e=Vt(12,n,t,o|2),e.elementType=Y,e.lanes=d,e;case te:return e=Vt(13,n,t,o),e.elementType=te,e.lanes=d,e;case Q:return e=Vt(19,n,t,o),e.elementType=Q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:m=10;break e;case O:m=9;break e;case W:m=11;break e;case U:m=14;break e;case pe:m=16,a=null;break e}m=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Vt(m,n,t,o),t.elementType=e,t.type=a,t.lanes=d,t}function Nr(e,t,n,a){return e=Vt(7,e,a,t),e.lanes=n,e}function Bo(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function jf(e){var t=Vt(18,null,null,0);return t.stateNode=e,t}function Do(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ef=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var n=Ef.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Cn(t)},Ef.set(e,t),t)}return{value:e,source:t,stack:Cn(t)}}var xa=[],Sa=0,Mi=null,wl=0,en=[],tn=0,tr=null,En=1,Tn="";function Un(e,t){xa[Sa++]=wl,xa[Sa++]=Mi,Mi=e,wl=t}function Tf(e,t,n){en[tn++]=En,en[tn++]=Tn,en[tn++]=tr,tr=e;var a=En;e=Tn;var o=32-Ke(a)-1;a&=~(1<<o),n+=1;var d=32-Ke(t)+o;if(30<d){var m=o-o%5;d=(a&(1<<m)-1).toString(32),a>>=m,o-=m,En=1<<32-Ke(t)+o|n<<o|a,Tn=d+e}else En=1<<d|n<<o|a,Tn=e}function No(e){e.return!==null&&(Un(e,1),Tf(e,1,0))}function Uo(e){for(;e===Mi;)Mi=xa[--Sa],xa[Sa]=null,wl=xa[--Sa],xa[Sa]=null;for(;e===tr;)tr=en[--tn],en[tn]=null,Tn=en[--tn],en[tn]=null,En=en[--tn],en[tn]=null}function kf(e,t){en[tn++]=En,en[tn++]=Tn,en[tn++]=tr,En=t.id,Tn=t.overflow,tr=e}var xt=null,Je=null,Oe=!1,nr=null,nn=!1,Lo=Error(s(519));function rr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(Zt(t,e)),Lo}function Rf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[bt]=e,t[Ot]=a,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Il.length;n++)Te(Il[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),qd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Pd(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Kp(t.textContent,n)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=Bn),t=!0):t=!1,t||rr(e,!0)}function Of(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:xt=xt.return}}function wa(e){if(e!==xt)return!1;if(!Oe)return Of(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nc(e.type,e.memoizedProps)),n=!n),n&&Je&&rr(e),Of(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Je=ng(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Je=ng(e)}else t===27?(t=Je,mr(e.type)?(e=sc,sc=null,Je=e):Je=t):Je=xt?an(e.stateNode.nextSibling):null;return!0}function Ur(){Je=xt=null,Oe=!1}function Ho(){var e=nr;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),nr=null),e}function _l(e){nr===null?nr=[e]:nr.push(e)}var $o=v(null),Lr=null,Ln=null;function ar(e,t,n){H($o,t._currentValue),t._currentValue=n}function Hn(e){e._currentValue=$o.current,C($o)}function Vo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function qo(e,t,n,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var w=0;w<t.length;w++)if(b.context===t[w]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),Vo(d.return,n,e),a||(m=null);break e}d=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(s(341));m.lanes|=n,d=m.alternate,d!==null&&(d.lanes|=n),Vo(m,n,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function _a(e,t,n,a){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var b=o.type;$t(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===ie.current){if(m=o.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Wl):e=[Wl])}o=o.return}e!==null&&qo(t,e,n,a),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){Lr=e,Ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return zf(Lr,e)}function Di(e,t){return Lr===null&&Hr(e),zf(e,t)}function zf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ln===null){if(e===null)throw Error(s(308));Ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ln=Ln.next=t;return n}var Bm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Dm=l.unstable_scheduleCallback,Nm=l.unstable_NormalPriority,at={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new Bm,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&Dm(Nm,function(){e.controller.abort()})}var Al=null,Po=0,Ca=0,Aa=null;function Um(e,t){if(Al===null){var n=Al=[];Po=0,Ca=Ku(),Aa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Po++,t.then(Mf,Mf),t}function Mf(){if(--Po===0&&Al!==null){Aa!==null&&(Aa.status="fulfilled");var e=Al;Al=null,Ca=0,Aa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Lm(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),a}var Bf=D.S;D.S=function(e,t){mp=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Um(e,t),Bf!==null&&Bf(e,t)};var $r=v(null);function Io(){var e=$r.current;return e!==null?e:Pe.pooledCache}function Ni(e,t){t===null?H($r,$r.current):H($r,t.pool)}function Df(){var e=Io();return e===null?null:{parent:at._currentValue,pool:e}}var ja=Error(s(460)),Yo=Error(s(474)),Ui=Error(s(542)),Li={then:function(){}};function Nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Bn,Bn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hf(e),e;default:if(typeof t.status=="string")t.then(Bn,Bn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hf(e),e}throw qr=t,ja}}function Vr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(qr=n,ja):n}}var qr=null;function Lf(){if(qr===null)throw Error(s(459));var e=qr;return qr=null,e}function Hf(e){if(e===ja||e===Ui)throw Error(s(483))}var Ea=null,jl=0;function Hi(e){var t=jl;return jl+=1,Ea===null&&(Ea=[]),Uf(Ea,e,t)}function El(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $i(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $f(e){function t(R,T){if(e){var z=R.deletions;z===null?(R.deletions=[T],R.flags|=16):z.push(T)}}function n(R,T){if(!e)return null;for(;T!==null;)t(R,T),T=T.sibling;return null}function a(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function o(R,T){return R=Nn(R,T),R.index=0,R.sibling=null,R}function d(R,T,z){return R.index=z,e?(z=R.alternate,z!==null?(z=z.index,z<T?(R.flags|=67108866,T):z):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function m(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,T,z,G){return T===null||T.tag!==6?(T=Bo(z,R.mode,G),T.return=R,T):(T=o(T,z),T.return=R,T)}function w(R,T,z,G){var de=z.type;return de===N?$(R,T,z.props.children,G,z.key):T!==null&&(T.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===pe&&Vr(de)===T.type)?(T=o(T,z.props),El(T,z),T.return=R,T):(T=zi(z.type,z.key,z.props,null,R.mode,G),El(T,z),T.return=R,T)}function M(R,T,z,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==z.containerInfo||T.stateNode.implementation!==z.implementation?(T=Do(z,R.mode,G),T.return=R,T):(T=o(T,z.children||[]),T.return=R,T)}function $(R,T,z,G,de){return T===null||T.tag!==7?(T=Nr(z,R.mode,G,de),T.return=R,T):(T=o(T,z),T.return=R,T)}function I(R,T,z){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Bo(""+T,R.mode,z),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return z=zi(T.type,T.key,T.props,null,R.mode,z),El(z,T),z.return=R,z;case k:return T=Do(T,R.mode,z),T.return=R,T;case pe:return T=Vr(T),I(R,T,z)}if(ue(T)||ae(T))return T=Nr(T,R.mode,z,null),T.return=R,T;if(typeof T.then=="function")return I(R,Hi(T),z);if(T.$$typeof===P)return I(R,Di(R,T),z);$i(R,T)}return null}function B(R,T,z,G){var de=T!==null?T.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:b(R,T,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return z.key===de?w(R,T,z,G):null;case k:return z.key===de?M(R,T,z,G):null;case pe:return z=Vr(z),B(R,T,z,G)}if(ue(z)||ae(z))return de!==null?null:$(R,T,z,G,null);if(typeof z.then=="function")return B(R,T,Hi(z),G);if(z.$$typeof===P)return B(R,T,Di(R,z),G);$i(R,z)}return null}function L(R,T,z,G,de){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(z)||null,b(T,R,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return R=R.get(G.key===null?z:G.key)||null,w(T,R,G,de);case k:return R=R.get(G.key===null?z:G.key)||null,M(T,R,G,de);case pe:return G=Vr(G),L(R,T,z,G,de)}if(ue(G)||ae(G))return R=R.get(z)||null,$(T,R,G,de,null);if(typeof G.then=="function")return L(R,T,z,Hi(G),de);if(G.$$typeof===P)return L(R,T,z,Di(T,G),de);$i(T,G)}return null}function le(R,T,z,G){for(var de=null,Me=null,se=T,Ae=T=0,Re=null;se!==null&&Ae<z.length;Ae++){se.index>Ae?(Re=se,se=null):Re=se.sibling;var Be=B(R,se,z[Ae],G);if(Be===null){se===null&&(se=Re);break}e&&se&&Be.alternate===null&&t(R,se),T=d(Be,T,Ae),Me===null?de=Be:Me.sibling=Be,Me=Be,se=Re}if(Ae===z.length)return n(R,se),Oe&&Un(R,Ae),de;if(se===null){for(;Ae<z.length;Ae++)se=I(R,z[Ae],G),se!==null&&(T=d(se,T,Ae),Me===null?de=se:Me.sibling=se,Me=se);return Oe&&Un(R,Ae),de}for(se=a(se);Ae<z.length;Ae++)Re=L(se,R,Ae,z[Ae],G),Re!==null&&(e&&Re.alternate!==null&&se.delete(Re.key===null?Ae:Re.key),T=d(Re,T,Ae),Me===null?de=Re:Me.sibling=Re,Me=Re);return e&&se.forEach(function(wr){return t(R,wr)}),Oe&&Un(R,Ae),de}function fe(R,T,z,G){if(z==null)throw Error(s(151));for(var de=null,Me=null,se=T,Ae=T=0,Re=null,Be=z.next();se!==null&&!Be.done;Ae++,Be=z.next()){se.index>Ae?(Re=se,se=null):Re=se.sibling;var wr=B(R,se,Be.value,G);if(wr===null){se===null&&(se=Re);break}e&&se&&wr.alternate===null&&t(R,se),T=d(wr,T,Ae),Me===null?de=wr:Me.sibling=wr,Me=wr,se=Re}if(Be.done)return n(R,se),Oe&&Un(R,Ae),de;if(se===null){for(;!Be.done;Ae++,Be=z.next())Be=I(R,Be.value,G),Be!==null&&(T=d(Be,T,Ae),Me===null?de=Be:Me.sibling=Be,Me=Be);return Oe&&Un(R,Ae),de}for(se=a(se);!Be.done;Ae++,Be=z.next())Be=L(se,R,Ae,Be.value,G),Be!==null&&(e&&Be.alternate!==null&&se.delete(Be.key===null?Ae:Be.key),T=d(Be,T,Ae),Me===null?de=Be:Me.sibling=Be,Me=Be);return e&&se.forEach(function(Qv){return t(R,Qv)}),Oe&&Un(R,Ae),de}function Ge(R,T,z,G){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case E:e:{for(var de=z.key;T!==null;){if(T.key===de){if(de=z.type,de===N){if(T.tag===7){n(R,T.sibling),G=o(T,z.props.children),G.return=R,R=G;break e}}else if(T.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===pe&&Vr(de)===T.type){n(R,T.sibling),G=o(T,z.props),El(G,z),G.return=R,R=G;break e}n(R,T);break}else t(R,T);T=T.sibling}z.type===N?(G=Nr(z.props.children,R.mode,G,z.key),G.return=R,R=G):(G=zi(z.type,z.key,z.props,null,R.mode,G),El(G,z),G.return=R,R=G)}return m(R);case k:e:{for(de=z.key;T!==null;){if(T.key===de)if(T.tag===4&&T.stateNode.containerInfo===z.containerInfo&&T.stateNode.implementation===z.implementation){n(R,T.sibling),G=o(T,z.children||[]),G.return=R,R=G;break e}else{n(R,T);break}else t(R,T);T=T.sibling}G=Do(z,R.mode,G),G.return=R,R=G}return m(R);case pe:return z=Vr(z),Ge(R,T,z,G)}if(ue(z))return le(R,T,z,G);if(ae(z)){if(de=ae(z),typeof de!="function")throw Error(s(150));return z=de.call(z),fe(R,T,z,G)}if(typeof z.then=="function")return Ge(R,T,Hi(z),G);if(z.$$typeof===P)return Ge(R,T,Di(R,z),G);$i(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,T!==null&&T.tag===6?(n(R,T.sibling),G=o(T,z),G.return=R,R=G):(n(R,T),G=Bo(z,R.mode,G),G.return=R,R=G),m(R)):n(R,T)}return function(R,T,z,G){try{jl=0;var de=Ge(R,T,z,G);return Ea=null,de}catch(se){if(se===ja||se===Ui)throw se;var Me=Vt(29,se,null,R.mode);return Me.lanes=G,Me.return=R,Me}finally{}}}var Gr=$f(!0),Vf=$f(!1),lr=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Oi(e),Cf(e,null,n),t}return Ri(e,a,t,n),Oi(e)}function Tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Od(e,n)}}function Qo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wo=!1;function kl(){if(Wo){var e=Aa;if(e!==null)throw e}}function Rl(e,t,n,a){Wo=!1;var o=e.updateQueue;lr=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var w=b,M=w.next;w.next=null,m===null?d=M:m.next=M,m=w;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==m&&(b===null?$.firstBaseUpdate=M:b.next=M,$.lastBaseUpdate=w))}if(d!==null){var I=o.baseState;m=0,$=M=w=null,b=d;do{var B=b.lane&-536870913,L=B!==b.lane;if(L?(ke&B)===B:(a&B)===B){B!==0&&B===Ca&&(Wo=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var le=e,fe=b;B=t;var Ge=n;switch(fe.tag){case 1:if(le=fe.payload,typeof le=="function"){I=le.call(Ge,I,B);break e}I=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=fe.payload,B=typeof le=="function"?le.call(Ge,I,B):le,B==null)break e;I=S({},I,B);break e;case 2:lr=!0}}B=b.callback,B!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[B]:L.push(B))}else L={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(M=$=L,w=I):$=$.next=L,m|=B;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);$===null&&(w=I),o.baseState=w,o.firstBaseUpdate=M,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),fr|=m,e.lanes=m,e.memoizedState=I}}function qf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Gf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qf(n[e],t)}var Ta=v(null),Vi=v(0);function Pf(e,t){e=Jn,H(Vi,e),H(Ta,t),Jn=e|t.baseLanes}function Xo(){H(Vi,Jn),H(Ta,Ta.current)}function Fo(){Jn=Vi.current,C(Ta),C(Vi)}var qt=v(null),rn=null;function or(e){var t=e.alternate;H(nt,nt.current&1),H(qt,e),rn===null&&(t===null||Ta.current!==null||t.memoizedState!==null)&&(rn=e)}function Zo(e){H(nt,nt.current),H(qt,e),rn===null&&(rn=e)}function If(e){e.tag===22?(H(nt,nt.current),H(qt,e),rn===null&&(rn=e)):ur()}function ur(){H(nt,nt.current),H(qt,qt.current)}function Gt(e){C(qt),rn===e&&(rn=null),C(nt)}var nt=v(0);function qi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||lc(n)||ic(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,Ce=null,Ve=null,lt=null,Gi=!1,ka=!1,Pr=!1,Pi=0,Ol=0,Ra=null,Hm=0;function et(){throw Error(s(321))}function eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function tu(e,t,n,a,o,d){return $n=d,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Th:yu,Pr=!1,d=n(a,o),Pr=!1,ka&&(d=Kf(t,n,a,o)),Yf(e),d}function Yf(e){D.H=Bl;var t=Ve!==null&&Ve.next!==null;if($n=0,lt=Ve=Ce=null,Gi=!1,Ol=0,Ra=null,t)throw Error(s(300));e===null||it||(e=e.dependencies,e!==null&&Bi(e)&&(it=!0))}function Kf(e,t,n,a){Ce=e;var o=0;do{if(ka&&(Ra=null),Ol=0,ka=!1,25<=o)throw Error(s(301));if(o+=1,lt=Ve=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}D.H=kh,d=t(n,a)}while(ka);return d}function $m(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?zl(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Ce.flags|=1024),t}function nu(){var e=Pi!==0;return Pi=0,e}function ru(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function au(e){if(Gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gi=!1}$n=0,lt=Ve=Ce=null,ka=!1,Ol=Pi=0,Ra=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ce.memoizedState=lt=e:lt=lt.next=e,lt}function rt(){if(Ve===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=lt===null?Ce.memoizedState:lt.next;if(t!==null)lt=t,Ve=e;else{if(e===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},lt===null?Ce.memoizedState=lt=e:lt=lt.next=e}return lt}function Ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var t=Ol;return Ol+=1,Ra===null&&(Ra=[]),e=Uf(Ra,e,t),t=Ce,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Th:yu),e}function Yi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===P)return St(e)}throw Error(s(438,String(e)))}function lu(e){var t=null,n=Ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ce.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ii(),Ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=re;return t.index++,n}function Vn(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=rt();return iu(t,Ve,e)}function iu(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=e.baseQueue,d=a.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,a.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=m=null,w=null,M=t,$=!1;do{var I=M.lane&-536870913;if(I!==M.lane?(ke&I)===I:($n&I)===I){var B=M.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),I===Ca&&($=!0);else if(($n&B)===B){M=M.next,B===Ca&&($=!0);continue}else I={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(b=w=I,m=d):w=w.next=I,Ce.lanes|=B,fr|=B;I=M.action,Pr&&n(d,I),d=M.hasEagerState?M.eagerState:n(d,I)}else B={lane:I,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(b=w=B,m=d):w=w.next=B,Ce.lanes|=I,fr|=I;M=M.next}while(M!==null&&M!==t);if(w===null?m=d:w.next=b,!$t(d,e.memoizedState)&&(it=!0,$&&(n=Aa,n!==null)))throw n;e.memoizedState=d,e.baseState=m,e.baseQueue=w,a.lastRenderedState=d}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function su(e){var t=rt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);$t(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function Jf(e,t,n){var a=Ce,o=rt(),d=Oe;if(d){if(n===void 0)throw Error(s(407));n=n()}else n=t();var m=!$t((Ve||o).memoizedState,n);if(m&&(o.memoizedState=n,it=!0),o=o.queue,cu(Xf.bind(null,a,o,e),[e]),o.getSnapshot!==t||m||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,Oa(9,{destroy:void 0},Wf.bind(null,a,o,n,t),null),Pe===null)throw Error(s(349));d||($n&127)!==0||Qf(a,t,n)}return n}function Qf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t=Ii(),Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wf(e,t,n,a){t.value=n,t.getSnapshot=a,Ff(t)&&Zf(e)}function Xf(e,t,n){return n(function(){Ff(t)&&Zf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Zf(e){var t=Dr(e,2);t!==null&&Ut(t,e,2)}function ou(e){var t=Rt();if(typeof e=="function"){var n=e;if(e=n(),Pr){vt(!0);try{n()}finally{vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t}function eh(e,t,n,a){return e.baseState=n,iu(e,Ve,typeof a=="function"?a:Vn)}function Vm(e,t,n,a,o){if(Wi(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};D.T!==null?n(!0):d.isTransition=!1,a(d),n=t.pending,n===null?(d.next=t.pending=d,th(t,d)):(d.next=n.next,t.pending=n.next=d)}}function th(e,t){var n=t.action,a=t.payload,o=e.state;if(t.isTransition){var d=D.T,m={};D.T=m;try{var b=n(o,a),w=D.S;w!==null&&w(m,b),nh(e,t,b)}catch(M){uu(e,t,M)}finally{d!==null&&m.types!==null&&(d.types=m.types),D.T=d}}else try{d=n(o,a),nh(e,t,d)}catch(M){uu(e,t,M)}}function nh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){rh(e,t,a)},function(a){return uu(e,t,a)}):rh(e,t,n)}function rh(e,t,n){t.status="fulfilled",t.value=n,ah(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,th(e,n)))}function uu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ah(t),t=t.next;while(t!==a)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lh(e,t){return t}function ih(e,t){if(Oe){var n=Pe.formState;if(n!==null){e:{var a=Ce;if(Oe){if(Je){t:{for(var o=Je,d=nn;o.nodeType!==8;){if(!d){o=null;break t}if(o=an(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Je=an(o.nextSibling),a=o.data==="F!";break e}}rr(a)}a=!1}a&&(t=n[0])}}return n=Rt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:t},n.queue=a,n=Ah.bind(null,Ce,a),a.dispatch=n,a=ou(!1),d=gu.bind(null,Ce,!1,a.queue),a=Rt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,n=Vm.bind(null,Ce,o,d,n),o.dispatch=n,a.memoizedState=e,[t,n,!1]}function sh(e){var t=rt();return oh(t,Ve,e)}function oh(e,t,n){if(t=iu(e,t,lh)[0],e=Ki(Vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=zl(t)}catch(m){throw m===ja?Ui:m}else a=t;t=rt();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(Ce.flags|=2048,Oa(9,{destroy:void 0},qm.bind(null,o,n),null)),[a,d,e]}function qm(e,t){e.action=t}function uh(e){var t=rt(),n=Ve;if(n!==null)return oh(t,n,e);rt(),t=t.memoizedState,n=rt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Oa(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Ii(),Ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ch(){return rt().memoizedState}function Ji(e,t,n,a){var o=Rt();Ce.flags|=e,o.memoizedState=Oa(1|t,{destroy:void 0},n,a===void 0?null:a)}function Qi(e,t,n,a){var o=rt();a=a===void 0?null:a;var d=o.memoizedState.inst;Ve!==null&&a!==null&&eu(a,Ve.memoizedState.deps)?o.memoizedState=Oa(t,d,n,a):(Ce.flags|=e,o.memoizedState=Oa(1|t,d,n,a))}function dh(e,t){Ji(8390656,8,e,t)}function cu(e,t){Qi(2048,8,e,t)}function Gm(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=Ii(),Ce.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fh(e){var t=rt().memoizedState;return Gm({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function hh(e,t){return Qi(4,2,e,t)}function ph(e,t){return Qi(4,4,e,t)}function gh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,n){n=n!=null?n.concat([e]):null,Qi(4,4,gh.bind(null,t,e),n)}function du(){}function mh(e,t){var n=rt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&eu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function vh(e,t){var n=rt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&eu(t,a[1]))return a[0];if(a=e(),Pr){vt(!0);try{e()}finally{vt(!1)}}return n.memoizedState=[a,t],a}function fu(e,t,n){return n===void 0||($n&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bp(),Ce.lanes|=e,fr|=e,n)}function bh(e,t,n,a){return $t(n,t)?n:Ta.current!==null?(e=fu(e,n,a),$t(e,t)||(it=!0),e):($n&42)===0||($n&1073741824)!==0&&(ke&261930)===0?(it=!0,e.memoizedState=n):(e=bp(),Ce.lanes|=e,fr|=e,t)}function xh(e,t,n,a,o){var d=K.p;K.p=d!==0&&8>d?d:8;var m=D.T,b={};D.T=b,gu(e,!1,t,n);try{var w=o(),M=D.S;if(M!==null&&M(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var $=Lm(w,a);Ml(e,t,$,Yt(e))}else Ml(e,t,a,Yt(e))}catch(I){Ml(e,t,{then:function(){},status:"rejected",reason:I},Yt())}finally{K.p=d,m!==null&&b.types!==null&&(m.types=b.types),D.T=m}}function Pm(){}function hu(e,t,n,a){if(e.tag!==5)throw Error(s(476));var o=Sh(e).queue;xh(e,o,t,ne,n===null?Pm:function(){return wh(e),n(a)})}function Sh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ne},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wh(e){var t=Sh(e);t.next===null&&(t=e.alternate.memoizedState),Ml(e,t.next.queue,{},Yt())}function pu(){return St(Wl)}function _h(){return rt().memoizedState}function Ch(){return rt().memoizedState}function Im(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Yt();e=ir(n);var a=sr(t,e,n);a!==null&&(Ut(a,t,n),Tl(a,t,n)),t={cache:Go()},e.payload=t;return}t=t.return}}function Ym(e,t,n){var a=Yt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Wi(e)?jh(t,n):(n=zo(e,t,n,a),n!==null&&(Ut(n,e,a),Eh(n,t,a)))}function Ah(e,t,n){var a=Yt();Ml(e,t,n,a)}function Ml(e,t,n,a){var o={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))jh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,b=d(m,n);if(o.hasEagerState=!0,o.eagerState=b,$t(b,m))return Ri(e,t,o,0),Pe===null&&ki(),!1}catch{}finally{}if(n=zo(e,t,o,a),n!==null)return Ut(n,e,a),Eh(n,t,a),!0}return!1}function gu(e,t,n,a){if(a={lane:2,revertLane:Ku(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wi(e)){if(t)throw Error(s(479))}else t=zo(e,n,a,2),t!==null&&Ut(t,e,2)}function Wi(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function jh(e,t){ka=Gi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Eh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Od(e,n)}}var Bl={readContext:St,use:Yi,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Bl.useEffectEvent=et;var Th={readContext:St,use:Yi,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:dh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ji(4194308,4,gh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){Ji(4,2,e,t)},useMemo:function(e,t){var n=Rt();t=t===void 0?null:t;var a=e();if(Pr){vt(!0);try{e()}finally{vt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Rt();if(n!==void 0){var o=n(t);if(Pr){vt(!0);try{n(t)}finally{vt(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=Ym.bind(null,Ce,e),[a.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=ou(e);var t=e.queue,n=Ah.bind(null,Ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:du,useDeferredValue:function(e,t){var n=Rt();return fu(n,e,t)},useTransition:function(){var e=ou(!1);return e=xh.bind(null,Ce,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ce,o=Rt();if(Oe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Pe===null)throw Error(s(349));(ke&127)!==0||Qf(a,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,dh(Xf.bind(null,a,d,e),[e]),a.flags|=2048,Oa(9,{destroy:void 0},Wf.bind(null,a,d,n,t),null),n},useId:function(){var e=Rt(),t=Pe.identifierPrefix;if(Oe){var n=Tn,a=En;n=(a&~(1<<32-Ke(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Pi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Hm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pu,useFormState:ih,useActionState:ih,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gu.bind(null,Ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:lu,useCacheRefresh:function(){return Rt().memoizedState=Im.bind(null,Ce)},useEffectEvent:function(e){var t=Rt(),n={impl:e};return t.memoizedState=n,function(){if((De&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},yu={readContext:St,use:Yi,useCallback:mh,useContext:St,useEffect:cu,useImperativeHandle:yh,useInsertionEffect:hh,useLayoutEffect:ph,useMemo:vh,useReducer:Ki,useRef:ch,useState:function(){return Ki(Vn)},useDebugValue:du,useDeferredValue:function(e,t){var n=rt();return bh(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Ki(Vn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:Jf,useId:_h,useHostTransitionStatus:pu,useFormState:sh,useActionState:sh,useOptimistic:function(e,t){var n=rt();return eh(n,Ve,e,t)},useMemoCache:lu,useCacheRefresh:Ch};yu.useEffectEvent=fh;var kh={readContext:St,use:Yi,useCallback:mh,useContext:St,useEffect:cu,useImperativeHandle:yh,useInsertionEffect:hh,useLayoutEffect:ph,useMemo:vh,useReducer:su,useRef:ch,useState:function(){return su(Vn)},useDebugValue:du,useDeferredValue:function(e,t){var n=rt();return Ve===null?fu(n,e,t):bh(n,Ve.memoizedState,e,t)},useTransition:function(){var e=su(Vn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:Jf,useId:_h,useHostTransitionStatus:pu,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var n=rt();return Ve!==null?eh(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Ch};kh.useEffectEvent=fh;function mu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Yt(),o=ir(a);o.payload=t,n!=null&&(o.callback=n),t=sr(e,o,a),t!==null&&(Ut(t,e,a),Tl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Yt(),o=ir(a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=sr(e,o,a),t!==null&&(Ut(t,e,a),Tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),a=ir(n);a.tag=2,t!=null&&(a.callback=t),t=sr(e,a,n),t!==null&&(Ut(t,e,n),Tl(t,e,n))}};function Rh(e,t,n,a,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,m):t.prototype&&t.prototype.isPureReactComponent?!xl(n,a)||!xl(o,d):!0}function Oh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function Ir(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function zh(e){Ti(e)}function Mh(e){console.error(e)}function Bh(e){Ti(e)}function Xi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Dh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function bu(e,t,n){return n=ir(n),n.tag=3,n.payload={element:null},n.callback=function(){Xi(e,t)},n}function Nh(e){return e=ir(e),e.tag=3,e}function Uh(e,t,n,a){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=a.value;e.payload=function(){return o(d)},e.callback=function(){Dh(t,n,a)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Dh(t,n,a),typeof o!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function Km(e,t,n,a,o){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&_a(t,n,o,!0),n=qt.current,n!==null){switch(n.tag){case 31:case 13:return rn===null?us():n.alternate===null&&tt===0&&(tt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,a===Li?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Pu(e,a,o)),!1;case 22:return n.flags|=65536,a===Li?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Pu(e,a,o)),!1}throw Error(s(435,n.tag))}return Pu(e,a,o),us(),!1}if(Oe)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Lo&&(e=Error(s(422),{cause:a}),_l(Zt(e,n)))):(a!==Lo&&(t=Error(s(423),{cause:a}),_l(Zt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=Zt(a,n),o=bu(e.stateNode,a,o),Qo(e,o),tt!==4&&(tt=2)),!1;var d=Error(s(520),{cause:a});if(d=Zt(d,n),ql===null?ql=[d]:ql.push(d),tt!==4&&(tt=2),t===null)return!0;a=Zt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=bu(n.stateNode,a,e),Qo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Nh(o),Uh(o,e,n,a),Qo(n,o),!1}n=n.return}while(n!==null);return!1}var xu=Error(s(461)),it=!1;function wt(e,t,n,a){t.child=e===null?Vf(t,null,n,a):Gr(t,e.child,n,a)}function Lh(e,t,n,a,o){n=n.render;var d=t.ref;if("ref"in a){var m={};for(var b in a)b!=="ref"&&(m[b]=a[b])}else m=a;return Hr(t),a=tu(e,t,n,m,d,o),b=nu(),e!==null&&!it?(ru(e,t,o),qn(e,t,o)):(Oe&&b&&No(t),t.flags|=1,wt(e,t,a,o),t.child)}function Hh(e,t,n,a,o){if(e===null){var d=n.type;return typeof d=="function"&&!Mo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,$h(e,t,d,a,o)):(e=zi(n.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Tu(e,o)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(m,a)&&e.ref===t.ref)return qn(e,t,o)}return t.flags|=1,e=Nn(d,a),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,a,o){if(e!==null){var d=e.memoizedProps;if(xl(d,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=d,Tu(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,qn(e,t,o)}return Su(e,t,n,a,o)}function Vh(e,t,n,a){var o=a.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~d}else a=0,t.child=null;return qh(e,t,d,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(t,d!==null?d.cachePool:null),d!==null?Pf(t,d):Xo(),If(t);else return a=t.lanes=536870912,qh(e,t,d!==null?d.baseLanes|n:n,n,a)}else d!==null?(Ni(t,d.cachePool),Pf(t,d),ur(),t.memoizedState=null):(e!==null&&Ni(t,null),Xo(),ur());return wt(e,t,o,n),t.child}function Dl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qh(e,t,n,a,o){var d=Io();return d=d===null?null:{parent:at._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&Ni(t,null),Xo(),If(t),e!==null&&_a(e,t,a,!0),t.childLanes=o,null}function Fi(e,t){return t=es({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gh(e,t,n){return Gr(t,e.child,null,n),e=Fi(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Jm(e,t,n){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(a.mode==="hidden")return e=Fi(t,a),t.lanes=536870912,Dl(null,e);if(Zo(t),(e=Je)?(e=tg(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tr!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},n=jf(e),n.return=t,t.child=n,xt=t,Je=null)):e=null,e===null)throw rr(t);return t.lanes=536870912,null}return Fi(t,a)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Zo(t),o)if(t.flags&256)t.flags&=-257,t=Gh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(it||_a(e,t,n,!1),o=(n&e.childLanes)!==0,it||o){if(a=Pe,a!==null&&(m=zd(a,n),m!==0&&m!==d.retryLane))throw d.retryLane=m,Dr(e,m),Ut(a,e,m),xu;us(),t=Gh(e,t,n)}else e=d.treeContext,Je=an(m.nextSibling),xt=t,Oe=!0,nr=null,nn=!1,e!==null&&kf(t,e),t=Fi(t,a),t.flags|=4096;return t}return e=Nn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Su(e,t,n,a,o){return Hr(t),n=tu(e,t,n,a,void 0,o),a=nu(),e!==null&&!it?(ru(e,t,o),qn(e,t,o)):(Oe&&a&&No(t),t.flags|=1,wt(e,t,n,o),t.child)}function Ph(e,t,n,a,o,d){return Hr(t),t.updateQueue=null,n=Kf(t,a,n,o),Yf(e),a=nu(),e!==null&&!it?(ru(e,t,d),qn(e,t,d)):(Oe&&a&&No(t),t.flags|=1,wt(e,t,n,d),t.child)}function Ih(e,t,n,a,o){if(Hr(t),t.stateNode===null){var d=ba,m=n.contextType;typeof m=="object"&&m!==null&&(d=St(m)),d=new n(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},Ko(t),m=n.contextType,d.context=typeof m=="object"&&m!==null?St(m):ba,d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(mu(t,n,m,a),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&vu.enqueueReplaceState(d,d.state,null),Rl(t,a,d,o),kl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,w=Ir(n,b);d.props=w;var M=d.context,$=n.contextType;m=ba,typeof $=="object"&&$!==null&&(m=St($));var I=n.getDerivedStateFromProps;$=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||M!==m)&&Oh(t,d,a,m),lr=!1;var B=t.memoizedState;d.state=B,Rl(t,a,d,o),kl(),M=t.memoizedState,b||B!==M||lr?(typeof I=="function"&&(mu(t,n,I,a),M=t.memoizedState),(w=lr||Rh(t,n,w,a,B,M,m))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=M),d.props=a,d.state=M,d.context=m,a=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,Jo(e,t),m=t.memoizedProps,$=Ir(n,m),d.props=$,I=t.pendingProps,B=d.context,M=n.contextType,w=ba,typeof M=="object"&&M!==null&&(w=St(M)),b=n.getDerivedStateFromProps,(M=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==I||B!==w)&&Oh(t,d,a,w),lr=!1,B=t.memoizedState,d.state=B,Rl(t,a,d,o),kl();var L=t.memoizedState;m!==I||B!==L||lr||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof b=="function"&&(mu(t,n,b,a),L=t.memoizedState),($=lr||Rh(t,n,$,a,B,L,w)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,L,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,L,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=L),d.props=a,d.state=L,d.context=w,a=$):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,Zi(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=Gr(t,e.child,null,o),t.child=Gr(t,null,n,o)):wt(e,t,n,o),t.memoizedState=d.state,e=t.child):e=qn(e,t,o),e}function Yh(e,t,n,a){return Ur(),t.flags|=256,wt(e,t,n,a),t.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _u(e){return{baseLanes:e,cachePool:Df()}}function Cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=It),e}function Kh(e,t,n){var a=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?or(t):ur(),(e=Je)?(e=tg(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tr!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},n=jf(e),n.return=t,t.child=n,xt=t,Je=null)):e=null,e===null)throw rr(t);return ic(e)?t.lanes=32:t.lanes=536870912,null}var b=a.children;return a=a.fallback,o?(ur(),o=t.mode,b=es({mode:"hidden",children:b},o),a=Nr(a,o,n,null),b.return=t,a.return=t,b.sibling=a,t.child=b,a=t.child,a.memoizedState=_u(n),a.childLanes=Cu(e,m,n),t.memoizedState=wu,Dl(null,a)):(or(t),Au(t,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(d)t.flags&256?(or(t),t.flags&=-257,t=ju(e,t,n)):t.memoizedState!==null?(ur(),t.child=e.child,t.flags|=128,t=null):(ur(),b=a.fallback,o=t.mode,a=es({mode:"visible",children:a.children},o),b=Nr(b,o,n,null),b.flags|=2,a.return=t,b.return=t,a.sibling=b,t.child=a,Gr(t,e.child,null,n),a=t.child,a.memoizedState=_u(n),a.childLanes=Cu(e,m,n),t.memoizedState=wu,t=Dl(null,a));else if(or(t),ic(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var M=m.dgst;m=M,a=Error(s(419)),a.stack="",a.digest=m,_l({value:a,source:null,stack:null}),t=ju(e,t,n)}else if(it||_a(e,t,n,!1),m=(n&e.childLanes)!==0,it||m){if(m=Pe,m!==null&&(a=zd(m,n),a!==0&&a!==w.retryLane))throw w.retryLane=a,Dr(e,a),Ut(m,e,a),xu;lc(b)||us(),t=ju(e,t,n)}else lc(b)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Je=an(b.nextSibling),xt=t,Oe=!0,nr=null,nn=!1,e!==null&&kf(t,e),t=Au(t,a.children),t.flags|=4096);return t}return o?(ur(),b=a.fallback,o=t.mode,w=e.child,M=w.sibling,a=Nn(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,M!==null?b=Nn(M,b):(b=Nr(b,o,n,null),b.flags|=2),b.return=t,a.return=t,a.sibling=b,t.child=a,Dl(null,a),a=t.child,b=e.child.memoizedState,b===null?b=_u(n):(o=b.cachePool,o!==null?(w=at._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Df(),b={baseLanes:b.baseLanes|n,cachePool:o}),a.memoizedState=b,a.childLanes=Cu(e,m,n),t.memoizedState=wu,Dl(e.child,a)):(or(t),n=e.child,e=n.sibling,n=Nn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function Au(e,t){return t=es({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function es(e,t){return e=Vt(22,e,null,t),e.lanes=0,e}function ju(e,t,n){return Gr(t,e.child,null,n),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Vo(e.return,t,n)}function Eu(e,t,n,a,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=n,m.tailMode=o,m.treeForkCount=d)}function Qh(e,t,n){var a=t.pendingProps,o=a.revealOrder,d=a.tail;a=a.children;var m=nt.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,H(nt,m),wt(e,t,a,n),a=Oe?wl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jh(e,n,t);else if(e.tag===19)Jh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&qi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Eu(t,!1,o,n,d,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&qi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Eu(t,!0,n,null,d,a);break;case"together":Eu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(_a(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function Qm(e,t,n){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),ar(t,at,e.memoizedState.cache),Ur();break;case 27:case 5:kt(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:ar(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zo(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(or(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Kh(e,t,n):(or(t),e=qn(e,t,n),e!==null?e.sibling:null);or(t);break;case 19:var o=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(_a(e,t,n,!1),a=(n&t.childLanes)!==0),o){if(a)return Qh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),H(nt,nt.current),a)break;return null;case 22:return t.lanes=0,Vh(e,t,n,t.pendingProps);case 24:ar(t,at,e.memoizedState.cache)}return qn(e,t,n)}function Wh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Tu(e,n)&&(t.flags&128)===0)return it=!1,Qm(e,t,n);it=(e.flags&131072)!==0}else it=!1,Oe&&(t.flags&1048576)!==0&&Tf(t,wl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Vr(t.elementType),t.type=e,typeof e=="function")Mo(e)?(a=Ir(e,a),t.tag=1,t=Ih(null,t,e,a,n)):(t.tag=0,t=Su(null,t,e,a,n));else{if(e!=null){var o=e.$$typeof;if(o===W){t.tag=11,t=Lh(null,t,e,a,n);break e}else if(o===U){t.tag=14,t=Hh(null,t,e,a,n);break e}}throw t=xe(e)||e,Error(s(306,t,""))}}return t;case 0:return Su(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,o=Ir(a,t.pendingProps),Ih(e,t,a,o,n);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var d=t.memoizedState;o=d.element,Jo(e,t),Rl(t,a,null,n);var m=t.memoizedState;if(a=m.cache,ar(t,at,a),a!==d.cache&&qo(t,[at],n,!0),kl(),a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Yh(e,t,a,n);break e}else if(a!==o){o=Zt(Error(s(424)),t),_l(o),t=Yh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=an(e.firstChild),xt=t,Oe=!0,nr=null,nn=!0,n=Vf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ur(),a===o){t=qn(e,t,n);break e}wt(e,t,a,n)}t=t.child}return t;case 26:return Zi(e,t),e===null?(n=sg(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,a=ys(ee.current).createElement(n),a[bt]=t,a[Ot]=e,_t(a,n,e),pt(a),t.stateNode=a):t.memoizedState=sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return kt(t),e===null&&Oe&&(a=t.stateNode=ag(t.type,t.pendingProps,ee.current),xt=t,nn=!0,o=Je,mr(t.type)?(sc=o,Je=an(a.firstChild)):Je=o),wt(e,t,t.pendingProps.children,n),Zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=a=Je)&&(a=Av(a,t.type,t.pendingProps,nn),a!==null?(t.stateNode=a,xt=t,Je=an(a.firstChild),nn=!1,o=!0):o=!1),o||rr(t)),kt(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,a=d.children,nc(o,d)?a=null:m!==null&&nc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=tu(e,t,$m,null,null,n),Wl._currentValue=o),Zi(e,t),wt(e,t,a,n),t.child;case 6:return e===null&&Oe&&((e=n=Je)&&(n=jv(n,t.pendingProps,nn),n!==null?(t.stateNode=n,xt=t,Je=null,e=!0):e=!1),e||rr(t)),null;case 13:return Kh(e,t,n);case 4:return je(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Gr(t,null,a,n):wt(e,t,a,n),t.child;case 11:return Lh(e,t,t.type,t.pendingProps,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ar(t,t.type,a.value),wt(e,t,a.children,n),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Hr(t),o=St(o),a=a(o),t.flags|=1,wt(e,t,a,n),t.child;case 14:return Hh(e,t,t.type,t.pendingProps,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 19:return Qh(e,t,n);case 31:return Jm(e,t,n);case 22:return Vh(e,t,n,t.pendingProps);case 24:return Hr(t),a=St(at),e===null?(o=Io(),o===null&&(o=Pe,d=Go(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:a,cache:o},Ko(t),ar(t,at,o)):((e.lanes&n)!==0&&(Jo(e,t),Rl(t,null,null,n),kl()),o=e.memoizedState,d=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ar(t,at,a)):(a=d.cache,ar(t,at,a),a!==o.cache&&qo(t,[at],n,!0))),wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Gn(e){e.flags|=4}function ku(e,t,n,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(_p())e.flags|=8192;else throw qr=Li,Yo}else e.flags&=-16777217}function Xh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fg(t))if(_p())e.flags|=8192;else throw qr=Li,Yo}function ts(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kd():536870912,e.lanes|=t,Da|=t)}function Nl(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Wm(e,t,n){var a=t.pendingProps;switch(Uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Hn(at),_e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wa(t)?Gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ho())),Qe(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(Gn(t),d!==null?(Qe(t),Xh(t,d)):(Qe(t),ku(t,o,null,a,n))):d?d!==e.memoizedState?(Gn(t),Qe(t),Xh(t,d)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Gn(t),Qe(t),ku(t,o,e,a,n)),null;case 27:if(wn(t),n=ee.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}e=V.current,wa(t)?Rf(t):(e=ag(o,a,n),t.stateNode=e,Gn(t))}return Qe(t),null;case 5:if(wn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}if(d=V.current,wa(t))Rf(t);else{var m=ys(ee.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?d.multiple=!0:a.size&&(d.size=a.size);break;default:d=typeof a.is=="string"?m.createElement(o,{is:a.is}):m.createElement(o)}}d[bt]=t,d[Ot]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(_t(d,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Gn(t)}}return Qe(t),ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ee.current,wa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,o=xt,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[bt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Kp(e.nodeValue,n)),e||rr(t,!0)}else e=ys(e).createTextNode(a),e[bt]=t,t.stateNode=e}return Qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=wa(t),n!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[bt]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else n=Ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Qe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=wa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[bt]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else o=Ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ts(t,t.updateQueue),Qe(t),null);case 4:return _e(),e===null&&Xu(t.stateNode.containerInfo),Qe(t),null;case 10:return Hn(t.type),Qe(t),null;case 19:if(C(nt),a=t.memoizedState,a===null)return Qe(t),null;if(o=(t.flags&128)!==0,d=a.rendering,d===null)if(o)Nl(a,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=qi(e),d!==null){for(t.flags|=128,Nl(a,!1),e=d.updateQueue,t.updateQueue=e,ts(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Af(n,e),n=n.sibling;return H(nt,nt.current&1|2),Oe&&Un(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&yt()>is&&(t.flags|=128,o=!0,Nl(a,!1),t.lanes=4194304)}else{if(!o)if(e=qi(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ts(t,e),Nl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Oe)return Qe(t),null}else 2*yt()-a.renderingStartTime>is&&n!==536870912&&(t.flags|=128,o=!0,Nl(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(e=a.last,e!==null?e.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=yt(),e.sibling=null,n=nt.current,H(nt,o?n&1|2:n&1),Oe&&Un(t,a.treeForkCount),e):(Qe(t),null);case 22:case 23:return Gt(t),Fo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),n=t.updateQueue,n!==null&&ts(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&C($r),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hn(at),Qe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Xm(e,t){switch(Uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(at),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wn(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(s(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return C(nt),null;case 4:return _e(),null;case 10:return Hn(t.type),null;case 22:case 23:return Gt(t),Fo(),e!==null&&C($r),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(at),null;case 25:return null;default:return null}}function Fh(e,t){switch(Uo(t),t.tag){case 3:Hn(at),_e();break;case 26:case 27:case 5:wn(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:C(nt);break;case 10:Hn(t.type);break;case 22:case 23:Gt(t),Fo(),e!==null&&C($r);break;case 24:Hn(at)}}function Ul(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var o=a.next;n=o;do{if((n.tag&e)===e){a=void 0;var d=n.create,m=n.inst;a=d(),m.destroy=a}n=n.next}while(n!==o)}}catch(b){He(t,t.return,b)}}function cr(e,t,n){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){var m=a.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var w=n,M=b;try{M()}catch($){He(o,w,$)}}}a=a.next}while(a!==d)}}catch($){He(t,t.return,$)}}function Zh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Gf(t,n)}catch(a){He(e,e.return,a)}}}function ep(e,t,n){n.props=Ir(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){He(e,t,a)}}function Ll(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(o){He(e,t,o)}}function kn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(o){He(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){He(e,t,o)}else n.current=null}function tp(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(o){He(e,e.return,o)}}function Ru(e,t,n){try{var a=e.stateNode;bv(a,e.type,n,t),a[Ot]=t}catch(o){He(e,e.return,o)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bn));else if(a!==4&&(a===27&&mr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function ns(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&mr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ns(e,t,n),e=e.sibling;e!==null;)ns(e,t,n),e=e.sibling}function rp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);_t(t,a,n),t[bt]=e,t[Ot]=n}catch(d){He(e,e.return,d)}}var Pn=!1,st=!1,Mu=!1,ap=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Fm(e,t){if(e=e.containerInfo,ec=_s,e=yf(e),jo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var o=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,b=-1,w=-1,M=0,$=0,I=e,B=null;t:for(;;){for(var L;I!==n||o!==0&&I.nodeType!==3||(b=m+o),I!==d||a!==0&&I.nodeType!==3||(w=m+a),I.nodeType===3&&(m+=I.nodeValue.length),(L=I.firstChild)!==null;)B=I,I=L;for(;;){if(I===e)break t;if(B===n&&++M===o&&(b=m),B===d&&++$===a&&(w=m),(L=I.nextSibling)!==null)break;I=B,B=I.parentNode}I=L}n=b===-1||w===-1?null:{start:b,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:e,selectionRange:n},_s=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,a=n.stateNode;try{var le=Ir(n.type,o);e=a.getSnapshotBeforeUpdate(le,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(fe){He(n,n.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ac(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ac(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function lp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n),a&4&&Ul(5,n);break;case 1:if(Yn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){He(n,n.return,m)}else{var o=Ir(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){He(n,n.return,m)}}a&64&&Zh(n),a&512&&Ll(n,n.return);break;case 3:if(Yn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Gf(e,t)}catch(m){He(n,n.return,m)}}break;case 27:t===null&&a&4&&rp(n);case 26:case 5:Yn(e,n),t===null&&a&4&&tp(n),a&512&&Ll(n,n.return);break;case 12:Yn(e,n);break;case 31:Yn(e,n),a&4&&op(e,n);break;case 13:Yn(e,n),a&4&&up(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=sv.bind(null,n),Ev(e,n))));break;case 22:if(a=n.memoizedState!==null||Pn,!a){t=t!==null&&t.memoizedState!==null||st,o=Pn;var d=st;Pn=a,(st=t)&&!d?Kn(e,n,(n.subtreeFlags&8772)!==0):Yn(e,n),Pn=o,st=d}break;case 30:break;default:Yn(e,n)}}function ip(e){var t=e.alternate;t!==null&&(e.alternate=null,ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Mt=!1;function In(e,t,n){for(n=n.child;n!==null;)sp(e,t,n),n=n.sibling}function sp(e,t,n){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(mt,n)}catch{}switch(n.tag){case 26:st||kn(n,t),In(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:st||kn(n,t);var a=Fe,o=Mt;mr(n.type)&&(Fe=n.stateNode,Mt=!1),In(e,t,n),Kl(n.stateNode),Fe=a,Mt=o;break;case 5:st||kn(n,t);case 6:if(a=Fe,o=Mt,Fe=null,In(e,t,n),Fe=a,Mt=o,Fe!==null)if(Mt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(d){He(n,t,d)}else try{Fe.removeChild(n.stateNode)}catch(d){He(n,t,d)}break;case 18:Fe!==null&&(Mt?(e=Fe,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ga(e)):Zp(Fe,n.stateNode));break;case 4:a=Fe,o=Mt,Fe=n.stateNode.containerInfo,Mt=!0,In(e,t,n),Fe=a,Mt=o;break;case 0:case 11:case 14:case 15:cr(2,n,t),st||cr(4,n,t),In(e,t,n);break;case 1:st||(kn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&ep(n,t,a)),In(e,t,n);break;case 21:In(e,t,n);break;case 22:st=(a=st)||n.memoizedState!==null,In(e,t,n),st=a;break;default:In(e,t,n)}}function op(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(n){He(t,t.return,n)}}}function up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(n){He(t,t.return,n)}}function Zm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ap),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ap),t;default:throw Error(s(435,e.tag))}}function rs(e,t){var n=Zm(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var o=ov.bind(null,e,a);a.then(o,o)}})}function Bt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var o=n[a],d=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(mr(b.type)){Fe=b.stateNode,Mt=!1;break e}break;case 5:Fe=b.stateNode,Mt=!1;break e;case 3:case 4:Fe=b.stateNode.containerInfo,Mt=!0;break e}b=b.return}if(Fe===null)throw Error(s(160));sp(d,m,o),Fe=null,Mt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}var gn=null;function cp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(t,e),Dt(e),a&4&&(cr(3,e,e.return),Ul(3,e),cr(5,e,e.return));break;case 1:Bt(t,e),Dt(e),a&512&&(st||n===null||kn(n,n.return)),a&64&&Pn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var o=gn;if(Bt(t,e),Dt(e),a&512&&(st||n===null||kn(n,n.return)),a&4){var d=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":d=o.getElementsByTagName("title")[0],(!d||d[dl]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(a),o.head.insertBefore(d,o.querySelector("head > title"))),_t(d,a,n),d[bt]=e,pt(d),a=d;break e;case"link":var m=cg("link","href",o).get(a+(n.href||""));if(m){for(var b=0;b<m.length;b++)if(d=m[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(b,1);break t}}d=o.createElement(a),_t(d,a,n),o.head.appendChild(d);break;case"meta":if(m=cg("meta","content",o).get(a+(n.content||""))){for(b=0;b<m.length;b++)if(d=m[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(b,1);break t}}d=o.createElement(a),_t(d,a,n),o.head.appendChild(d);break;default:throw Error(s(468,a))}d[bt]=e,pt(d),a=d}e.stateNode=a}else dg(o,e.type,e.stateNode);else e.stateNode=ug(o,a,e.memoizedProps);else d!==a?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,a===null?dg(o,e.type,e.stateNode):ug(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ru(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bt(t,e),Dt(e),a&512&&(st||n===null||kn(n,n.return)),n!==null&&a&4&&Ru(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bt(t,e),Dt(e),a&512&&(st||n===null||kn(n,n.return)),e.flags&32){o=e.stateNode;try{fa(o,"")}catch(le){He(e,e.return,le)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Ru(e,o,n!==null?n.memoizedProps:o)),a&1024&&(Mu=!0);break;case 6:if(Bt(t,e),Dt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(le){He(e,e.return,le)}}break;case 3:if(bs=null,o=gn,gn=ms(t.containerInfo),Bt(t,e),gn=o,Dt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(le){He(e,e.return,le)}Mu&&(Mu=!1,dp(e));break;case 4:a=gn,gn=ms(e.stateNode.containerInfo),Bt(t,e),Dt(e),gn=a;break;case 12:Bt(t,e),Dt(e);break;case 31:Bt(t,e),Dt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,rs(e,a)));break;case 13:Bt(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ls=yt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,rs(e,a)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,M=Pn,$=st;if(Pn=M||o,st=$||w,Bt(t,e),st=$,Pn=M,Dt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||Pn||st||Yr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(d=w.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=w.stateNode;var I=w.memoizedProps.style,B=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){He(w,w.return,le)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(le){He(w,w.return,le)}}}else if(t.tag===18){if(n===null){w=t;try{var L=w.stateNode;o?eg(L,!0):eg(w.stateNode,!1)}catch(le){He(w,w.return,le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,rs(e,n))));break;case 19:Bt(t,e),Dt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,rs(e,a)));break;case 30:break;case 21:break;default:Bt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(np(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,d=Ou(e);ns(e,d,o);break;case 5:var m=n.stateNode;n.flags&32&&(fa(m,""),n.flags&=-33);var b=Ou(e);ns(e,b,m);break;case 3:case 4:var w=n.stateNode.containerInfo,M=Ou(e);zu(e,M,w);break;default:throw Error(s(161))}}catch($){He(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lp(e,t.alternate,t),t=t.sibling}function Yr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cr(4,t,t.return),Yr(t);break;case 1:kn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ep(t,t.return,n),Yr(t);break;case 27:Kl(t.stateNode);case 26:case 5:kn(t,t.return),Yr(t);break;case 22:t.memoizedState===null&&Yr(t);break;case 30:Yr(t);break;default:Yr(t)}e=e.sibling}}function Kn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Kn(o,d,n),Ul(4,d);break;case 1:if(Kn(o,d,n),a=d,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(M){He(a,a.return,M)}if(a=d,o=a.updateQueue,o!==null){var b=a.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)qf(w[o],b)}catch(M){He(a,a.return,M)}}n&&m&64&&Zh(d),Ll(d,d.return);break;case 27:rp(d);case 26:case 5:Kn(o,d,n),n&&a===null&&m&4&&tp(d),Ll(d,d.return);break;case 12:Kn(o,d,n);break;case 31:Kn(o,d,n),n&&m&4&&op(o,d);break;case 13:Kn(o,d,n),n&&m&4&&up(o,d);break;case 22:d.memoizedState===null&&Kn(o,d,n),Ll(d,d.return);break;case 30:break;default:Kn(o,d,n)}t=t.sibling}}function Bu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Cl(n))}function Du(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cl(e))}function yn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(e,t,n,a),t=t.sibling}function fp(e,t,n,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,n,a),o&2048&&Ul(9,t);break;case 1:yn(e,t,n,a);break;case 3:yn(e,t,n,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cl(e)));break;case 12:if(o&2048){yn(e,t,n,a),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,b=d.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){He(t,t.return,w)}}else yn(e,t,n,a);break;case 31:yn(e,t,n,a);break;case 13:yn(e,t,n,a);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?yn(e,t,n,a):Hl(e,t):d._visibility&2?yn(e,t,n,a):(d._visibility|=2,za(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Bu(m,t);break;case 24:yn(e,t,n,a),o&2048&&Du(t.alternate,t);break;default:yn(e,t,n,a)}}function za(e,t,n,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,b=n,w=a,M=m.flags;switch(m.tag){case 0:case 11:case 15:za(d,m,b,w,o),Ul(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?za(d,m,b,w,o):Hl(d,m):($._visibility|=2,za(d,m,b,w,o)),o&&M&2048&&Bu(m.alternate,m);break;case 24:za(d,m,b,w,o),o&&M&2048&&Du(m.alternate,m);break;default:za(d,m,b,w,o)}t=t.sibling}}function Hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,o=a.flags;switch(a.tag){case 22:Hl(n,a),o&2048&&Bu(a.alternate,a);break;case 24:Hl(n,a),o&2048&&Du(a.alternate,a);break;default:Hl(n,a)}t=t.sibling}}var $l=8192;function Ma(e,t,n){if(e.subtreeFlags&$l)for(e=e.child;e!==null;)hp(e,t,n),e=e.sibling}function hp(e,t,n){switch(e.tag){case 26:Ma(e,t,n),e.flags&$l&&e.memoizedState!==null&&Hv(n,gn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,t,n);break;case 3:case 4:var a=gn;gn=ms(e.stateNode.containerInfo),Ma(e,t,n),gn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=$l,$l=16777216,Ma(e,t,n),$l=a):Ma(e,t,n));break;default:Ma(e,t,n)}}function pp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];gt=a,yp(a,e)}pp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,as(e)):Vl(e);break;default:Vl(e)}}function as(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];gt=a,yp(a,e)}pp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cr(8,t,t.return),as(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,as(t));break;default:as(t)}e=e.sibling}}function yp(e,t){for(;gt!==null;){var n=gt;switch(n.tag){case 0:case 11:case 15:cr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Cl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,gt=a;else e:for(n=e;gt!==null;){a=gt;var o=a.sibling,d=a.return;if(ip(a),a===n){gt=null;break e}if(o!==null){o.return=d,gt=o;break e}gt=d}}}var ev={getCacheForType:function(e){var t=St(at),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return St(at).controller.signal}},tv=typeof WeakMap=="function"?WeakMap:Map,De=0,Pe=null,Ee=null,ke=0,Le=0,Pt=null,dr=!1,Ba=!1,Nu=!1,Jn=0,tt=0,fr=0,Kr=0,Uu=0,It=0,Da=0,ql=null,Nt=null,Lu=!1,ls=0,mp=0,is=1/0,ss=null,hr=null,dt=0,pr=null,Na=null,Qn=0,Hu=0,$u=null,vp=null,Gl=0,Vu=null;function Yt(){return(De&2)!==0&&ke!==0?ke&-ke:D.T!==null?Ku():Md()}function bp(){if(It===0)if((ke&536870912)===0||Oe){var e=hn;hn<<=1,(hn&3932160)===0&&(hn=262144),It=e}else It=536870912;return e=qt.current,e!==null&&(e.flags|=32),It}function Ut(e,t,n){(e===Pe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),gr(e,ke,It,!1)),cl(e,n),((De&2)===0||e!==Pe)&&(e===Pe&&((De&2)===0&&(Kr|=n),tt===4&&gr(e,ke,It,!1)),Rn(e))}function xp(e,t,n){if((De&6)!==0)throw Error(s(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ul(e,t),o=a?av(e,t):Gu(e,t,!0),d=a;do{if(o===0){Ba&&!a&&gr(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!nv(n)){o=Gu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=ql;var w=b.current.memoizedState.isDehydrated;if(w&&(Ua(b,m).flags|=256),m=Gu(b,m,!1),m!==2){if(Nu&&!w){b.errorRecoveryDisabledLanes|=d,Kr|=d,o=4;break e}d=Nt,Nt=o,d!==null&&(Nt===null?Nt=d:Nt.push.apply(Nt,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){Ua(e,0),gr(e,t,0,!0);break}e:{switch(a=e,d=o,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:gr(a,t,It,!dr);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=ls+300-yt(),10<o)){if(gr(a,t,It,!dr),mi(a,0,!0)!==0)break e;Qn=t,a.timeoutHandle=Xp(Sp.bind(null,a,n,Nt,ss,Lu,t,It,Kr,Da,dr,d,"Throttled",-0,0),o);break e}Sp(a,n,Nt,ss,Lu,t,It,Kr,Da,dr,d,null,-0,0)}}break}while(!0);Rn(e)}function Sp(e,t,n,a,o,d,m,b,w,M,$,I,B,L){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},hp(t,d,I);var le=(d&62914560)===d?ls-yt():(d&4194048)===d?mp-yt():0;if(le=$v(I,le),le!==null){Qn=d,e.cancelPendingCommit=le(kp.bind(null,e,t,d,n,a,o,m,b,w,$,I,null,B,L)),gr(e,d,m,!M);return}}kp(e,t,d,n,a,o,m,b,w)}function nv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var o=n[a],d=o.getSnapshot;o=o.value;try{if(!$t(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t,n,a){t&=~Uu,t&=~Kr,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var d=31-Ke(o),m=1<<d;a[d]=-1,o&=~m}n!==0&&Rd(e,n,t)}function os(){return(De&6)===0?(Pl(0),!1):!0}function qu(){if(Ee!==null){if(Le===0)var e=Ee.return;else e=Ee,Ln=Lr=null,au(e),Ea=null,jl=0,e=Ee;for(;e!==null;)Fh(e.alternate,e),e=e.return;Ee=null}}function Ua(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,wv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qn=0,qu(),Pe=e,Ee=n=Nn(e.current,null),ke=t,Le=0,Pt=null,dr=!1,Ba=ul(e,t),Nu=!1,Da=It=Uu=Kr=fr=tt=0,Nt=ql=null,Lu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Ke(a),d=1<<o;t|=e[o],a&=~d}return Jn=t,ki(),n}function wp(e,t){Ce=null,D.H=Bl,t===ja||t===Ui?(t=Lf(),Le=3):t===Yo?(t=Lf(),Le=4):Le=t===xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,Ee===null&&(tt=1,Xi(e,Zt(t,e.current)))}function _p(){var e=qt.current;return e===null?!0:(ke&4194048)===ke?rn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===rn:!1}function Cp(){var e=D.H;return D.H=Bl,e===null?Bl:e}function Ap(){var e=D.A;return D.A=ev,e}function us(){tt=4,dr||(ke&4194048)!==ke&&qt.current!==null||(Ba=!0),(fr&134217727)===0&&(Kr&134217727)===0||Pe===null||gr(Pe,ke,It,!1)}function Gu(e,t,n){var a=De;De|=2;var o=Cp(),d=Ap();(Pe!==e||ke!==t)&&(ss=null,Ua(e,t)),t=!1;var m=tt;e:do try{if(Le!==0&&Ee!==null){var b=Ee,w=Pt;switch(Le){case 8:qu(),m=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var M=Le;if(Le=0,Pt=null,La(e,b,w,M),n&&Ba){m=0;break e}break;default:M=Le,Le=0,Pt=null,La(e,b,w,M)}}rv(),m=tt;break}catch($){wp(e,$)}while(!0);return t&&e.shellSuspendCounter++,Ln=Lr=null,De=a,D.H=o,D.A=d,Ee===null&&(Pe=null,ke=0,ki()),m}function rv(){for(;Ee!==null;)jp(Ee)}function av(e,t){var n=De;De|=2;var a=Cp(),o=Ap();Pe!==e||ke!==t?(ss=null,is=yt()+500,Ua(e,t)):Ba=ul(e,t);e:do try{if(Le!==0&&Ee!==null){t=Ee;var d=Pt;t:switch(Le){case 1:Le=0,Pt=null,La(e,t,d,1);break;case 2:case 9:if(Nf(d)){Le=0,Pt=null,Ep(t);break}t=function(){Le!==2&&Le!==9||Pe!==e||(Le=7),Rn(e)},d.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Nf(d)?(Le=0,Pt=null,Ep(t)):(Le=0,Pt=null,La(e,t,d,7));break;case 5:var m=null;switch(Ee.tag){case 26:m=Ee.memoizedState;case 5:case 27:var b=Ee;if(m?fg(m):b.stateNode.complete){Le=0,Pt=null;var w=b.sibling;if(w!==null)Ee=w;else{var M=b.return;M!==null?(Ee=M,cs(M)):Ee=null}break t}}Le=0,Pt=null,La(e,t,d,5);break;case 6:Le=0,Pt=null,La(e,t,d,6);break;case 8:qu(),tt=6;break e;default:throw Error(s(462))}}lv();break}catch($){wp(e,$)}while(!0);return Ln=Lr=null,D.H=a,D.A=o,De=n,Ee!==null?0:(Pe=null,ke=0,ki(),tt)}function lv(){for(;Ee!==null&&!sl();)jp(Ee)}function jp(e){var t=Wh(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?cs(e):Ee=t}function Ep(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ph(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Ph(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:au(t);default:Fh(n,t),t=Ee=Af(t,Jn),t=Wh(n,t,Jn)}e.memoizedProps=e.pendingProps,t===null?cs(e):Ee=t}function La(e,t,n,a){Ln=Lr=null,au(t),Ea=null,jl=0;var o=t.return;try{if(Km(e,o,t,n,ke)){tt=1,Xi(e,Zt(n,e.current)),Ee=null;return}}catch(d){if(o!==null)throw Ee=o,d;tt=1,Xi(e,Zt(n,e.current)),Ee=null;return}t.flags&32768?(Oe||a===1?e=!0:Ba||(ke&536870912)!==0?e=!1:(dr=e=!0,(a===2||a===9||a===3||a===6)&&(a=qt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Tp(t,e)):cs(t)}function cs(e){var t=e;do{if((t.flags&32768)!==0){Tp(t,dr);return}e=t.return;var n=Wm(t.alternate,t,Jn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);tt===0&&(tt=5)}function Tp(e,t){do{var n=Xm(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);tt=6,Ee=null}function kp(e,t,n,a,o,d,m,b,w){e.cancelPendingCommit=null;do ds();while(dt!==0);if((De&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=Oo,Ly(e,n,d,m,b,w),e===Pe&&(Ee=Pe=null,ke=0),Na=t,pr=e,Qn=n,Hu=d,$u=o,vp=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uv(ge,function(){return Bp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,o=K.p,K.p=2,m=De,De|=4;try{Fm(e,t,n)}finally{De=m,K.p=o,D.T=a}}dt=1,Rp(),Op(),zp()}}function Rp(){if(dt===1){dt=0;var e=pr,t=Na,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var a=K.p;K.p=2;var o=De;De|=4;try{cp(t,e);var d=tc,m=yf(e.containerInfo),b=d.focusedElem,w=d.selectionRange;if(m!==b&&b&&b.ownerDocument&&gf(b.ownerDocument.documentElement,b)){if(w!==null&&jo(b)){var M=w.start,$=w.end;if($===void 0&&($=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min($,b.value.length);else{var I=b.ownerDocument||document,B=I&&I.defaultView||window;if(B.getSelection){var L=B.getSelection(),le=b.textContent.length,fe=Math.min(w.start,le),Ge=w.end===void 0?fe:Math.min(w.end,le);!L.extend&&fe>Ge&&(m=Ge,Ge=fe,fe=m);var R=pf(b,fe),T=pf(b,Ge);if(R&&T&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==T.node||L.focusOffset!==T.offset)){var z=I.createRange();z.setStart(R.node,R.offset),L.removeAllRanges(),fe>Ge?(L.addRange(z),L.extend(T.node,T.offset)):(z.setEnd(T.node,T.offset),L.addRange(z))}}}}for(I=[],L=b;L=L.parentNode;)L.nodeType===1&&I.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<I.length;b++){var G=I[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}_s=!!ec,tc=ec=null}finally{De=o,K.p=a,D.T=n}}e.current=t,dt=2}}function Op(){if(dt===2){dt=0;var e=pr,t=Na,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var a=K.p;K.p=2;var o=De;De|=4;try{lp(e,t.alternate,t)}finally{De=o,K.p=a,D.T=n}}dt=3}}function zp(){if(dt===4||dt===3){dt=0,ol();var e=pr,t=Na,n=Qn,a=vp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Na=pr=null,Mp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(hr=null),io(n),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(mt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=D.T,o=K.p,K.p=2,D.T=null;try{for(var d=e.onRecoverableError,m=0;m<a.length;m++){var b=a[m];d(b.value,{componentStack:b.stack})}}finally{D.T=t,K.p=o}}(Qn&3)!==0&&ds(),Rn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Vu?Gl++:(Gl=0,Vu=e):Gl=0,Pl(0)}}function Mp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cl(t)))}function ds(){return Rp(),Op(),zp(),Bp()}function Bp(){if(dt!==5)return!1;var e=pr,t=Hu;Hu=0;var n=io(Qn),a=D.T,o=K.p;try{K.p=32>n?32:n,D.T=null,n=$u,$u=null;var d=pr,m=Qn;if(dt=0,Na=pr=null,Qn=0,(De&6)!==0)throw Error(s(331));var b=De;if(De|=4,gp(d.current),fp(d,d.current,m,n),De=b,Pl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(mt,d)}catch{}return!0}finally{K.p=o,D.T=a,Mp(e,t)}}function Dp(e,t,n){t=Zt(n,t),t=bu(e.stateNode,t,2),e=sr(e,t,2),e!==null&&(cl(e,2),Rn(e))}function He(e,t,n){if(e.tag===3)Dp(e,e,n);else for(;t!==null;){if(t.tag===3){Dp(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hr===null||!hr.has(a))){e=Zt(n,e),n=Nh(2),a=sr(t,n,2),a!==null&&(Uh(n,a,t,e),cl(a,2),Rn(a));break}}t=t.return}}function Pu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new tv;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(n)||(Nu=!0,o.add(n),e=iv.bind(null,e,t,n),t.then(e,e))}function iv(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Pe===e&&(ke&n)===n&&(tt===4||tt===3&&(ke&62914560)===ke&&300>yt()-ls?(De&2)===0&&Ua(e,0):Uu|=n,Da===ke&&(Da=0)),Rn(e)}function Np(e,t){t===0&&(t=kd()),e=Dr(e,t),e!==null&&(cl(e,t),Rn(e))}function sv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Np(e,n)}function ov(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Np(e,n)}function uv(e,t){return dn(e,t)}var fs=null,Ha=null,Iu=!1,hs=!1,Yu=!1,yr=0;function Rn(e){e!==Ha&&e.next===null&&(Ha===null?fs=Ha=e:Ha=Ha.next=e),hs=!0,Iu||(Iu=!0,dv())}function Pl(e,t){if(!Yu&&hs){Yu=!0;do for(var n=!1,a=fs;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var d=0;else{var m=a.suspendedLanes,b=a.pingedLanes;d=(1<<31-Ke(42|e)+1)-1,d&=o&~(m&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,$p(a,d))}else d=ke,d=mi(a,a===Pe?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||ul(a,d)||(n=!0,$p(a,d));a=a.next}while(n);Yu=!1}}function cv(){Up()}function Up(){hs=Iu=!1;var e=0;yr!==0&&Sv()&&(e=yr);for(var t=yt(),n=null,a=fs;a!==null;){var o=a.next,d=Lp(a,t);d===0?(a.next=null,n===null?fs=o:n.next=o,o===null&&(Ha=n)):(n=a,(e!==0||(d&3)!==0)&&(hs=!0)),a=o}dt!==0&&dt!==5||Pl(e),yr!==0&&(yr=0)}function Lp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Ke(d),b=1<<m,w=o[m];w===-1?((b&n)===0||(b&a)!==0)&&(o[m]=Uy(b,t)):w<=t&&(e.expiredLanes|=b),d&=~b}if(t=Pe,n=ke,n=mi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Qt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ul(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Qt(a),io(n)){case 2:case 8:n=Xe;break;case 32:n=ge;break;case 268435456:n=me;break;default:n=ge}return a=Hp.bind(null,e),n=dn(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Qt(a),e.callbackPriority=2,e.callbackNode=null,2}function Hp(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ds()&&e.callbackNode!==n)return null;var a=ke;return a=mi(e,e===Pe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xp(e,a,t),Lp(e,yt()),e.callbackNode!=null&&e.callbackNode===n?Hp.bind(null,e):null)}function $p(e,t){if(ds())return null;xp(e,t,!0)}function dv(){_v(function(){(De&6)!==0?dn(ve,cv):Up()})}function Ku(){if(yr===0){var e=Ca;e===0&&(e=jn,jn<<=1,(jn&261888)===0&&(jn=256)),yr=e}return yr}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Si(""+e)}function qp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fv(e,t,n,a,o){if(t==="submit"&&n&&n.stateNode===o){var d=Vp((o[Ot]||null).action),m=a.submitter;m&&(t=(t=m[Ot]||null)?Vp(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var b=new Ai("action","action",null,a,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(yr!==0){var w=m?qp(o,m):new FormData(o);hu(n,{pending:!0,data:w,method:o.method,action:d},null,w)}}else typeof d=="function"&&(b.preventDefault(),w=m?qp(o,m):new FormData(o),hu(n,{pending:!0,data:w,method:o.method,action:d},d,w))},currentTarget:o}]})}}for(var Ju=0;Ju<Ro.length;Ju++){var Qu=Ro[Ju],hv=Qu.toLowerCase(),pv=Qu[0].toUpperCase()+Qu.slice(1);pn(hv,"on"+pv)}pn(bf,"onAnimationEnd"),pn(xf,"onAnimationIteration"),pn(Sf,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Rm,"onTransitionRun"),pn(Om,"onTransitionStart"),pn(zm,"onTransitionCancel"),pn(wf,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Gp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var m=a.length-1;0<=m;m--){var b=a[m],w=b.instance,M=b.currentTarget;if(b=b.listener,w!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=M;try{d(o)}catch($){Ti($)}o.currentTarget=null,d=w}else for(m=0;m<a.length;m++){if(b=a[m],w=b.instance,M=b.currentTarget,b=b.listener,w!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=M;try{d(o)}catch($){Ti($)}o.currentTarget=null,d=w}}}}function Te(e,t){var n=t[so];n===void 0&&(n=t[so]=new Set);var a=e+"__bubble";n.has(a)||(Pp(t,e,2,!1),n.add(a))}function Wu(e,t,n){var a=0;t&&(a|=4),Pp(n,e,a,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[ps]){e[ps]=!0,Nd.forEach(function(n){n!=="selectionchange"&&(gv.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,Wu("selectionchange",!1,t))}}function Pp(e,t,n,a){switch(bg(t)){case 2:var o=Gv;break;case 8:o=Pv;break;default:o=fc}n=o.bind(null,t,n,e),o=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Fu(e,t,n,a,o){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var b=a.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=a.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=sa(b),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){a=d=m;continue e}b=b.parentNode}}a=a.return}Jd(function(){var M=d,$=go(n),I=[];e:{var B=_f.get(e);if(B!==void 0){var L=Ai,le=e;switch(e){case"keypress":if(_i(n)===0)break e;case"keydown":case"keyup":L=om;break;case"focusin":le="focus",L=So;break;case"focusout":le="blur",L=So;break;case"beforeblur":case"afterblur":L=So;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=dm;break;case bf:case xf:case Sf:L=Zy;break;case wf:L=hm;break;case"scroll":case"scrollend":L=Jy;break;case"wheel":L=gm;break;case"copy":case"cut":case"paste":L=tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Zd;break;case"toggle":case"beforetoggle":L=mm}var fe=(t&4)!==0,Ge=!fe&&(e==="scroll"||e==="scrollend"),R=fe?B!==null?B+"Capture":null:B;fe=[];for(var T=M,z;T!==null;){var G=T;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||R===null||(G=hl(T,R),G!=null&&fe.push(Yl(T,G,z))),Ge)break;T=T.return}0<fe.length&&(B=new L(B,le,null,n,$),I.push({event:B,listeners:fe}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",B&&n!==po&&(le=n.relatedTarget||n.fromElement)&&(sa(le)||le[ia]))break e;if((L||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,L?(le=n.relatedTarget||n.toElement,L=M,le=le?sa(le):null,le!==null&&(Ge=c(le),fe=le.tag,le!==Ge||fe!==5&&fe!==27&&fe!==6)&&(le=null)):(L=null,le=M),L!==le)){if(fe=Xd,G="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Zd,G="onPointerLeave",R="onPointerEnter",T="pointer"),Ge=L==null?B:fl(L),z=le==null?B:fl(le),B=new fe(G,T+"leave",L,n,$),B.target=Ge,B.relatedTarget=z,G=null,sa($)===M&&(fe=new fe(R,T+"enter",le,n,$),fe.target=z,fe.relatedTarget=Ge,G=fe),Ge=G,L&&le)t:{for(fe=yv,R=L,T=le,z=0,G=R;G;G=fe(G))z++;G=0;for(var de=T;de;de=fe(de))G++;for(;0<z-G;)R=fe(R),z--;for(;0<G-z;)T=fe(T),G--;for(;z--;){if(R===T||T!==null&&R===T.alternate){fe=R;break t}R=fe(R),T=fe(T)}fe=null}else fe=null;L!==null&&Ip(I,B,L,fe,!1),le!==null&&Ge!==null&&Ip(I,Ge,le,fe,!0)}}e:{if(B=M?fl(M):window,L=B.nodeName&&B.nodeName.toLowerCase(),L==="select"||L==="input"&&B.type==="file")var Me=of;else if(lf(B))if(uf)Me=Em;else{Me=Am;var se=Cm}else L=B.nodeName,!L||L.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&ho(M.elementType)&&(Me=of):Me=jm;if(Me&&(Me=Me(e,M))){sf(I,Me,n,$);break e}se&&se(e,B,M),e==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&fo(B,"number",B.value)}switch(se=M?fl(M):window,e){case"focusin":(lf(se)||se.contentEditable==="true")&&(ya=se,Eo=M,Sl=null);break;case"focusout":Sl=Eo=ya=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,mf(I,n,$);break;case"selectionchange":if(km)break;case"keydown":case"keyup":mf(I,n,$)}var Ae;if(_o)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ga?rf(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(ef&&n.locale!=="ko"&&(ga||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ga&&(Ae=Qd()):(er=$,vo="value"in er?er.value:er.textContent,ga=!0)),se=gs(M,Re),0<se.length&&(Re=new Fd(Re,e,null,n,$),I.push({event:Re,listeners:se}),Ae?Re.data=Ae:(Ae=af(n),Ae!==null&&(Re.data=Ae)))),(Ae=bm?xm(e,n):Sm(e,n))&&(Re=gs(M,"onBeforeInput"),0<Re.length&&(se=new Fd("onBeforeInput","beforeinput",null,n,$),I.push({event:se,listeners:Re}),se.data=Ae)),fv(I,e,M,n,$)}Gp(I,t)})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gs(e,t){for(var n=t+"Capture",a=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=hl(e,n),o!=null&&a.unshift(Yl(e,o,d)),o=hl(e,t),o!=null&&a.push(Yl(e,o,d))),e.tag===3)return a;e=e.return}return[]}function yv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ip(e,t,n,a,o){for(var d=t._reactName,m=[];n!==null&&n!==a;){var b=n,w=b.alternate,M=b.stateNode;if(b=b.tag,w!==null&&w===a)break;b!==5&&b!==26&&b!==27||M===null||(w=M,o?(M=hl(n,d),M!=null&&m.unshift(Yl(n,M,w))):o||(M=hl(n,d),M!=null&&m.push(Yl(n,M,w)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var mv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function Yp(e){return(typeof e=="string"?e:""+e).replace(mv,`
`).replace(vv,"")}function Kp(e,t){return t=Yp(t),Yp(e)===t}function qe(e,t,n,a,o,d){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||fa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&fa(e,""+a);break;case"className":bi(e,"class",a);break;case"tabIndex":bi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,n,a);break;case"style":Yd(e,a,d);break;case"data":if(t!=="object"){bi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Si(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&qe(e,t,"name",o.name,o,null),qe(e,t,"formEncType",o.formEncType,o,null),qe(e,t,"formMethod",o.formMethod,o,null),qe(e,t,"formTarget",o.formTarget,o,null)):(qe(e,t,"encType",o.encType,o,null),qe(e,t,"method",o.method,o,null),qe(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Si(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Bn);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Si(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),vi(e,"popover",a);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":vi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Yy.get(n)||n,vi(e,n,a))}}function Zu(e,t,n,a,o,d){switch(n){case"style":Yd(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?fa(e,a):(typeof a=="number"||typeof a=="bigint")&&fa(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ud.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[Ot]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof a=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,o);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):vi(e,n,a)}}}function _t(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var m=n[d];if(m!=null)switch(d){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:qe(e,t,d,m,n,null)}}o&&qe(e,t,"srcSet",n.srcSet,n,null),a&&qe(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var b=d=m=o=null,w=null,M=null;for(a in n)if(n.hasOwnProperty(a)){var $=n[a];if($!=null)switch(a){case"name":o=$;break;case"type":m=$;break;case"checked":w=$;break;case"defaultChecked":M=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:qe(e,t,a,$,n,null)}}qd(e,d,b,w,M,m,o,!1);return;case"select":Te("invalid",e),a=m=d=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":m=b;break;case"multiple":a=b;default:qe(e,t,o,b,n,null)}t=d,n=m,e.multiple=!!a,t!=null?da(e,!!a,t,!1):n!=null&&da(e,!!a,n,!0);return;case"textarea":Te("invalid",e),d=o=a=null;for(m in n)if(n.hasOwnProperty(m)&&(b=n[m],b!=null))switch(m){case"value":a=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:qe(e,t,m,b,n,null)}Pd(e,a,o,d);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(a=n[w],a!=null))switch(w){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:qe(e,t,w,a,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<Il.length;a++)Te(Il[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:qe(e,t,M,a,n,null)}return;default:if(ho(t)){for($ in n)n.hasOwnProperty($)&&(a=n[$],a!==void 0&&Zu(e,t,$,a,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(a=n[b],a!=null&&qe(e,t,b,a,n,null))}function bv(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,b=null,w=null,M=null,$=null;for(L in n){var I=n[L];if(n.hasOwnProperty(L)&&I!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=I;default:a.hasOwnProperty(L)||qe(e,t,L,null,a,I)}}for(var B in a){var L=a[B];if(I=n[B],a.hasOwnProperty(B)&&(L!=null||I!=null))switch(B){case"type":d=L;break;case"name":o=L;break;case"checked":M=L;break;case"defaultChecked":$=L;break;case"value":m=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:L!==I&&qe(e,t,B,L,a,I)}}co(e,m,b,w,M,$,d,o);return;case"select":L=m=b=B=null;for(d in n)if(w=n[d],n.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":L=w;default:a.hasOwnProperty(d)||qe(e,t,d,null,a,w)}for(o in a)if(d=a[o],w=n[o],a.hasOwnProperty(o)&&(d!=null||w!=null))switch(o){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":m=d;default:d!==w&&qe(e,t,o,d,a,w)}t=b,n=m,a=L,B!=null?da(e,!!n,B,!1):!!a!=!!n&&(t!=null?da(e,!!n,t,!0):da(e,!!n,n?[]:"",!1));return;case"textarea":L=B=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:qe(e,t,b,null,a,o)}for(m in a)if(o=a[m],d=n[m],a.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":B=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==d&&qe(e,t,m,o,a,d)}Gd(e,B,L);return;case"option":for(var le in n)if(B=n[le],n.hasOwnProperty(le)&&B!=null&&!a.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:qe(e,t,le,null,a,B)}for(w in a)if(B=a[w],L=n[w],a.hasOwnProperty(w)&&B!==L&&(B!=null||L!=null))switch(w){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:qe(e,t,w,B,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in n)B=n[fe],n.hasOwnProperty(fe)&&B!=null&&!a.hasOwnProperty(fe)&&qe(e,t,fe,null,a,B);for(M in a)if(B=a[M],L=n[M],a.hasOwnProperty(M)&&B!==L&&(B!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:qe(e,t,M,B,a,L)}return;default:if(ho(t)){for(var Ge in n)B=n[Ge],n.hasOwnProperty(Ge)&&B!==void 0&&!a.hasOwnProperty(Ge)&&Zu(e,t,Ge,void 0,a,B);for($ in a)B=a[$],L=n[$],!a.hasOwnProperty($)||B===L||B===void 0&&L===void 0||Zu(e,t,$,B,a,L);return}}for(var R in n)B=n[R],n.hasOwnProperty(R)&&B!=null&&!a.hasOwnProperty(R)&&qe(e,t,R,null,a,B);for(I in a)B=a[I],L=n[I],!a.hasOwnProperty(I)||B===L||B==null&&L==null||qe(e,t,I,B,a,L)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var o=n[a],d=o.transferSize,m=o.initiatorType,b=o.duration;if(d&&b&&Jp(m)){for(m=0,b=o.responseEnd,a+=1;a<n.length;a++){var w=n[a],M=w.startTime;if(M>b)break;var $=w.transferSize,I=w.initiatorType;$&&Jp(I)&&(w=w.responseEnd,m+=$*(w<b?1:(b-M)/(w-M)))}if(--a,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ec=null,tc=null;function ys(e){return e.nodeType===9?e:e.ownerDocument}function Qp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rc=null;function Sv(){var e=window.event;return e&&e.type==="popstate"?e===rc?!1:(rc=e,!0):(rc=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,_v=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(Cv)}:Xp;function Cv(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function Zp(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(o),Ga(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Kl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Kl(n);for(var d=n.firstChild;d;){var m=d.nextSibling,b=d.nodeName;d[dl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=m}}else n==="body"&&Kl(e.ownerDocument.body);n=o}while(n);Ga(t)}function eg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function ac(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ac(n),oo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Av(e,t,n,a){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[dl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=an(e.nextSibling),e===null)break}return null}function jv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=an(e.nextSibling),e===null))return null;return e}function tg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=an(e.nextSibling),e===null))return null;return e}function lc(e){return e.data==="$?"||e.data==="$~"}function ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ev(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var sc=null;function ng(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return an(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ag(e,t,n){switch(t=ys(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Kl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oo(e)}var ln=new Map,lg=new Set;function ms(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wn=K.d;K.d={f:Tv,r:kv,D:Rv,C:Ov,L:zv,m:Mv,X:Dv,S:Bv,M:Nv};function Tv(){var e=Wn.f(),t=os();return e||t}function kv(e){var t=oa(e);t!==null&&t.tag===5&&t.type==="form"?wh(t):Wn.r(e)}var $a=typeof document>"u"?null:document;function ig(e,t,n){var a=$a;if(a&&typeof t=="string"&&t){var o=Xt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),lg.has(o)||(lg.add(o),e={rel:e,crossOrigin:n,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),_t(t,"link",e),pt(t),a.head.appendChild(t)))}}function Rv(e){Wn.D(e),ig("dns-prefetch",e,null)}function Ov(e,t){Wn.C(e,t),ig("preconnect",e,t)}function zv(e,t,n){Wn.L(e,t,n);var a=$a;if(a&&e&&t){var o='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Xt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Xt(n.imageSizes)+'"]')):o+='[href="'+Xt(e)+'"]';var d=o;switch(t){case"style":d=Va(e);break;case"script":d=qa(e)}ln.has(d)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ln.set(d,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(Jl(d))||t==="script"&&a.querySelector(Ql(d))||(t=a.createElement("link"),_t(t,"link",e),pt(t),a.head.appendChild(t)))}}function Mv(e,t){Wn.m(e,t);var n=$a;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Xt(a)+'"][href="'+Xt(e)+'"]',d=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(e)}if(!ln.has(d)&&(e=S({rel:"modulepreload",href:e},t),ln.set(d,e),n.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ql(d)))return}a=n.createElement("link"),_t(a,"link",e),pt(a),n.head.appendChild(a)}}}function Bv(e,t,n){Wn.S(e,t,n);var a=$a;if(a&&e){var o=ua(a).hoistableStyles,d=Va(e);t=t||"default";var m=o.get(d);if(!m){var b={loading:0,preload:null};if(m=a.querySelector(Jl(d)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ln.get(d))&&oc(e,n);var w=m=a.createElement("link");pt(w),_t(w,"link",e),w._p=new Promise(function(M,$){w.onload=M,w.onerror=$}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vs(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(d,m)}}}function Dv(e,t){Wn.X(e,t);var n=$a;if(n&&e){var a=ua(n).hoistableScripts,o=qa(e),d=a.get(o);d||(d=n.querySelector(Ql(o)),d||(e=S({src:e,async:!0},t),(t=ln.get(o))&&uc(e,t),d=n.createElement("script"),pt(d),_t(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Nv(e,t){Wn.M(e,t);var n=$a;if(n&&e){var a=ua(n).hoistableScripts,o=qa(e),d=a.get(o);d||(d=n.querySelector(Ql(o)),d||(e=S({src:e,async:!0,type:"module"},t),(t=ln.get(o))&&uc(e,t),d=n.createElement("script"),pt(d),_t(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function sg(e,t,n,a){var o=(o=ee.current)?ms(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Va(n.href),n=ua(o).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Va(n.href);var d=ua(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(Jl(e)))&&!d._p&&(m.instance=d,m.state.loading=5),ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ln.set(e,n),d||Uv(o,e,n,m.state))),t&&a===null)throw Error(s(528,""));return m}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(n),n=ua(o).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+Xt(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function og(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Uv(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),_t(t,"link",n),pt(t),e.head.appendChild(t))}function qa(e){return'[src="'+Xt(e)+'"]'}function Ql(e){return"script[async]"+e}function ug(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Xt(n.href)+'"]');if(a)return t.instance=a,pt(a),a;var o=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),pt(a),_t(a,"style",o),vs(a,n.precedence,e),t.instance=a;case"stylesheet":o=Va(n.href);var d=e.querySelector(Jl(o));if(d)return t.state.loading|=4,t.instance=d,pt(d),d;a=og(n),(o=ln.get(o))&&oc(a,o),d=(e.ownerDocument||e).createElement("link"),pt(d);var m=d;return m._p=new Promise(function(b,w){m.onload=b,m.onerror=w}),_t(d,"link",a),t.state.loading|=4,vs(d,n.precedence,e),t.instance=d;case"script":return d=qa(n.src),(o=e.querySelector(Ql(d)))?(t.instance=o,pt(o),o):(a=n,(o=ln.get(d))&&(a=S({},n),uc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),pt(o),_t(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,vs(a,n.precedence,e));return t.instance}function vs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,d=o,m=0;m<a.length;m++){var b=a[m];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bs=null;function cg(e,t,n){if(bs===null){var a=new Map,o=bs=new Map;o.set(n,a)}else o=bs,a=o.get(n),a||(a=new Map,o.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[dl]||d[bt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var b=a.get(m);b?b.push(d):a.set(m,[d])}}return a}function dg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Lv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hv(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Va(a.href),d=t.querySelector(Jl(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,pt(d);return}d=t.ownerDocument||t,a=og(a),(o=ln.get(o))&&oc(a,o),d=d.createElement("link"),pt(d);var m=d;m._p=new Promise(function(b,w){m.onload=b,m.onerror=w}),_t(d,"link",a),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=xs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cc=0;function $v(e,t){return e.stylesheets&&e.count===0&&ws(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&cc===0&&(cc=62500*xv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>cc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function xs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ws(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ss=null;function ws(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ss=new Map,t.forEach(Vv,e),Ss=null,xs.call(e))}function Vv(e,t){if(!(t.state.loading&4)){var n=Ss.get(e);if(n)var a=n.get(null);else{n=new Map,Ss.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),a=m)}a&&n.set(null,a)}o=t.instance,m=o.getAttribute("data-precedence"),d=n.get(m)||a,d===a&&n.set(null,o),n.set(m,o),this.count++,a=xs.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Wl={$$typeof:P,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function qv(e,t,n,a,o,d,m,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function hg(e,t,n,a,o,d,m,b,w,M,$,I){return e=new qv(e,t,n,m,w,M,$,I,b),t=1,d===!0&&(t|=24),d=Vt(3,null,null,t),e.current=d,d.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:n,cache:t},Ko(d),e}function pg(e){return e?(e=ba,e):ba}function gg(e,t,n,a,o,d){o=pg(o),a.context===null?a.context=o:a.pendingContext=o,a=ir(t),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=sr(e,a,t),n!==null&&(Ut(n,e,t),Tl(n,e,t))}function yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dc(e,t){yg(e,t),(e=e.alternate)&&yg(e,t)}function mg(e){if(e.tag===13||e.tag===31){var t=Dr(e,67108864);t!==null&&Ut(t,e,67108864),dc(e,67108864)}}function vg(e){if(e.tag===13||e.tag===31){var t=Yt();t=lo(t);var n=Dr(e,t);n!==null&&Ut(n,e,t),dc(e,t)}}var _s=!0;function Gv(e,t,n,a){var o=D.T;D.T=null;var d=K.p;try{K.p=2,fc(e,t,n,a)}finally{K.p=d,D.T=o}}function Pv(e,t,n,a){var o=D.T;D.T=null;var d=K.p;try{K.p=8,fc(e,t,n,a)}finally{K.p=d,D.T=o}}function fc(e,t,n,a){if(_s){var o=hc(a);if(o===null)Fu(e,t,a,Cs,n),xg(e,a);else if(Yv(o,e,t,n,a))a.stopPropagation();else if(xg(e,a),t&4&&-1<Iv.indexOf(e)){for(;o!==null;){var d=oa(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=Rr(d.pendingLanes);if(m!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var w=1<<31-Ke(m);b.entanglements[1]|=w,m&=~w}Rn(d),(De&6)===0&&(is=yt()+500,Pl(0))}}break;case 31:case 13:b=Dr(d,2),b!==null&&Ut(b,d,2),os(),dc(d,2)}if(d=hc(a),d===null&&Fu(e,t,a,Cs,n),d===o)break;o=d}o!==null&&a.stopPropagation()}else Fu(e,t,a,null,n)}}function hc(e){return e=go(e),pc(e)}var Cs=null;function pc(e){if(Cs=null,e=sa(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cs=e,null}function bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case ve:return 2;case Xe:return 8;case ge:case An:return 32;case me:return 268435456;default:return 32}default:return 32}}var gc=!1,vr=null,br=null,xr=null,Xl=new Map,Fl=new Map,Sr=[],Iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xg(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(t.pointerId)}}function Zl(e,t,n,a,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[o]},t!==null&&(t=oa(t),t!==null&&mg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Yv(e,t,n,a,o){switch(t){case"focusin":return vr=Zl(vr,e,t,n,a,o),!0;case"dragenter":return br=Zl(br,e,t,n,a,o),!0;case"mouseover":return xr=Zl(xr,e,t,n,a,o),!0;case"pointerover":var d=o.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,e,t,n,a,o)),!0;case"gotpointercapture":return d=o.pointerId,Fl.set(d,Zl(Fl.get(d)||null,e,t,n,a,o)),!0}return!1}function Sg(e){var t=sa(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Bd(e.priority,function(){vg(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Bd(e.priority,function(){vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function As(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);po=a,n.target.dispatchEvent(a),po=null}else return t=oa(n),t!==null&&mg(t),e.blockedOn=n,!1;t.shift()}return!0}function wg(e,t,n){As(e)&&n.delete(t)}function Kv(){gc=!1,vr!==null&&As(vr)&&(vr=null),br!==null&&As(br)&&(br=null),xr!==null&&As(xr)&&(xr=null),Xl.forEach(wg),Fl.forEach(wg)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,gc||(gc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Kv)))}var Es=null;function _g(e){Es!==e&&(Es=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Es===e&&(Es=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(pc(a||n)===null)continue;break}var d=oa(n);d!==null&&(e.splice(t,3),t-=3,hu(d,{pending:!0,data:o,method:n.method,action:a},a,o))}}))}function Ga(e){function t(w){return js(w,e)}vr!==null&&js(vr,e),br!==null&&js(br,e),xr!==null&&js(xr,e),Xl.forEach(t),Fl.forEach(t);for(var n=0;n<Sr.length;n++){var a=Sr[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)Sg(n),n.blockedOn===null&&Sr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var o=n[a],d=n[a+1],m=o[Ot]||null;if(typeof d=="function")m||_g(n);else if(m){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[Ot]||null)b=m.formAction;else if(pc(o)!==null)continue}else b=m.action;typeof b=="function"?n[a+1]=b:(n.splice(a,3),a-=3),_g(n)}}}function Cg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function yc(e){this._internalRoot=e}Ts.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=Yt();gg(n,a,e,t,null,null)},Ts.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gg(e.current,2,null,e,null,null),os(),t[ia]=null}};function Ts(e){this._internalRoot=e}Ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=Md();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sr.length&&t!==0&&t<Sr[n].priority;n++);Sr.splice(n,0,e),n===0&&Sg(e)}};var Ag=r.version;if(Ag!=="19.2.0")throw Error(s(527,Ag,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Jv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{mt=ks.inject(Jv),Ue=ks}catch{}}return ti.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,a="",o=zh,d=Mh,m=Bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=hg(e,1,!1,null,null,n,a,null,o,d,m,Cg),e[ia]=t.current,Xu(e),new yc(t)},ti.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var a=!1,o="",d=zh,m=Mh,b=Bh,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=hg(e,1,!0,t,n??null,a,o,w,d,m,b,Cg),t.context=pg(null),n=t.current,a=Yt(),a=lo(a),o=ir(a),o.callback=null,sr(n,o,a),n=a,t.current.lanes=n,cl(t,n),Rn(t),e[ia]=t.current,Xu(e),new Ts(t)},ti.version="19.2.0",ti}var Ng;function ib(){if(Ng)return bc.exports;Ng=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),bc.exports=lb(),bc.exports}var sb=ib(),_c={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function ob(){if(Ug)return we;Ug=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=_&&v[_]||v["@@iterator"],typeof v=="function"?v:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function Y(v,C,H){this.props=v,this.context=C,this.refs=A,this.updater=H||k}Y.prototype.isReactComponent={},Y.prototype.setState=function(v,C){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,C,"setState")},Y.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=Y.prototype;function P(v,C,H){this.props=v,this.context=C,this.refs=A,this.updater=H||k}var W=P.prototype=new O;W.constructor=P,N(W,Y.prototype),W.isPureReactComponent=!0;var te=Array.isArray;function Q(){}var U={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function be(v,C,H){var V=H.ref;return{$$typeof:l,type:v,key:C,ref:V!==void 0?V:null,props:H}}function re(v,C){return be(v.type,C,v.props)}function X(v){return typeof v=="object"&&v!==null&&v.$$typeof===l}function ae(v){var C={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(H){return C[H]})}var he=/\/+/g;function xe(v,C){return typeof v=="object"&&v!==null&&v.key!=null?ae(""+v.key):C.toString(36)}function ue(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(Q,Q):(v.status="pending",v.then(function(C){v.status==="pending"&&(v.status="fulfilled",v.value=C)},function(C){v.status==="pending"&&(v.status="rejected",v.reason=C)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function D(v,C,H,V,F){var ee=typeof v;(ee==="undefined"||ee==="boolean")&&(v=null);var ie=!1;if(v===null)ie=!0;else switch(ee){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(v.$$typeof){case l:case r:ie=!0;break;case x:return ie=v._init,D(ie(v._payload),C,H,V,F)}}if(ie)return F=F(v),ie=V===""?"."+xe(v,0):V,te(F)?(H="",ie!=null&&(H=ie.replace(he,"$&/")+"/"),D(F,C,H,"",function(kt){return kt})):F!=null&&(X(F)&&(F=re(F,H+(F.key==null||v&&v.key===F.key?"":(""+F.key).replace(he,"$&/")+"/")+ie)),C.push(F)),1;ie=0;var je=V===""?".":V+":";if(te(v))for(var _e=0;_e<v.length;_e++)V=v[_e],ee=je+xe(V,_e),ie+=D(V,C,H,ee,F);else if(_e=E(v),typeof _e=="function")for(v=_e.call(v),_e=0;!(V=v.next()).done;)V=V.value,ee=je+xe(V,_e++),ie+=D(V,C,H,ee,F);else if(ee==="object"){if(typeof v.then=="function")return D(ue(v),C,H,V,F);throw C=String(v),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ie}function K(v,C,H){if(v==null)return v;var V=[],F=0;return D(v,V,"","",function(ee){return C.call(H,ee,F++)}),V}function ne(v){if(v._status===-1){var C=v._result;C=C(),C.then(function(H){(v._status===0||v._status===-1)&&(v._status=1,v._result=H)},function(H){(v._status===0||v._status===-1)&&(v._status=2,v._result=H)}),v._status===-1&&(v._status=0,v._result=C)}if(v._status===1)return v._result.default;throw v._result}var J=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},Z={map:K,forEach:function(v,C,H){K(v,function(){C.apply(this,arguments)},H)},count:function(v){var C=0;return K(v,function(){C++}),C},toArray:function(v){return K(v,function(C){return C})||[]},only:function(v){if(!X(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return we.Activity=S,we.Children=Z,we.Component=Y,we.Fragment=i,we.Profiler=u,we.PureComponent=P,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,we.__COMPILER_RUNTIME={__proto__:null,c:function(v){return U.H.useMemoCache(v)}},we.cache=function(v){return function(){return v.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(v,C,H){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var V=N({},v.props),F=v.key;if(C!=null)for(ee in C.key!==void 0&&(F=""+C.key),C)!pe.call(C,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&C.ref===void 0||(V[ee]=C[ee]);var ee=arguments.length-2;if(ee===1)V.children=H;else if(1<ee){for(var ie=Array(ee),je=0;je<ee;je++)ie[je]=arguments[je+2];V.children=ie}return be(v.type,F,V)},we.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:c,_context:v},v},we.createElement=function(v,C,H){var V,F={},ee=null;if(C!=null)for(V in C.key!==void 0&&(ee=""+C.key),C)pe.call(C,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(F[V]=C[V]);var ie=arguments.length-2;if(ie===1)F.children=H;else if(1<ie){for(var je=Array(ie),_e=0;_e<ie;_e++)je[_e]=arguments[_e+2];F.children=je}if(v&&v.defaultProps)for(V in ie=v.defaultProps,ie)F[V]===void 0&&(F[V]=ie[V]);return be(v,ee,F)},we.createRef=function(){return{current:null}},we.forwardRef=function(v){return{$$typeof:p,render:v}},we.isValidElement=X,we.lazy=function(v){return{$$typeof:x,_payload:{_status:-1,_result:v},_init:ne}},we.memo=function(v,C){return{$$typeof:y,type:v,compare:C===void 0?null:C}},we.startTransition=function(v){var C=U.T,H={};U.T=H;try{var V=v(),F=U.S;F!==null&&F(H,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Q,J)}catch(ee){J(ee)}finally{C!==null&&H.types!==null&&(C.types=H.types),U.T=C}},we.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},we.use=function(v){return U.H.use(v)},we.useActionState=function(v,C,H){return U.H.useActionState(v,C,H)},we.useCallback=function(v,C){return U.H.useCallback(v,C)},we.useContext=function(v){return U.H.useContext(v)},we.useDebugValue=function(){},we.useDeferredValue=function(v,C){return U.H.useDeferredValue(v,C)},we.useEffect=function(v,C){return U.H.useEffect(v,C)},we.useEffectEvent=function(v){return U.H.useEffectEvent(v)},we.useId=function(){return U.H.useId()},we.useImperativeHandle=function(v,C,H){return U.H.useImperativeHandle(v,C,H)},we.useInsertionEffect=function(v,C){return U.H.useInsertionEffect(v,C)},we.useLayoutEffect=function(v,C){return U.H.useLayoutEffect(v,C)},we.useMemo=function(v,C){return U.H.useMemo(v,C)},we.useOptimistic=function(v,C){return U.H.useOptimistic(v,C)},we.useReducer=function(v,C,H){return U.H.useReducer(v,C,H)},we.useRef=function(v){return U.H.useRef(v)},we.useState=function(v){return U.H.useState(v)},we.useSyncExternalStore=function(v,C,H){return U.H.useSyncExternalStore(v,C,H)},we.useTransition=function(){return U.H.useTransition()},we.version="19.2.0",we}var Lg;function ub(){return Lg||(Lg=1,_c.exports=ob()),_c.exports}var si=ub();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),db=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,s)=>s?s.toUpperCase():i.toLowerCase()),Hg=l=>{const r=db(l);return r.charAt(0).toUpperCase()+r.slice(1)},k0=(...l)=>l.filter((r,i,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===i).join(" ").trim(),fb=l=>{for(const r in l)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=si.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:c,iconNode:h,...p},g)=>si.createElement("svg",{ref:g,...hb,width:r,height:r,stroke:l,strokeWidth:s?Number(i)*24/Number(r):i,className:k0("lucide",u),...!c&&!fb(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>si.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(l,r)=>{const i=si.forwardRef(({className:s,...u},c)=>si.createElement(pb,{ref:c,iconNode:r,className:k0(`lucide-${cb(Hg(l))}`,`lucide-${l}`,s),...u}));return i.displayName=Hg(l),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yb=ze("arrow-down",gb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jr=ze("arrow-left",mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cd=ze("arrow-right",vb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xb=ze("arrow-up",bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],wb=ze("bot",Sb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Cb=ze("brain-circuit",_b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rs=ze("chevron-down",Ab);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Os=ze("chevron-up",jb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dd=ze("circle-check-big",Eb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kb=ze("circle-question-mark",Tb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],R0=ze("circle-x",Rb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pc=ze("clock",Ob);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],nl=ze("dumbbell",zb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rl=ze("eye",Mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],fd=ze("flame",Bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],eo=ze("footprints",Db);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ic=ze("gamepad-2",Nb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],$g=ze("graduation-cap",Ub);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hb=ze("info",Lb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Vb=ze("layers",$b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gb=ze("log-out",qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yc=ze("lock",Pb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yb=ze("play",Ib);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],hd=ze("refresh-ccw",Kb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qb=ze("refresh-cw",Jb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xb=ze("save",Wb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],O0=ze("skull",Fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],z0=ze("square-pen",Zb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cr=ze("star",e1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kc=ze("target",t1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],M0=ze("trending-up",n1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],a1=ze("trophy",r1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],B0=ze("user",l1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pd=ze("x",i1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pi=ze("zap",s1),D0=l=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",...l},j.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},j.createElement("path",{d:"M1853 5109 c-78 -13 -178 -54 -253 -104 -90 -60 -198 -176 -243 -263 -33 -62 -40 -70 -79 -81 -136 -40 -285 -169 -351 -302 -43 -88 -67 -186 -67 -279 l0 -65 -48 -27 c-148 -84 -276 -259 -328 -449 -27 -99 -25 -274 4 -367 l23 -73 -65 -69 c-111 -118 -186 -305 -186 -463 0 -124 44 -289 105 -393 l25 -43 -30 -49 c-69 -112 -108 -282 -96 -413 12 -132 78 -290 162 -387 l37 -43 2 -122 c2 -95 7 -138 25 -192 69 -215 201 -370 393 -461 75 -35 185 -64 249 -64 33 0 41 -5 69 -47 101 -151 277 -276 458 -325 111 -30 288 -30 394 0 194 55 373 188 470 349 18 29 34 52 37 52 3 0 19 -23 37 -52 97 -161 276 -294 470 -349 106 -30 283 -30 394 0 181 49 357 174 458 325 28 42 36 47 69 47 69 0 177 30 260 70 184 91 316 249 382 455 18 55 23 97 25 191 l1 122 38 43 c52 61 104 156 134 247 21 64 26 96 26 192 0 138 -17 210 -78 331 l-43 86 23 39 c58 95 103 263 104 387 1 160 -74 348 -186 467 l-65 69 23 73 c29 93 31 268 4 367 -52 190 -180 365 -328 449 l-48 27 0 65 c0 93 -24 191 -67 279 -66 132 -217 262 -351 302 -39 11 -46 19 -79 81 -107 203 -340 358 -563 374 -238 17 -464 -102 -622 -326 l-18 -25 -17 25 c-174 245 -428 363 -690 319z m208 -203 c139 -32 282 -152 343 -287 54 -117 56 -140 56 -591 0 -230 -2 -418 -4 -418 -2 0 -25 10 -52 22 -34 15 -70 22 -117 22 -65 1 -70 -1 -98 -32 -61 -68 -21 -144 86 -163 71 -12 115 -39 153 -93 l27 -39 3 -985 2 -985 -64 60 c-112 105 -232 165 -396 199 -114 23 -176 16 -212 -25 -36 -41 -37 -81 0 -122 24 -27 36 -31 107 -40 173 -21 294 -78 400 -191 202 -214 218 -534 40 -783 -78 -110 -176 -183 -305 -227 -94 -33 -247 -32 -349 1 -144 47 -260 143 -343 284 -23 37 -50 73 -61 78 -10 6 -65 12 -121 13 -110 3 -153 15 -242 72 -175 110 -278 332 -246 528 7 40 9 81 6 92 -4 10 -34 48 -66 83 -105 115 -156 250 -145 386 5 69 34 163 61 200 13 18 16 17 74 -22 104 -69 240 -113 356 -113 30 0 45 7 72 34 46 46 46 86 2 130 -28 28 -42 34 -98 39 -220 20 -400 184 -455 415 -45 187 27 386 185 509 93 72 95 88 35 232 -80 192 -13 433 163 584 213 181 495 146 684 -84 64 -78 118 -222 118 -316 0 -55 39 -101 91 -109 31 -5 42 -1 70 24 34 30 34 31 33 114 -1 140 -60 294 -159 420 -134 171 -359 278 -559 265 l-78 -5 6 50 c43 321 403 465 654 261 69 -56 121 -61 166 -16 19 19 26 36 26 66 0 36 -6 47 -54 93 -57 55 -165 114 -248 135 -27 6 -48 16 -48 21 0 19 136 144 186 170 102 55 208 70 315 44z m1204 -1 c32 -9 81 -28 109 -43 50 -26 186 -151 186 -170 0 -5 -21 -15 -47 -21 -84 -21 -192 -80 -249 -135 -48 -46 -54 -57 -54 -93 0 -30 7 -47 26 -66 45 -45 97 -40 166 16 61 49 115 74 192 88 206 38 411 -101 455 -309 20 -94 22 -91 -66 -85 -354 23 -690 -291 -719 -671 -7 -81 -6 -83 22 -115 42 -46 91 -52 133 -15 28 26 33 38 42 104 25 205 122 354 290 444 166 90 360 67 508 -59 179 -153 247 -393 166 -586 -60 -144 -58 -160 35 -232 158 -123 230 -322 185 -509 -34 -143 -121 -267 -239 -343 -65 -41 -122 -61 -217 -74 -63 -8 -78 -14 -101 -41 -35 -39 -36 -79 -2 -119 32 -39 74 -46 169 -32 91 13 188 51 267 104 70 47 72 46 109 -52 64 -170 18 -362 -123 -516 -69 -75 -68 -70 -53 -215 17 -172 -68 -351 -221 -464 -92 -69 -151 -89 -270 -92 -56 -1 -111 -7 -121 -13 -11 -5 -38 -41 -61 -78 -83 -141 -199 -237 -343 -284 -102 -33 -255 -34 -349 -1 -212 73 -363 244 -414 469 -73 323 136 650 459 718 39 8 89 15 112 15 62 0 108 42 108 100 0 35 -6 47 -33 71 -39 35 -90 38 -209 13 -159 -32 -279 -93 -389 -197 l-64 -60 2 985 3 984 25 37 c37 54 88 87 150 94 74 9 115 45 115 103 0 35 -6 47 -34 72 -33 29 -37 30 -98 25 -35 -4 -84 -15 -110 -27 -25 -11 -47 -20 -49 -20 -2 0 -4 188 -4 418 0 345 3 428 15 477 42 160 127 274 264 352 107 61 214 77 326 48z"}),j.createElement("path",{d:"M2024 4280 c-32 -13 -64 -59 -64 -91 0 -40 46 -88 91 -95 31 -5 42 -1 70 24 28 25 34 37 34 72 0 35 -6 47 -33 71 -33 29 -60 35 -98 19z"}),j.createElement("path",{d:"M1125 3451 c-11 -5 -28 -18 -39 -29 -46 -52 -24 -222 50 -372 85 -172 260 -317 437 -363 33 -9 61 -18 64 -21 10 -9 -9 -47 -47 -95 -46 -59 -117 -96 -210 -110 -81 -13 -115 -42 -115 -100 0 -49 33 -88 81 -97 46 -8 167 18 239 52 111 53 216 180 255 310 12 40 13 41 84 57 89 21 216 83 278 137 70 60 75 123 14 172 -38 31 -80 23 -161 -33 -90 -61 -166 -89 -260 -96 -278 -20 -535 215 -535 488 0 33 -7 48 -34 75 -34 34 -61 41 -101 25z"}),j.createElement("path",{d:"M1860 2023 c-252 -27 -503 -179 -646 -392 -35 -52 -44 -74 -44 -109 0 -56 35 -92 89 -92 47 0 72 18 120 88 65 97 169 186 273 236 105 50 155 63 265 73 64 5 81 11 107 34 25 22 31 35 31 69 0 35 -6 47 -33 71 -33 30 -58 33 -162 22z"}),j.createElement("path",{d:"M1125 1221 c-91 -38 -74 -171 24 -186 132 -21 164 -30 223 -63 144 -81 230 -194 273 -357 8 -32 15 -78 15 -102 0 -55 39 -101 91 -109 31 -5 42 -1 70 24 34 30 34 31 33 114 -2 189 -105 395 -263 527 -135 112 -373 189 -466 152z"}),j.createElement("path",{d:"M3024 4280 c-32 -13 -64 -59 -64 -91 0 -40 46 -88 91 -95 31 -5 42 -1 70 24 28 25 34 37 34 72 0 35 -6 47 -33 71 -33 29 -60 35 -98 19z"}),j.createElement("path",{d:"M3924 3450 c-37 -15 -64 -59 -64 -104 0 -109 -63 -251 -151 -338 -67 -68 -172 -122 -268 -140 -123 -23 -274 17 -398 105 -57 41 -104 48 -139 19 -61 -49 -56 -112 14 -172 62 -54 189 -116 280 -137 72 -17 72 -18 83 -57 47 -174 197 -313 379 -352 98 -21 125 -18 162 15 27 24 33 36 33 70 0 61 -35 92 -117 103 -89 12 -161 50 -208 109 -38 48 -57 86 -47 95 3 3 31 12 64 21 177 46 352 191 437 363 51 105 82 233 73 309 -8 75 -70 117 -133 91z"}),j.createElement("path",{d:"M3124 2021 c-32 -14 -64 -60 -64 -92 0 -17 11 -41 28 -59 25 -28 36 -32 132 -45 58 -7 128 -21 155 -30 141 -48 284 -156 366 -277 48 -70 73 -88 120 -88 54 0 89 36 89 92 0 35 -9 57 -45 110 -119 178 -317 317 -523 368 -92 22 -229 33 -258 21z"}),j.createElement("path",{d:"M3820 1214 c-86 -18 -216 -83 -291 -145 -152 -127 -250 -317 -265 -513 -7 -81 -6 -83 22 -115 42 -46 91 -52 133 -15 28 26 33 38 42 104 19 157 77 273 184 372 74 70 214 127 307 128 57 0 103 45 103 100 0 35 -6 47 -33 71 -27 25 -40 29 -85 28 -28 0 -81 -7 -117 -15z"}))),q={bg:"linear-gradient(145deg, #201d55ff 0%, #161146ff 100%)",surface:"rgba(30, 41, 59, 0.5)",text:"#f1f5f9",subtext:"#a8b2d1",accentPink:"#f472b6",accentViolet:"#a78bfa",accentCyan:"#67e8f9",accentBlue:"#5C6CFF",easyGreen:"#34D399",normalYellow:"#FBBF24",hardRed:"#F87171",playBtnFrom:"#5b21b6",playBtnTo:"#7e22ce",borderColor:"rgba(255,255,255,0.1)",shadow:"0 10px 30px rgba(0,0,0,0.45)"},o1="/MazeMind-TFG/assets/bg-CWbwpWtr.mp3",u1="/MazeMind-TFG/assets/tick-BauwulXa.mp3",c1="/MazeMind-TFG/assets/tick_final-BTyZbypb.mp3",d1="/MazeMind-TFG/assets/start-CBlbqM98.mp3",f1="/MazeMind-TFG/assets/thud-CRrKTc_2.mp3",h1="data:audio/mpeg;base64,//uQyAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAIAAAJrQBNTU1NTU1NTU1NTU1ubm5ubm5ubm5ubm6VlZWVlZWVlZWVlZWVtbW1tbW1tbW1tbW11dXV1dXV1dXV1dXV1ebm5ubm5ubm5ubm5vPz8/Pz8/Pz8/Pz8/P///////////////8AAABOTEFNRTMuOThyA7oAAAAAAAAAAPQgJAfhQQAB4AAACa2B7zefAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uwyAAACthxTnWEAAaowiV3P+AAIAJcuUDTHSHTHWO/cEIYGIhzicWmcKC7E3/jcvtoiSLg3AXBufX/82iECgoYnoifwiC54Pv/rB8HwcBAEAQd/UCAPg+D8o7/BAEDnwTB/8/8oCAIHP+ngcDgcDgcDgcCgQAgAAxoUtcMxTQGBGAmGAgg2o4AMmAIAZh5MZPMchC41GHyFP5iDQH+YWMSOGGeghZlUJBAY+SQZGBOADYOAGgEBFK0mWwrGaoHT5f8wLhYQCBUYbgrRs5o3GEOAoDhFTC7AzLgslMIEAqs3UwLAczCzKEMsFWsygh6WtmAmAWYZoFSB7WjBCAaMGcAJ+TBtDwMRsSAw8xujLIIwMgEJS/SCEBkiC+L1beAQACmB2ABKQgDpaQ6B2YCgZRkvCMmDsCTM31VDAQBCa3J9RIEATAIC2gtgYBlG4Qg8GEQFuYGQBrj1sG6AwCoDADSqVRTxAAYnbFPmFVy8hgYBMGAuAmDQBi5QJAOAoFY8GKjkDACkfamqrnAYBVmulTzmdZwAwAiM95zJrI0Bcg6mK6TDhUAIvlLsWlpBxax2A1B0wcdtwRpm6tinUBu8+k+ZVXVkfV/X1kafbq71bexdXVA2a0t245DlSLVNDDSbl9aEvs6mFyQN9z3cdam1qXXYjF2zf//////////////9mUQzGv///////////////7rjS6+gAAAAAAKku9avjKZQ6wFaGh2mmIlkkWl/Zbx//9z4AXBRstf////DT5wGVGt////fcNmYXtt///+kSG3T1r///4b+PAbFFGt//83u/ncHJhe23/6avuHaK+3Wv//+2DILgBTHZtRvaeAClC0afG4mbjxmG/3AgwpH1v/ulLw9wIdJ4MW28U/pA1EjzPt1rX3vfFM7raR9vPpApS0SW0GSesXGMYpTN6SZ1C3Bqo1QAAwACLqzW7klTeM2jjfxxdb/rtgefw6o0mBGhHCliJL/qJgcgWEgTGzfpk2RMnCLG36mJsnyMJUni8bf/22BYUAVbOf45MmDjwgJOJJT/lkCCBMxMiRI7n2Iw844sjMzm+2IStEls1uQ0GYmegk5EjMGWnphZxeHTkve+HRSIwlWZU2myk4SNpyzXtPoRcJzGrWrOAAMAAACnLvGY1zs4FSs9NcBQtK7cVj1Szc/5sLAAL/+3DID4ASJZtNrajRChUwqb24GXkCU1bD/uJADAFMEEx/0FQaiFOVvzyYEJCSM//9z1hBMBEq//7kCxwSUSW/9+MJlFovla+tDoJqJJVWv+xA1IjBIibDP4QPLhJzZhu56SCaJyT28+7KmjtRl3l7xMw+CTmmnHQg6SC5LRgqmhGy6ltlRAfAAAAAAAAAuSbyqZ/+GEzI1Mr1y5TUpa6IZHAlEGPt9blETsTxt+tMmyHE8Xr+tMvmYSRn//wZiwCEkc//hAskaRJJP78OTLgkSS3P+YpNE4lVdoiHo1pme0Rlu2zM4za2XlPM1btE1J2HHVviLdnljqZl6q403CjS3pp3KbXLeqmNEGxUdQE5Jd+8vzrLjSJcwQDZJL6epb3/0KgYOCYte////qOG3Z+u5//4BAkGSf/9//tgyBYBD+V/SG2YdUoNpCfdtRnh7cBhiT7n/exAlJq3PzCBwSAiRJJ+8EFE1EiRJ+93ZRcAQCU/RTY1XPKk5Cj83QnlRjlpvCNYqqqQnQmqqpG9ljVbbYrLGzNyIyNVEsIaq5YtcwTAAE3NdTS2XOKYKRnpxBEjNRn69yZs/EwaGhAa8qK3KhLAJEY9+o/C4FsWUf4MIgwVv/8GBBMAhKLdogEIgxIlP8eEE0Xytz8w02Dq+fwtBI0ijjO9lGsSqqbnrQSIosxzSmYXCW1WZdKWFgqBOQmCqOzooqiJkDYGPQhNma2HzXXKXZVAAAMPKS3X/45c6WLV6wm/+GZYWU+gVSgk//tgyAyADm0VSayox6m8Iuf9NJodj8a/YwSdlf/wCApqNf/sYcWRbf/zziyKq/uCziyKLd4QLOPIkc2Ggs6yKM/tD1ZptW+w7eapZ+mFlWSSSSPdiyoSSCg+mYKoTkJgqhPVECqNcm/9c//+r9/9QAAAAwJIrbtvhdEgQHgInckD7eTInYPnHYX+suAYTXn+WuNEzX+V5iA/BF67QQHgFX/aMWChOz/BaQBIkkn/PONya17souDUW22i0CJFHNbLURRlGGncnG6OXsm5SWluVL5SQ0MrRJgr9DfttjoragASoSldZAxrR0lDHZWCQ6M1l2mAF8Wmr8wHqOYxb1GI9SVV+UCg//sgyBMACgC/LU00x+j4EGR08KWEFX/ewIWExv7niBzEt+9MgAiSX9/cOS3PcrI5Tzt5Rsmm9qiiv1C1l9X7AATKV1mzYAFoK8HeS0sL7OPdsJ070/8LEz4Nf9pxE3kspsUmdv+MBSIWbuO5N6eePcmQotbHtyRGpR5S2hQgF2qAAP/7EMgCg0JIDSTgBEAgOo3dTAAIvRGAt//oBV1ueYKhRHql1Gioik6LZ/KYKDp/tNVMQU1FMy45OC4yVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQyBuDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",p1="/MazeMind-TFG/assets/reveal-CGSCSWDT.mp3",g1="/MazeMind-TFG/assets/toggle_on-BHTAYZGm.mp3",y1="/MazeMind-TFG/assets/toggle_off-Mx7awV3T.mp3",m1="/MazeMind-TFG/assets/win-wz0UrQrh.wav",v1="/MazeMind-TFG/assets/fail-BxnXAJS1.mp3",b1="/MazeMind-TFG/assets/play-mK8qUHIr.wav",x1="/MazeMind-TFG/assets/slide2-DqiafzHX.wav",S1="/MazeMind-TFG/assets/hover2-Cp587VMP.mp3",Jc="mazeMindSettings",Cc={backgroundColor:q.bg,textColor:q.text,subtextColor:q.subtext,surfaceColor:q.surface,borderColor:q.borderColor,accentColor1:q.playBtnFrom,accentColor2:q.playBtnTo,easyColor:q.easyGreen,normalColor:q.normalYellow,hardColor:q.hardRed,mazePathColor:"#EEF2FF",mazeWallColor:"#3B82F6",mazePlayerColor:"#111",mazeExitColor:"#F59E0B",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#E11D48"},Vg={visuals:{home:{...Cc},levelSelect:{...Cc},levelScreen:{...Cc}},game:{soundEffects:!0,backgroundMusic:!0,keyMoveUp:"w",keyMoveDown:"s",keyMoveLeft:"a",keyMoveRight:"d",keyHelpReveal:"h",keyHelpPath:"j",keyHelpCrash:"k"}},qg={"Per Defecte":{backgroundColor:q.bg,textColor:q.text,subtextColor:q.subtext,surfaceColor:q.surface,borderColor:q.borderColor,accentColor1:q.playBtnFrom,accentColor2:q.playBtnTo,easyColor:q.easyGreen,normalColor:q.normalYellow,hardColor:q.hardRed,mazePathColor:"#EEF2FF",mazeWallColor:"#3B82F6",mazePlayerColor:"#111",mazeExitColor:"#F59E0B",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#E11D48"},Fosc:{backgroundColor:"radial-gradient(1200px 600px at 20% 0%, rgba(86,180,233,0.12), transparent 60%), linear-gradient(145deg, #0B1021 0%, #141A32 100%)",textColor:"#FFFFFF",subtextColor:"rgba(255,255,255,0.85)",surfaceColor:"#131A33",borderColor:"rgba(255,255,255,0.18)",accentColor1:"#56B4E9",accentColor2:"#0072B2",easyColor:"#34D399",normalColor:"#FBBF24",hardColor:"#F87171",mazePathColor:"#EEF2FF",mazeWallColor:"#2D6CDF",mazePlayerColor:"#0B1021",mazeExitColor:"#F0B429",mazeWallThickness:3,playerPathColor:"#22D3EE",crashHelpColor:"#E11D48"},Clar:{backgroundColor:"linear-gradient(180deg, #F7FAFF 0%, #EAF1FF 100%)",textColor:"#0B1021",subtextColor:"#334155",surfaceColor:"#FFFFFF",borderColor:"rgba(2,6,23,0.12)",accentColor1:"#4C6FFF",accentColor2:"#CC79A7",easyColor:"#22C55E",normalColor:"#F59E0B",hardColor:"#EF4444",mazePathColor:"#FFFFFF",mazeWallColor:"#2F3A8A",mazePlayerColor:"#0B1021",mazeExitColor:"#D55E00",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#EF4444"},"Alt Contrast":{backgroundColor:"#000000",textColor:"#FFFFFF",subtextColor:"#FFFFFF",surfaceColor:"#000000",borderColor:"#FFFFFF",accentColor1:"#2563eb",accentColor2:"#2563eb",easyColor:"#39FF14",normalColor:"#FFFF00",hardColor:"#FF3131",mazePathColor:"#383838ff",mazeWallColor:"#FFFFFF",mazePlayerColor:"#2563eb",mazeExitColor:"#2563eb",mazeWallThickness:4,playerPathColor:"#39FF14",crashHelpColor:"#FF3131"}};function w1(){try{const l=localStorage.getItem(Jc);if(l){const r=JSON.parse(l);return U0(Vg,r)}}catch(l){console.error("Error al carregar configuraci:",l),localStorage.removeItem(Jc)}return N0(Vg)}function _1(l){try{localStorage.setItem(Jc,JSON.stringify(l))}catch(r){console.error("Error al guardar configuraci:",r)}}function N0(l){return JSON.parse(JSON.stringify(l))}function Ac(l){return l&&typeof l=="object"&&!Array.isArray(l)}function U0(l,r){const i=N0(l);return Ac(l)&&Ac(r)&&Object.keys(r).forEach(s=>{Ac(r[s])?s in l?i[s]=U0(l[s],r[s]):Object.assign(i,{[s]:r[s]}):Object.assign(i,{[s]:r[s]})}),i}const L0=j.createContext(void 0),C1=({children:l})=>{const[r,i]=j.useState(()=>w1()),s=j.useCallback(c=>{i(c),_1(c)},[]),u=j.useCallback(c=>r.visuals[c]||r.visuals.home,[r]);return f.jsx(L0.Provider,{value:{settings:r,updateSettings:s,getVisualSettings:u},children:l})},At=()=>{const l=j.useContext(L0);if(l===void 0)throw new Error("useSettings must be used within a SettingsProvider");return l},Gg={music:{src:o1,loop:!0,volume:.5},tick:{src:u1,volume:.7},tickFinal:{src:c1,volume:.8},start:{src:d1,volume:.7},crash:{src:f1,volume:.7},starLoss:{src:h1,volume:.7},reveal:{src:p1,volume:.7},toggleOn:{src:g1,volume:.7},toggleOff:{src:y1,volume:.7},win:{src:m1,volume:.8},fail:{src:v1,volume:.7},playBtn:{src:b1,volume:.7},slide:{src:x1,volume:.8},hover:{src:S1,volume:.5}},Jr=l=>{l&&(l.currentTime=0,l.play().catch(r=>console.error("Error en reproduir udio:",r)))},Pa=l=>{if(!l)return;const r=l.cloneNode(!0);r.volume=l.volume,r.play().catch(i=>console.error("Error en reproduir udio:",i))},on=()=>{const{settings:l}=At(),{soundEffects:r,backgroundMusic:i}=l.game,s=j.useMemo(()=>{if(typeof window>"u")return new Map;const u=new Map;for(const c in Gg){const h=c,p=Gg[h],g=new Audio(p.src);g.loop=!!p.loop,g.volume=p.volume??1,g.preload="auto",g.load(),u.set(h,g)}return u},[]);return{playTick:j.useCallback(()=>{r&&Jr(s.get("tick"))},[s,r]),playTickFinal:j.useCallback(()=>{r&&Jr(s.get("tickFinal"))},[s,r]),playStart:j.useCallback(()=>{r&&Jr(s.get("start"))},[s,r]),playCrash:j.useCallback(()=>{r&&Jr(s.get("crash"))},[s,r]),playStarLoss:j.useCallback(()=>{r&&Jr(s.get("starLoss"))},[s,r]),playReveal:j.useCallback(()=>{r&&Jr(s.get("reveal"))},[s,r]),playToggleOn:j.useCallback(()=>{r&&Pa(s.get("toggleOn"))},[s,r]),playToggleOff:j.useCallback(()=>{r&&Pa(s.get("toggleOff"))},[s,r]),playWin:j.useCallback(()=>{r&&Jr(s.get("win"))},[s,r]),playFail:j.useCallback(()=>{r&&Pa(s.get("fail"))},[s,r]),playBtnSound:j.useCallback(()=>{r&&Pa(s.get("playBtn"))},[s,r]),playSlide:j.useCallback(()=>{r&&Pa(s.get("slide"))},[s,r]),playHover:j.useCallback(()=>{r&&Pa(s.get("hover"))},[s,r]),startMusic:j.useCallback(()=>{if(!i){const c=s.get("music");c&&(c.pause(),c.currentTime=0);return}const u=s.get("music");u&&u.play().catch(c=>{console.error("Error al reproduir msica:",c);const h=()=>{u.play().catch(()=>{}),window.removeEventListener("pointerdown",h),window.removeEventListener("keydown",h)};window.addEventListener("pointerdown",h,{once:!0}),window.addEventListener("keydown",h,{once:!0})})},[s,i]),stopMusic:j.useCallback(()=>{const u=s.get("music");u&&(u.pause(),u.currentTime=0)},[s])}},Qc="mazeMindProgress",A1={levels:{},highestUnlocked:{easy:1,normal:1,hard:1}};function j1(l){return Object.values(l.levels).filter(r=>r.stars>0).length}function E1(l){return Object.values(l.levels).reduce((r,i)=>r+i.stars,0)}function T1(l){return Object.values(l.levels).filter(r=>r.stars===3).length}function ra(){try{const l=localStorage.getItem(Qc);if(l){const r=JSON.parse(l);return{levels:r.levels||{},highestUnlocked:{easy:r.highestUnlocked?.easy||1,normal:r.highestUnlocked?.normal||1,hard:r.highestUnlocked?.hard||1}}}}catch(l){console.error("Error al carregar progrs:",l),localStorage.removeItem(Qc)}return{...A1}}function k1(l,r,i,s,u,c){const h=c?.baseProgress??ra(),p={levels:{...h.levels},highestUnlocked:{...h.highestUnlocked}},g=`${l}-${r}`,y=p.levels[g],x=y?.bestTime??null,S=y?.bestPoints??null,_=y?.stars??0,E=x===null||s<x?s:x,k=S===null||u>S?u:S,N=Math.max(_,i);p.levels[g]={stars:N,bestTime:E,bestPoints:k};const A=r+1;if(A<=15&&A>p.highestUnlocked[l]&&(p.highestUnlocked[l]=A),c?.persist??!0)try{localStorage.setItem(Qc,JSON.stringify(p)),localStorage.setItem("mazeMindLocalProgressPending","1")}catch(O){console.error("Error al guardar progrs:",O)}return p}function R1(l,r,i){const s=`${r}-${i}`;return l.levels[s]||null}function O1({user:l,onNavigate:r,onUserClick:i,onLogout:s,onSettingsClick:u,progress:c}){const{getVisualSettings:h}=At(),p=h("home"),g=j.useMemo(()=>[{icon:"",label:"Nivells Superats",value:j1(c)},{icon:"",label:"Estrelles",value:E1(c)},{icon:"",label:"Nivells Perfectes",value:T1(c)}],[c]),y=()=>{l?s():i()},x=on(),[S,_]=j.useState(!1),[E,k]=j.useState(!1),N=()=>{x.playFail(),r()},A=()=>{x.playFail(),u()},Y=()=>{x.playFail(),y()},O=j.useMemo(()=>({page:{minHeight:"100svh",width:"100vw",margin:0,background:p.backgroundColor,color:p.textColor,display:"grid",placeItems:"center",padding:24,boxSizing:"border-box"},userButton:{position:"absolute",top:"clamp(16px, 3vw, 24px)",right:"clamp(16px, 3vw, 24px)",background:p.surfaceColor,border:`1px solid ${p.borderColor}`,color:p.subtextColor,borderRadius:"50%",width:"48px",height:"48px",display:"grid",placeItems:"center",cursor:"pointer",boxShadow:q.shadow,zIndex:10,transition:"background 0.2s ease"},container:{width:"min(1100px, 100%)",display:"grid",justifyItems:"center",textAlign:"center",gap:24,paddingInline:"min(4vw, 40px)"},logoSvg:{width:80,height:80,filter:"brightness(0) invert(1)"},logoWrap:{background:`linear-gradient(135deg, ${p.accentColor1}, ${p.accentColor2})`,borderRadius:32,padding:24,marginBottom:16,boxShadow:q.shadow,fontSize:40,lineHeight:1,display:"grid",placeItems:"center"},title:{fontSize:"clamp(42px, 6vw, 68px)",fontWeight:900,margin:0,letterSpacing:"-0.02em",textShadow:"0 2px 0 rgba(0,0,0,.25)",color:p.textColor},subtitle:{fontSize:"clamp(16px, 1.6vw, 20px)",margin:0,maxWidth:760,color:p.subtextColor,marginInline:"auto"},statsGrid:{listStyle:"none",padding:0,margin:"8px 0 0 0",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,width:"80%"},statCard:{background:p.surfaceColor,border:`1px solid ${p.borderColor}`,borderRadius:16,padding:"16px 20px",display:"grid",justifyItems:"center",alignContent:"center",gap:8,boxShadow:q.shadow},statIcon:{fontSize:22,lineHeight:1},statValue:{fontSize:28,fontWeight:800,letterSpacing:"0.02em",color:p.textColor},statLabel:{fontSize:14,color:p.subtextColor},actionsCol:{display:"grid",gridTemplateColumns:"1fr",gap:12,width:"min(420px, 100%)",marginTop:8},playBtn:{padding:"16px",borderRadius:12,border:"2px solid transparent",background:`linear-gradient(90deg, ${p.accentColor1}, ${p.accentColor2})`,color:p.textColor,fontSize:18,fontWeight:800,cursor:"pointer",boxShadow:q.shadow,transition:"transform .05s ease",outline:"3px solid transparent"},secondaryBtn:{padding:"16px",borderRadius:12,border:`2px solid ${p.borderColor}`,background:"rgba(255,255,255,0.06)",color:p.textColor,fontSize:18,fontWeight:700,cursor:"pointer",transition:"transform .05s ease",outline:"3px solid transparent"},welcomeMessage:{color:p.subtextColor,fontSize:16,marginBottom:8}}),[p]);return f.jsxs("main",{role:"main",style:O.page,children:[f.jsx("button",{style:O.userButton,onClick:Y,onMouseEnter:()=>x.playHover(),"aria-label":l?`Compte de ${l.email}. Tancar sessi.`:"Iniciar sessi o registrar-se",children:l?f.jsx(Gb,{size:24}):f.jsx(B0,{size:24})}),f.jsxs("div",{style:O.container,"aria-labelledby":"title",children:[f.jsx("div",{style:O.logoWrap,role:"img","aria-label":"Logotip de MazeMind",children:f.jsx(D0,{style:O.logoSvg})}),f.jsx("h1",{id:"title",style:O.title,children:"MazeMind"}),f.jsx("p",{style:O.subtitle,children:"Entrena la teva memria visoespacial resolent laberints"}),f.jsx("ul",{style:O.statsGrid,"aria-label":"Estadstiques de progrs",children:g.map(P=>f.jsxs("li",{style:O.statCard,children:[f.jsx("div",{"aria-hidden":"true",style:O.statIcon,children:P.icon}),f.jsx("div",{style:O.statValue,"aria-live":"polite",children:P.value}),f.jsx("div",{style:O.statLabel,children:P.label})]},P.label))}),f.jsxs("nav",{id:"actions","aria-label":"Accions",style:O.actionsCol,children:[f.jsxs("button",{type:"button",style:{...O.playBtn,...S?{outline:`3px solid ${p.accentColor1}`,transform:"translateY(-1px) scale(1.01)"}:{}},onClick:N,onMouseEnter:()=>x.playHover(),onFocus:()=>{_(!0),x.playHover()},onBlur:()=>_(!1),"aria-label":"Jugar a MazeMind",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Jugar"]}),f.jsxs("button",{type:"button",style:{...O.secondaryBtn,...E?{outline:`3px solid ${p.accentColor2}`,transform:"translateY(-1px) scale(1.01)"}:{}},onClick:A,onMouseEnter:()=>x.playHover(),onFocus:()=>{k(!0),x.playHover()},onBlur:()=>k(!1),"aria-label":"Obrir configuraci",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Configuraci"]})]})]})]})}function z1(l){if(l===null)return null;const r=Math.floor(l/60).toString(),i=(l%60).toString().padStart(2,"0");return`${r}:${i}`}function M1({index:l,unlocked:r,difficulty:i,stars:s,bestTime:u,onPlay:c}){const h=on(),p=i.charAt(0).toUpperCase()+i.slice(1),{getVisualSettings:g}=At(),y=g("levelSelect"),x={easy:{icon:f.jsx(nl,{size:18}),accent:y.easyColor,badgeBg:`${y.easyColor}26`},normal:{icon:f.jsx(pi,{size:18}),accent:y.normalColor,badgeBg:`${y.normalColor}26`},hard:{icon:f.jsx(fd,{size:18}),accent:y.hardColor,badgeBg:`${y.hardColor}26`}},S=`Jugar el nivell ${l} en dificultat ${p}`,_=`Nivell ${l} (Bloquejat)`,E=()=>{const A=[];for(let Y=0;Y<3;Y++)A.push(f.jsx(Cr,{size:14,fill:Y<s?q.normalYellow:"none",color:Y<s?q.normalYellow:q.subtext+"80"},Y));return A},k=z1(u),N={cardBase:{background:y.surfaceColor,border:`1px solid ${y.borderColor}`,borderRadius:16,padding:8,width:"100%",aspectRatio:"1/1",boxShadow:q.shadow,transition:"transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease",display:"flex"},cardLocked:{borderColor:y.borderColor,boxShadow:"none",opacity:.6},cardInner:{flexGrow:1,borderRadius:12,background:"linear-gradient(180deg, rgba(255,255,255,0.08), transparent)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"clamp(8px, 2vw, 12px)"},badge:{background:"rgba(255,255,255,.1)",borderRadius:"999px",padding:"4px 8px",fontSize:16,lineHeight:1},levelNum:{fontSize:32,fontWeight:800,color:y.textColor},stars:{color:y.subtextColor},starsContainer:{display:"flex",gap:"2px",margin:"4px 0"},bestTime:{display:"flex",alignItems:"center",gap:"4px",fontSize:12,color:y.subtextColor,margin:"0 0 8px 0"},playBtnBase:{width:"100%",padding:"10px 12px",border:"none",borderRadius:10,color:y.textColor,fontWeight:700,cursor:"pointer",fontSize:16,transition:"transform 0.1s ease"},lockedIcon:{flexGrow:1,display:"grid",placeItems:"center",fontSize:28}};return f.jsx("div",{style:{...N.cardBase,borderColor:r?x[i].accent+"60":y.borderColor,...r?{}:N.cardLocked},"aria-label":r?`Nivell ${l}`:_,"aria-disabled":!r,children:f.jsxs("div",{style:N.cardInner,children:[f.jsx("div",{style:{...N.badge,background:x[i].badgeBg,color:x[i].accent},children:x[i].icon}),f.jsx("div",{style:N.levelNum,children:l}),r?f.jsxs(f.Fragment,{children:[f.jsx("div",{style:N.starsContainer,"aria-label":`Puntuaci: ${s} de 3 estrelles`,children:E()}),k&&f.jsxs("div",{style:N.bestTime,"aria-label":`Millor temps: ${k}`,children:[f.jsx(Pc,{size:12})," ",k]}),f.jsxs("button",{style:{...N.playBtnBase,background:x[i].accent,color:q.bg},onClick:c,onMouseEnter:()=>h.playHover(),"aria-label":S,children:[f.jsx(Yb,{size:16})," Jugar"]})]}):f.jsx("div",{style:{...N.lockedIcon,color:x[i].accent+"90"},children:f.jsx(Yc,{size:28})})]})})}function We(l,r){const i=Math.max(0,Math.min(1,r));if(typeof l!="string"||l.includes("gradient"))return l;if(l.startsWith("#")){let u=l.slice(1);if(u.length===3&&(u=u.split("").map(c=>c+c).join("")),u.length===6||u.length===8){const c=parseInt(u.slice(0,2),16),h=parseInt(u.slice(2,4),16),p=parseInt(u.slice(4,6),16);return`rgba(${c}, ${h}, ${p}, ${i})`}}const s=l.match(/rgba?\(([^)]+)\)/);if(s){const u=s[1].split(",").map(c=>c.trim());if(u.length>=3){const[c,h,p]=u;return`rgba(${c}, ${h}, ${p}, ${i})`}}return l}const mn=l=>l===" "?"Espai":l.length===1?l.toUpperCase():l,B1=l=>{const r=l.accentColor1,i=l.accentColor2,s=l.easyColor,u=l.normalColor,c=l.hardColor,h=We(l.textColor,.06),p=We(l.textColor,.16);return{styles:{overlay:{position:"fixed",inset:0,background:We(l.textColor,.75),display:"grid",placeItems:"center",zIndex:50,padding:"16px",backdropFilter:"blur(8px)"},modalContent:{background:l.surfaceColor,color:l.textColor,borderRadius:"16px",border:`1px solid ${l.borderColor}`,maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative"},header:{padding:"16px 24px",borderBottom:`1px solid ${l.borderColor}`,display:"flex",alignItems:"center",gap:"12px"},title:{fontSize:"1.5rem",fontWeight:700,margin:0},closeButton:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:l.subtextColor,cursor:"pointer",padding:"4px",borderRadius:"50%"},body:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},section:{display:"flex",flexDirection:"column",gap:"12px"},sectionTitle:{fontSize:"1.1rem",fontWeight:600,margin:0,display:"flex",alignItems:"center",gap:"8px",color:l.textColor},card:{background:h,borderRadius:"8px",padding:"16px",border:`1px solid ${l.borderColor}`},cardTitle:{fontWeight:600,marginBottom:"8px",color:l.textColor},cardText:{fontSize:"0.9rem",color:l.subtextColor,margin:0},stepItem:{display:"flex",alignItems:"start",gap:"12px"},stepNumber:{width:"32px",height:"32px",background:We(r,.2),borderRadius:"50%",display:"grid",placeItems:"center",fontWeight:700,color:r,flexShrink:0},keyDisplay:{background:p,padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace",fontSize:"0.8rem"},starRow:{display:"flex",alignItems:"center",gap:"8px"},controlsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},controlItem:{display:"flex",alignItems:"center",gap:"8px"},tutorialCard:{background:`linear-gradient(100deg, ${We(s,.15)}, ${We(i,.15)})`,border:`1px solid ${s}`,padding:"20px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"16px",textAlign:"left"},tutorialIconWrapper:{width:"64px",height:"64px",background:`linear-gradient(135deg, ${s}, ${i})`,borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},tutorialContent:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},tutorialButton:{background:`linear-gradient(90deg, ${s}, ${i})`,color:"#0A192F",border:"none",padding:"10px 16px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap",flexShrink:0},list:{paddingLeft:"20px",listStyle:"disc",color:l.subtextColor,fontSize:"0.9rem",marginTop:"8px"}},colors:{accentPrimary:r,accentSecondary:i,successColor:s,warningColor:u,dangerColor:c}}};function D1({open:l,onClose:r,onStartTutorial:i}){const{settings:s,getVisualSettings:u}=At(),c=s.game,h=u("levelSelect"),{styles:p,colors:g}=j.useMemo(()=>B1(h),[h]);return l?f.jsx("div",{style:p.overlay,onClick:r,children:f.jsxs("div",{style:p.modalContent,onClick:y=>y.stopPropagation(),children:[f.jsx("button",{style:p.closeButton,onClick:r,"aria-label":"Tancar",children:f.jsx(pd,{size:24})}),f.jsxs("div",{style:p.header,children:[f.jsx(Kc,{size:28,color:g.accentSecondary}),f.jsx("h2",{style:p.title,children:"Com Jugar a MazeMind"})]}),f.jsxs("div",{style:p.body,children:[f.jsx("section",{style:p.section,children:f.jsxs("div",{style:p.card,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.accentSecondary,marginBottom:"8px"},children:[f.jsx(a1,{size:20})," Objectiu"]}),f.jsx("p",{style:p.cardText,children:"Entrena la teva memria visoespacial navegant per laberints invisibles. Memoritza el cam, desprs troba la sortida sense veure les parets!"})]})}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.accentPrimary},children:[f.jsx(Ic,{size:20,color:g.accentPrimary})," Com Jugar"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx("div",{style:p.stepNumber,children:"1"}),f.jsxs("div",{style:{flex:1},children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:" Fase de Memoritzaci"}),f.jsx("p",{style:p.cardText,children:"Veurs el laberint complet durant uns segons. Memoritza el cam des de l'inici (cercle) fins a la sortida (quadrat)."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx("div",{style:p.stepNumber,children:"2"}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Les Parets Desapareixen"}),f.jsx("p",{style:p.cardText,children:"Quan acabi el temps, les parets es tornaran invisibles. Ara has de recordar el cam!"})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx("div",{style:p.stepNumber,children:"3"}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Navega fins la Sortida"}),f.jsxs("p",{style:p.cardText,children:["Usa les Fletxes o les tecles "," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveUp)})," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveLeft)})," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveDown)})," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveRight)})," per moure't."]})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.successColor},children:[f.jsx(Ic,{size:20,color:g.successColor})," Controls"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.controlsGrid,children:[f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(xb,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveUp)]}),f.jsx("span",{children:"Amunt"})]}),f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(yb,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveDown)]}),f.jsx("span",{children:"Avall"})]}),f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(jr,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveLeft)]}),f.jsx("span",{children:"Esquerra"})]}),f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(cd,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveRight)]}),f.jsx("span",{children:"Dreta"})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.warningColor},children:[f.jsx(Cr,{size:20,color:g.warningColor})," Sistema d'Estrelles"]}),f.jsxs("div",{style:p.card,children:[f.jsx("p",{style:p.cardText,children:"Comences amb 1000 punts. Els punts disminueixen amb el temps i si uses ajudes. Les estrelles es basen en els punts finals:"}),f.jsxs("ul",{style:p.list,children:[f.jsx("li",{children:": 800+ punts"}),f.jsx("li",{children:": 400-799 punts"}),f.jsx("li",{children:": 1-399 punts"})]})]})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.accentPrimary},children:[f.jsx(pi,{size:20,color:g.accentPrimary})," Ajudes Disponibles"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(rl,{size:20,color:g.accentPrimary,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Revelar (",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyHelpReveal)}),")"]}),f.jsx("p",{style:p.cardText,children:"Mostra el laberint durant 0.5 segons. 3 usos per nivell. Cost: 50 punts."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(eo,{size:20,color:g.successColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Mostrar Cam (",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyHelpPath)}),")"]}),f.jsx("p",{style:p.cardText,children:"Mostra el cam que has recorregut. Activable/desactivable. Cost: +2 punts/segon mentre est activat."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(O0,{size:20,color:g.dangerColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Ajuda Xoc (",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyHelpCrash)}),")"]}),f.jsx("p",{style:p.cardText,children:"Si xoques, mostra les parets properes. Activable/desactivable. Cost: 20 punts per xoc."})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:p.sectionTitle,children:[f.jsx(Vb,{size:20})," Modes de Joc"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(Kc,{size:20,color:g.accentPrimary,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Clssic"}),f.jsx("p",{style:p.cardText,children:"Supera els nivells predefinits en dificultats Fcil, Normal i Difcil. Guanya estrelles i desbloqueja el segent nivell."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(nl,{size:20,color:g.successColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Prctica IA"}),f.jsx("p",{style:p.cardText,children:"Entrena sense pressi. Juga laberints aleatoris adaptats al teu nivell a partir de la IA."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(M0,{size:20,color:g.warningColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Prctica Score"}),f.jsx("p",{style:p.cardText,children:"Juga laberints aleatoris que van pujant de dificultat i consegueix la puntuaci ms alta (mida, temps)."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(z0,{size:20,color:g.accentSecondary,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Lliure / Creador"}),f.jsx("p",{style:p.cardText,children:"Defineix la mida del laberint, el temps de memoritzaci, mode de dificultat i juga al teu gust."})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:p.sectionTitle,children:[f.jsx(Hb,{size:20})," Consells"]}),f.jsx("div",{style:p.card,children:f.jsxs("ul",{style:p.list,children:[f.jsx("li",{children:"Centra't en recordar els girs principals."}),f.jsx("li",{children:"Visualitza mentalment el recorregut mentre memoritzes."}),f.jsx("li",{children:"No tinguis por d'utilitzar les ajudes al principi."})]})})]}),f.jsxs("div",{style:p.tutorialCard,children:[f.jsx("div",{style:p.tutorialIconWrapper,children:f.jsx($g,{size:32,color:"#fff"})}),f.jsxs("div",{style:p.tutorialContent,children:[f.jsx("h3",{style:{...p.cardTitle,fontSize:"1.1rem",margin:0},children:"Primera vegada jugant?"}),f.jsx("p",{style:{...p.cardText,fontSize:"0.9rem",margin:"4px 0 0 0"},children:"Comena amb el segent tutorial guiat pas a pas i aprn jugant."})]}),f.jsxs("button",{style:p.tutorialButton,onClick:()=>{r(),i()},children:[f.jsx($g,{size:18})," Comenar Tutorial"]})]})]})]})}):null}const H0="mazeMindPracticeBestScore";function N1(l){const r=la(),i=Math.max(r,l);try{localStorage.setItem(H0,JSON.stringify(i))}catch(s){console.error("Error guardant best practice score:",s)}return i}function la(){try{const l=localStorage.getItem(H0);if(!l)return 0;const r=JSON.parse(l);return typeof r=="number"&&!Number.isNaN(r)?r:0}catch{return 0}}const U1=l=>{const r=We(l.textColor,.7),i=We(l.textColor,.06);return{overlay:{position:"fixed",inset:0,background:r,backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:60,padding:"16px"},modalContent:{background:l.surfaceColor,color:l.textColor,borderRadius:"16px",border:`1px solid ${l.borderColor}`,maxWidth:"500px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative"},header:{padding:"16px 24px",borderBottom:`1px solid ${l.borderColor}`,display:"flex",alignItems:"center",gap:"12px"},title:{fontSize:"1.5rem",fontWeight:700,margin:0},closeButton:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:l.subtextColor,cursor:"pointer",padding:"4px",borderRadius:"50%"},body:{padding:"24px",display:"flex",flexDirection:"column",gap:"16px"},card:{background:i,border:`1px solid ${l.borderColor}`,borderRadius:"12px",padding:"20px",display:"flex",alignItems:"center",gap:"16px",cursor:"pointer",transition:"all 0.2s ease"},cardIcon:{width:"48px",height:"48px",borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},cardTitle:{fontWeight:600,fontSize:"1.1rem",margin:0},cardText:{fontSize:"0.9rem",color:l.subtextColor,margin:"4px 0 0 0"},bestScoreText:{fontSize:"0.8rem",opacity:.9}}};function L1({open:l,onClose:r,onStartIA:i,onStartNormal:s,onStartFree:u}){const c=on(),{getVisualSettings:h}=At(),p=h("levelSelect"),g=j.useMemo(()=>U1(p),[p]),[y,x]=j.useState(0);if(j.useEffect(()=>{l&&x(la())},[l]),!l)return null;const S=_=>{c.playBtnSound(),_(),r()};return f.jsx("div",{style:g.overlay,onClick:r,children:f.jsxs("div",{style:g.modalContent,onClick:_=>_.stopPropagation(),children:[f.jsx("button",{style:g.closeButton,onClick:r,"aria-label":"Tancar",children:f.jsx(pd,{size:24})}),f.jsx("div",{style:g.header,children:f.jsx("h2",{style:g.title,children:"Modes de Prctica"})}),f.jsxs("div",{style:g.body,children:[f.jsxs("div",{style:g.card,onClick:()=>S(i),onMouseEnter:()=>c.playHover(),children:[f.jsx("div",{style:{...g.cardIcon,background:We(p.accentColor2,.2)},children:f.jsx(Cb,{size:24,color:p.accentColor2})}),f.jsxs("div",{children:[f.jsx("h3",{style:g.cardTitle,children:"Prctica IA"}),f.jsx("p",{style:g.cardText,children:"Juga laberints aleatoris adaptats al teu nivell."})]})]}),f.jsxs("div",{style:g.card,onClick:()=>S(s),onMouseEnter:()=>c.playHover(),children:[f.jsx("div",{style:{...g.cardIcon,background:We(p.normalColor,.2)},children:f.jsx(M0,{size:24,color:p.normalColor})}),f.jsxs("div",{children:[f.jsx("h3",{style:g.cardTitle,children:"Prctica Score"}),f.jsxs("p",{style:g.cardText,children:["Juga laberints aleatoris que pugen de dificultat.",f.jsx("br",{}),f.jsxs("span",{style:g.bestScoreText,children:["Millor puntuaci: ",f.jsx("strong",{children:Math.round(y)})]})]})]})]}),f.jsxs("div",{style:g.card,onClick:()=>S(u),onMouseEnter:()=>c.playHover(),children:[f.jsx("div",{style:{...g.cardIcon,background:We(p.easyColor,.2)},children:f.jsx(z0,{size:24,color:p.easyColor})}),f.jsxs("div",{children:[f.jsx("h3",{style:g.cardTitle,children:"Mode Lliure / Creaci"}),f.jsx("p",{style:g.cardText,children:"Defineix la mida, temps i dificultat al teu gust."})]})]})]})]})})}const Pg={easy:"Fcil",normal:"Normal",hard:"Difcil"},H1={easy:f.jsx(nl,{size:16}),normal:f.jsx(pi,{size:16}),hard:f.jsx(fd,{size:16})};function $1({onPlayLevel:l,onBack:r,onStartTutorial:i,progress:s,selectedDifficulty:u,onDifficultyChange:c,onStartPracticeIA:h,onStartPracticeNormal:p,onStartPracticeFree:g}){const y=on(),{getVisualSettings:x}=At(),S=x("levelSelect"),_=j.useMemo(()=>({easy:S.easyColor,normal:S.normalColor,hard:S.hardColor}),[S]),E=u,[k,N]=j.useState(!1),[A,Y]=j.useState(!1),O=j.useRef(null),[P,W]=j.useState({});j.useEffect(()=>{if(!O.current)return;const X=O.current.querySelectorAll("button"),he=["easy","normal","hard"].indexOf(E),xe=X[he];W(xe?{left:`${xe.offsetLeft}px`,width:`${xe.offsetWidth}px`,background:_[E],opacity:1}:{opacity:0})},[E,_]);const te=Array.from({length:15},(X,ae)=>ae+1),Q=s.highestUnlocked[E]||0,U=j.useCallback(()=>{y.playFail(),r()},[r,y]),pe=j.useCallback((X,ae)=>{y.playFail(),l(X,ae)},[l,y]),be=j.useCallback(()=>{y.playFail(),Y(!0)},[y]),re=j.useMemo(()=>({page:{background:S.backgroundColor,color:S.textColor,minHeight:"100svh",width:"100vw",padding:"clamp(16px, 4vw, 32px)",boxSizing:"border-box"},container:{maxWidth:960,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,gap:16},title:{margin:0,fontSize:"clamp(24px, 5vw, 32px)"},backBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${S.borderColor}`,background:S.surfaceColor,color:S.textColor,cursor:"pointer",fontSize:16,width:100},diffBarContainer:{position:"relative",display:"flex",justifyContent:"center",background:S.surfaceColor,borderRadius:999,padding:"6px",marginBottom:32,boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"},diffTab:{flexGrow:1,padding:"10px 16px",borderRadius:999,border:"none",background:"transparent",color:S.subtextColor,fontWeight:600,cursor:"pointer",transition:"color 0.3s ease",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},diffIndicator:{position:"absolute",top:"6px",bottom:"6px",borderRadius:999,boxShadow:q.shadow,transition:"left 0.3s ease, width 0.3s ease, background 0.3s ease",zIndex:1,opacity:0},diffBar:{display:"flex",justifyContent:"center",gap:12,marginBottom:24},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"clamp(12px, 2vw, 20px)"},footer:{display:"flex",justifyContent:"center",marginTop:32},practiceBtn:{padding:"12px 20px",borderRadius:12,border:`1px solid ${S.borderColor}`,background:S.surfaceColor,color:S.textColor,fontSize:16,cursor:"pointer"}}),[S]);return f.jsxs(f.Fragment,{children:[f.jsx("main",{style:re.page,children:f.jsxs("div",{style:re.container,children:[f.jsxs("header",{style:re.header,children:[f.jsxs("button",{style:re.backBtn,onMouseEnter:()=>y.playHover(),onClick:U,"aria-label":"Tornar a la pantalla d'inici",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Inici"]}),f.jsx("div",{style:{textAlign:"center"},children:f.jsx("h1",{style:re.title,children:"Selecciona el Nivell"})}),f.jsx("div",{style:{width:100}})]}),f.jsxs("div",{role:"tablist","aria-label":"Selector de dificultat",style:re.diffBarContainer,ref:O,children:[f.jsx("div",{style:{...re.diffIndicator,...P}}),["easy","normal","hard"].map(X=>f.jsxs("button",{role:"tab",onClick:()=>{y.playSlide(),c(X)},"aria-selected":E===X,style:{...re.diffTab,color:E===X?S.textColor:S.subtextColor},children:[H1[X],Pg[X]]},X))]}),f.jsx("section",{"aria-label":`Nivells de dificultat ${Pg[E]}`,children:f.jsx("div",{style:re.grid,children:te.map(X=>{const ae=R1(s,E,X);return f.jsx(M1,{index:X,unlocked:X<=Q,difficulty:E,stars:ae?.stars??0,bestTime:ae?.bestTime??null,onPlay:()=>pe(X,E)},`${E}-${X}`)})})}),f.jsxs("footer",{style:re.footer,children:[f.jsxs("button",{style:re.practiceBtn,onMouseEnter:()=>y.playHover(),onClick:be,children:[f.jsx(nl,{size:18,style:{marginBottom:-1}})," Mode Prctica"]}),f.jsx("div",{style:{width:12}}),f.jsxs("button",{style:re.practiceBtn,onMouseEnter:()=>y.playHover(),onClick:()=>{y.playBtnSound(),N(!0)},children:[f.jsx(kb,{size:18,style:{marginBottom:-2}})," Com Jugar"]})]})]})}),f.jsx(D1,{open:k,onClose:()=>N(!1),onStartTutorial:i}),f.jsx(L1,{open:A,onClose:()=>Y(!1),onStartIA:h,onStartNormal:p,onStartFree:g})]})}function gd({level:l,phase:r="memorize",playerPos:i,settings:s={},showReveal:u=!1,showPlayerPath:c=!1,crashPosition:h=null,forcePathHistory:p}){const g=j.useRef(null),y=j.useRef([]),x={path_color:"#EEF2FF",wall_color:"#3B82F6",wall_thickness:3,exit_color:"#F59E0B",player_color:"#111",player_path_color:"rgba(0, 0, 0, 0.4)",crash_help_color:"#E11D48",...s};return j.useEffect(()=>{const S=g.current;if(!S)return;r==="memorize"&&(y.current=[]);let _=[];if(p)_=p;else{if(r==="memorize"&&(y.current=[]),i){const k=y.current[y.current.length-1];(!k||k.x!==i.x||k.y!==i.y)&&y.current.push(i)}_=y.current}const E=()=>{const k=S.parentElement,N=Math.min(k.clientWidth,k.clientHeight);S.width=N,S.height=N;const A=S.getContext("2d"),Y=Math.max(l.width,l.height),O=N/Y,P=l.width*O,W=l.height*O,te=(N-P)/2,Q=(N-W)/2;A.fillStyle=x.path_color,A.fillRect(0,0,N,N);const U=te+l.exit.x*O,pe=Q+l.exit.y*O,be=O*.7,re=(O-be)/2;if(A.fillStyle=x.exit_color,A.roundRect?.(U+re,pe+re,be,be,O*.15)??A.fillRect(U+re,pe+re,be,be),A.fill(),r==="playing"&&c&&_.length>1){A.strokeStyle=x.player_path_color,A.lineWidth=x.wall_thickness,A.globalAlpha=.4,A.beginPath();const X=_[0];A.moveTo(te+X.x*O+O/2,Q+X.y*O+O/2);for(const ae of _.slice(1))A.lineTo(te+ae.x*O+O/2,Q+ae.y*O+O/2);A.stroke(),A.globalAlpha=1}if(r==="memorize"||u){A.strokeStyle=x.wall_color,A.lineWidth=x.wall_thickness,A.lineCap="round",A.lineJoin="round";for(let X=0;X<l.height;X++)for(let ae=0;ae<l.width;ae++){const he=l.maze[X][ae],xe=te+ae*O,ue=Q+X*O;A.beginPath(),he.walls.top&&(A.moveTo(xe,ue),A.lineTo(xe+O,ue)),he.walls.right&&(A.moveTo(xe+O,ue),A.lineTo(xe+O,ue+O)),he.walls.bottom&&(A.moveTo(xe,ue+O),A.lineTo(xe+O,ue+O)),he.walls.left&&(A.moveTo(xe,ue),A.lineTo(xe,ue+O)),A.stroke()}}if(r==="playing"&&h){A.strokeStyle=x.crash_help_color,A.lineWidth=x.wall_thickness+2,A.lineCap="round",A.lineJoin="round";const{x:X,y:ae}=h;for(let he=ae-1;he<=ae+1;he++)for(let xe=X-1;xe<=X+1;xe++){if(xe<0||he<0||xe>=l.width||he>=l.height)continue;const ue=l.maze[he][xe],D=te+xe*O,K=Q+he*O;A.beginPath(),ue.walls.top&&(A.moveTo(D,K),A.lineTo(D+O,K)),ue.walls.right&&(A.moveTo(D+O,K),A.lineTo(D+O,K+O)),ue.walls.bottom&&(A.moveTo(D,K+O),A.lineTo(D+O,K+O)),ue.walls.left&&(A.moveTo(D,K),A.lineTo(D,K+O)),A.stroke()}}if((r==="playing"||r==="memorize")&&i){const X=te+i.x*O+O/2,ae=Q+i.y*O+O/2,he=O*.3;A.fillStyle=x.player_color,A.beginPath(),A.arc(X,ae,he,0,2*Math.PI),A.fill()}};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[l,r,i,u,c,h,x.path_color,x.wall_color,x.wall_thickness,x.exit_color,x.player_color,x.player_path_color,x.crash_help_color,p]),f.jsx("canvas",{ref:g,style:{width:"100%",height:"100%",borderRadius:12}})}function V1(l){const r=Math.floor(l/60).toString(),i=(l%60).toString().padStart(2,"0");return`${r}:${i}`}function q1(l){return l>=800?"":l>=400?"":l>0?"":""}const Ia=l=>l===" "?"Espai":l.length===1?l.toUpperCase():l;function G1({gameTime:l,points:r,revealCharges:i,isPathHelpActive:s,isCrashHelpActive:u,onRevealHelp:c,onTogglePathHelp:h,onToggleCrashHelp:p,lives:g,difficulty:y}){const{getVisualSettings:x,settings:S}=At(),_=x("levelScreen"),{game:E}=S,k={container:{display:"flex",flexWrap:"wrap",gap:"12px",width:"100%",alignItems:"stretch"},card:{background:_.surfaceColor,border:`1px solid ${_.borderColor}`,borderRadius:14,padding:"12px 16px",color:_.textColor,display:"flex",flexDirection:"column",gap:"4px",flexGrow:1,flexBasis:"180px"},helpsCard:{flexDirection:"row",flexWrap:"wrap",gap:"8px",flexBasis:"300px",justifyContent:"center",alignItems:"center"},label:{fontSize:14,color:_.subtextColor,display:"flex",alignItems:"center",gap:"4px",fontWeight:500},valueLarge:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:700,lineHeight:1},valueSmall:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:700,lineHeight:1},pointsStars:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",gap:"8px"},stars:{fontSize:18,color:_.normalColor,lineHeight:1.2},helpButton:{background:"rgba(255,255,255,0.08)",border:`1px solid ${_.borderColor}`,color:_.subtextColor,padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:13,fontWeight:600,flexGrow:1},helpActive:{background:_.easyColor,color:"#000",borderColor:"transparent"},livesText:{fontSize:"clamp(20px, 4vw, 28px)",fontWeight:700,lineHeight:1,letterSpacing:"0.1em"}};return f.jsxs("div",{style:k.container,children:[f.jsxs("div",{style:k.card,children:[f.jsx("span",{style:k.label,children:" Temps"}),f.jsx("span",{style:k.valueLarge,children:V1(l)})]}),y==="hard"&&f.jsxs("div",{style:k.card,children:[f.jsx("span",{style:k.label,children:" Vides"}),f.jsxs("span",{style:k.livesText,"aria-label":`${g} vides restants`,children:["".repeat(g),"".repeat(Math.max(0,3-g))]})]}),f.jsxs("div",{style:k.card,children:[f.jsx("span",{style:k.label,children:" Objectiu"}),f.jsxs("div",{style:k.pointsStars,children:[f.jsxs("span",{style:k.valueSmall,children:[r," pts"]}),f.jsx("span",{style:k.stars,children:q1(r)})]})]}),f.jsxs("div",{style:{...k.card,...k.helpsCard},children:[f.jsxs("button",{style:k.helpButton,onClick:c,disabled:i===0,title:`Mostra el laberint (${Ia(E.keyHelpReveal)}) | Cost: 50 pts`,children:[f.jsx(rl,{size:18}),f.jsxs("span",{children:["Revelar (",i,")"]}),f.jsx("kbd",{children:Ia(E.keyHelpReveal)})]}),f.jsxs("button",{style:{...k.helpButton,...s?k.helpActive:{}},onClick:h,title:`Mostra el cam recorregut (${Ia(E.keyHelpPath)}) | Cost: -2 pts/s`,children:[f.jsx(eo,{size:18}),f.jsx("span",{children:"Cam"}),f.jsx("kbd",{children:Ia(E.keyHelpPath)})]}),y!=="hard"&&f.jsxs("button",{style:{...k.helpButton,...u?k.helpActive:{}},onClick:p,title:`Mostra parets properes al xocar (${Ia(E.keyHelpCrash)}) | Cost: -20 pts`,children:[f.jsx(O0,{size:18}),f.jsx("span",{children:"Ajuda Xoc"}),f.jsx("kbd",{children:Ia(E.keyHelpCrash)})]})]})]})}function P1(l){const r=Math.floor(l/60).toString(),i=(l%60).toString().padStart(2,"0");return`${r}:${i}`}function I1(l){return"".repeat(l)+"".repeat(3-l)}const Y1=l=>{const r=`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2})`,i=We(l.textColor,.08);return{overlay:{position:"fixed",inset:0,background:We(l.surfaceColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:l.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:l.easyColor},results:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"16px",borderTop:`1px solid ${l.borderColor}`,borderBottom:`1px solid ${l.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:l.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600,color:l.textColor},starsValue:{color:l.normalColor},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${l.borderColor}`,background:i,color:l.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function K1({levelNumber:l,stars:r,time:i,points:s,onRetry:u,onBack:c}){const h=on(),{getVisualSettings:p}=At(),g=p("levelScreen"),y=j.useMemo(()=>Y1(g),[g]);return f.jsx("div",{style:y.overlay,children:f.jsxs("div",{style:y.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsxs("h2",{id:"modalTitle",style:y.title,children:["Nivell ",l," Superat!"]}),f.jsxs("div",{style:y.results,children:[f.jsxs("div",{style:y.resultItem,children:[f.jsx("span",{style:y.resultLabel,children:"Estrelles"}),f.jsx("span",{style:{...y.resultValue,...y.starsValue},children:I1(r)})]}),f.jsxs("div",{style:y.resultItem,children:[f.jsx("span",{style:y.resultLabel,children:"Temps"}),f.jsx("span",{style:y.resultValue,children:P1(i)})]}),f.jsxs("div",{style:y.resultItem,children:[f.jsx("span",{style:y.resultLabel,children:"Punts"}),f.jsx("span",{style:y.resultValue,children:s})]})]}),f.jsxs("div",{style:y.actions,children:[f.jsxs("button",{onMouseEnter:()=>h.playHover(),style:y.retryButton,onClick:u,children:[f.jsx(hd,{size:18})," Tornar a Jugar"]}),f.jsxs("button",{onMouseEnter:()=>h.playHover(),style:y.backButton,onClick:c,children:[f.jsx(jr,{size:18})," Tornar als Nivells"]})]})]})})}const J1=l=>{const r=We(l.textColor,.08),i=`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2})`;return{overlay:{position:"fixed",inset:0,background:We(l.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:l.textColor,width:"min(400px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"16px"},iconWrapper:{lineHeight:1,marginTop:"8px",color:l.hardColor},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:l.hardColor},subtitle:{fontSize:16,color:l.subtextColor,margin:"-8px 0 8px 0"},results:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",borderTop:`1px solid ${l.borderColor}`,borderBottom:`1px solid ${l.borderColor}`,padding:"16px 0",marginTop:4},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:12,color:l.subtextColor,textTransform:"uppercase",letterSpacing:"0.08em"},resultValue:{fontSize:"clamp(18px, 4vw, 24px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",marginTop:"8px"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:i,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${l.borderColor}`,background:r,color:l.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function $0({onRetry:l,onBack:r,score:i,bestScore:s,isPracticeScoreMode:u}){const c=on(),{getVisualSettings:h}=At(),p=h("levelScreen"),g=j.useMemo(()=>J1(p),[p]),y=typeof i=="number"?Math.round(i):void 0,x=typeof s=="number"?Math.round(s):void 0;return f.jsx("div",{style:g.overlay,children:f.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsx("div",{style:g.iconWrapper,children:f.jsx(R0,{size:64})}),f.jsx("h2",{id:"modalTitle",style:g.title,children:u?"Game Over":"Has Perdut!"}),f.jsx("p",{style:g.subtitle,children:"T'has quedat sense vides."}),typeof y=="number"&&typeof x=="number"&&f.jsxs("div",{style:g.results,children:[f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Score Actual"}),f.jsx("span",{style:g.resultValue,children:y})]}),f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Millor score"}),f.jsx("span",{style:g.resultValue,children:x})]})]}),f.jsxs("div",{style:g.actions,children:[f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.retryButton,onClick:l,children:[f.jsx(hd,{size:18})," Tornar a Intentar"]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.backButton,onClick:r,children:[f.jsx(jr,{size:18})," Tornar als Nivells"]})]})]})})}function Q1(l){const r=Math.floor(l/60).toString(),i=(l%60).toString().padStart(2,"0");return`${r}:${i}`}const W1=l=>{const r=`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2})`,i=We(l.textColor,.08),s={fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0};return{overlay:{position:"fixed",inset:0,background:We(l.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:l.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},title:s,results:{display:"grid",gridTemplateColumns:"1fr",borderTop:`1px solid ${l.borderColor}`,borderBottom:`1px solid ${l.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:l.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},newMazeButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${l.borderColor}`,background:i,color:l.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${l.borderColor}`,background:i,color:l.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},statusIcon:u=>({color:u?l.easyColor:l.hardColor,marginBottom:"-16px"}),statusTitle:u=>({...s,color:u?l.easyColor:l.hardColor})}};function X1({status:l,time:r,onRetrySameMaze:i,onRetryNewMaze:s,onBackToSettings:u}){const c=on(),{getVisualSettings:h}=At(),p=h("levelScreen"),g=j.useMemo(()=>W1(p),[p]),y=l==="completed";return f.jsx("div",{style:g.overlay,children:f.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsx("div",{style:g.statusIcon(y),children:y?f.jsx(dd,{size:56}):f.jsx(R0,{size:56})}),f.jsx("h2",{id:"modalTitle",style:g.statusTitle(y),children:y?"Laberint Superat":"Derrota"}),f.jsx("div",{style:g.results,children:f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Temps Final"}),f.jsx("span",{style:g.resultValue,children:Q1(r)})]})}),f.jsxs("div",{style:g.actions,children:[f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.retryButton,onClick:i,children:[f.jsx(hd,{size:18})," Repetir Laberint"]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.newMazeButton,onClick:s,children:[f.jsx(wb,{size:18})," Nou Laberint (Mateixos Parmetres)"]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.backButton,onClick:u,children:[f.jsx(jr,{size:18})," Canviar Parmetres"]})]})]})})}const ea=[{title:"Benvingut al Tutorial!",description:"Aprendrem junts com jugar a MazeMind. Prem 'Segent' per comenar.",icon:Kc},{title:"Memoritza el Laberint",description:"Fixa't b en el laberint. Les lnies sn parets que no pots travessar. Tu ets el cercle i el quadrat s la sortida.",icon:rl},{title:"Prepara't!",description:"En uns segons, les parets desapareixeran i haurs de recordar el cam. Intenta visualitzar mentalment la ruta.",icon:rl},{title:"Ara et toca!",description:"Usa les Fletxes o les tecles WASD configurades per moure't. Les parets sn invisibles per encara estan all! Intenta arribar a la sortida.",icon:Ic},{title:"Ajudes Disponibles",description:"Si et perds, pots usar les ajudes del HUD: 'Revelar' (costa punts), 'Mostrar Cam' o 'Ajuda Xoc' (costen punts per temps/s).",icon:pi},{title:"Tutorial Completat!",description:"Ja saps com jugar! Recorda que la prctica fa el mestre. Prem 'Comenar a Jugar!' per sortir del tutorial.",icon:dd}];function F1({step:l,onNext:r,onSkip:i}){const s=ea[l]||ea[0],u=s.icon,c=l===ea.length-1,h={overlay:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",zIndex:100,display:"grid",placeItems:"center",padding:"16px"},card:{background:q.surface,color:q.text,borderRadius:"16px",border:`1px solid ${q.borderColor}`,maxWidth:"500px",width:"100%",padding:"24px",boxShadow:q.shadow},header:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"20px"},iconWrapper:{width:"50px",height:"50px",background:`linear-gradient(135deg, ${q.accentViolet}, ${q.accentBlue})`,borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},title:{fontSize:"1.4rem",fontWeight:700,margin:"0 0 4px 0"},stepCounter:{fontSize:"0.8rem",color:q.subtext,marginBottom:"8px"},description:{fontSize:"1rem",color:q.subtext,margin:0,lineHeight:1.6},progressBarTrack:{height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",marginBottom:"20px",overflow:"hidden"},progressBarFill:{height:"100%",background:`linear-gradient(90deg, ${q.accentViolet}, ${q.accentBlue})`,transition:"width 0.3s ease"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},skipButton:{background:"transparent",border:"none",color:q.subtext,cursor:"pointer",fontSize:"0.9rem"},nextButton:{background:`linear-gradient(90deg, ${q.accentViolet}, ${q.accentBlue})`,color:q.text,border:"none",padding:"10px 16px",borderRadius:"8px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}};return f.jsx("div",{style:h.overlay,children:f.jsxs("div",{style:h.card,children:[f.jsxs("div",{style:h.header,children:[f.jsx("div",{style:h.iconWrapper,children:f.jsx(u,{size:28,color:"#fff"})}),f.jsxs("div",{children:[f.jsxs("div",{style:h.stepCounter,children:["Pas ",l+1," de ",ea.length]}),f.jsx("h2",{style:h.title,children:s.title}),f.jsx("p",{style:h.description,children:s.description})]})]}),f.jsx("div",{style:h.progressBarTrack,children:f.jsx("div",{style:{...h.progressBarFill,width:`${(l+1)/ea.length*100}%`}})}),f.jsxs("div",{style:h.footer,children:[f.jsx("button",{style:h.skipButton,onClick:i,children:"Saltar Tutorial"}),f.jsxs("button",{style:h.nextButton,onClick:r,children:[c?"Comenar a Jugar!":"Segent",!c&&f.jsx(cd,{size:18})]})]})]})})}var Wc=function(l,r){return Wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(i[u]=s[u])},Wc(l,r)};function V0(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Wc(l,r);function i(){this.constructor=l}l.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}var Ks=function(){return Ks=Object.assign||function(r){for(var i,s=1,u=arguments.length;s<u;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(r[c]=i[c])}return r},Ks.apply(this,arguments)};function ll(l,r){var i={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&r.indexOf(s)<0&&(i[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(l);u<s.length;u++)r.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(l,s[u])&&(i[s[u]]=l[s[u]]);return i}function q0(l,r,i,s){var u=arguments.length,c=u<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,i):s,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,r,i,s);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(c=(u<3?h(c):u>3?h(r,i,c):h(r,i))||c);return u>3&&c&&Object.defineProperty(r,i,c),c}function G0(l,r){return function(i,s){r(i,s,l)}}function P0(l,r,i,s,u,c){function h(Y){if(Y!==void 0&&typeof Y!="function")throw new TypeError("Function expected");return Y}for(var p=s.kind,g=p==="getter"?"get":p==="setter"?"set":"value",y=!r&&l?s.static?l:l.prototype:null,x=r||(y?Object.getOwnPropertyDescriptor(y,s.name):{}),S,_=!1,E=i.length-1;E>=0;E--){var k={};for(var N in s)k[N]=N==="access"?{}:s[N];for(var N in s.access)k.access[N]=s.access[N];k.addInitializer=function(Y){if(_)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(Y||null))};var A=(0,i[E])(p==="accessor"?{get:x.get,set:x.set}:x[g],k);if(p==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(S=h(A.get))&&(x.get=S),(S=h(A.set))&&(x.set=S),(S=h(A.init))&&u.unshift(S)}else(S=h(A))&&(p==="field"?u.unshift(S):x[g]=S)}y&&Object.defineProperty(y,s.name,x),_=!0}function I0(l,r,i){for(var s=arguments.length>2,u=0;u<r.length;u++)i=s?r[u].call(l,i):r[u].call(l);return s?i:void 0}function Y0(l){return typeof l=="symbol"?l:"".concat(l)}function K0(l,r,i){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:i?"".concat(i," ",r):r})}function J0(l,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,r)}function oe(l,r,i,s){function u(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function p(x){try{y(s.next(x))}catch(S){h(S)}}function g(x){try{y(s.throw(x))}catch(S){h(S)}}function y(x){x.done?c(x.value):u(x.value).then(p,g)}y((s=s.apply(l,r||[])).next())})}function Q0(l,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(x){return g([y,x])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(i=0)),i;)try{if(s=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,u=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=r.call(l,i)}catch(x){y=[6,x],u=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var to=Object.create?(function(l,r,i,s){s===void 0&&(s=i);var u=Object.getOwnPropertyDescriptor(r,i);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(l,s,u)}):(function(l,r,i,s){s===void 0&&(s=i),l[s]=r[i]});function W0(l,r){for(var i in l)i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&to(r,l,i)}function Js(l){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&l[r],s=0;if(i)return i.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function yd(l,r){var i=typeof Symbol=="function"&&l[Symbol.iterator];if(!i)return l;var s=i.call(l),u,c=[],h;try{for(;(r===void 0||r-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(p){h={error:p}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return c}function X0(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(yd(arguments[r]));return l}function F0(){for(var l=0,r=0,i=arguments.length;r<i;r++)l+=arguments[r].length;for(var s=Array(l),u=0,r=0;r<i;r++)for(var c=arguments[r],h=0,p=c.length;h<p;h++,u++)s[u]=c[h];return s}function Z0(l,r,i){if(i||arguments.length===2)for(var s=0,u=r.length,c;s<u;s++)(c||!(s in r))&&(c||(c=Array.prototype.slice.call(r,0,s)),c[s]=r[s]);return l.concat(c||Array.prototype.slice.call(r))}function al(l){return this instanceof al?(this.v=l,this):new al(l)}function ey(l,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(l,r||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(E){return function(k){return Promise.resolve(k).then(E,S)}}function p(E,k){s[E]&&(u[E]=function(N){return new Promise(function(A,Y){c.push([E,N,A,Y])>1||g(E,N)})},k&&(u[E]=k(u[E])))}function g(E,k){try{y(s[E](k))}catch(N){_(c[0][3],N)}}function y(E){E.value instanceof al?Promise.resolve(E.value.v).then(x,S):_(c[0][2],E)}function x(E){g("next",E)}function S(E){g("throw",E)}function _(E,k){E(k),c.shift(),c.length&&g(c[0][0],c[0][1])}}function ty(l){var r,i;return r={},s("next"),s("throw",function(u){throw u}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(u,c){r[u]=l[u]?function(h){return(i=!i)?{value:al(l[u](h)),done:!1}:c?c(h):h}:c}}function ny(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=l[Symbol.asyncIterator],i;return r?r.call(l):(l=typeof Js=="function"?Js(l):l[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(c){i[c]=l[c]&&function(h){return new Promise(function(p,g){h=l[c](h),u(p,g,h.done,h.value)})}}function u(c,h,p,g){Promise.resolve(g).then(function(y){c({value:y,done:p})},h)}}function ry(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l}var Z1=Object.create?(function(l,r){Object.defineProperty(l,"default",{enumerable:!0,value:r})}):function(l,r){l.default=r},Xc=function(l){return Xc=Object.getOwnPropertyNames||function(r){var i=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[i.length]=s);return i},Xc(l)};function ay(l){if(l&&l.__esModule)return l;var r={};if(l!=null)for(var i=Xc(l),s=0;s<i.length;s++)i[s]!=="default"&&to(r,l,i[s]);return Z1(r,l),r}function ly(l){return l&&l.__esModule?l:{default:l}}function iy(l,r,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?l!==r||!s:!r.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(l):s?s.value:r.get(l)}function sy(l,r,i,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?l!==r||!u:!r.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(l,i):u?u.value=i:r.set(l,i),i}function oy(l,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?r===l:l.has(r)}function uy(l,r,i){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,u;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],i&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:r,dispose:s,async:i})}else i&&l.stack.push({async:!0});return r}var ex=typeof SuppressedError=="function"?SuppressedError:function(l,r,i){var s=new Error(i);return s.name="SuppressedError",s.error=l,s.suppressed=r,s};function cy(l){function r(c){l.error=l.hasError?new ex(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var i,s=0;function u(){for(;i=l.stack.pop();)try{if(!i.async&&s===1)return s=0,l.stack.push(i),Promise.resolve().then(u);if(i.dispose){var c=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(c).then(u,function(h){return r(h),u()})}else s|=1}catch(h){r(h)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function dy(l,r){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,u,c,h){return s?r?".jsx":".js":u&&(!c||!h)?i:u+c+"."+h.toLowerCase()+"js"}):l}const tx={__extends:V0,__assign:Ks,__rest:ll,__decorate:q0,__param:G0,__esDecorate:P0,__runInitializers:I0,__propKey:Y0,__setFunctionName:K0,__metadata:J0,__awaiter:oe,__generator:Q0,__createBinding:to,__exportStar:W0,__values:Js,__read:yd,__spread:X0,__spreadArrays:F0,__spreadArray:Z0,__await:al,__asyncGenerator:ey,__asyncDelegator:ty,__asyncValues:ny,__makeTemplateObject:ry,__importStar:ay,__importDefault:ly,__classPrivateFieldGet:iy,__classPrivateFieldSet:sy,__classPrivateFieldIn:oy,__addDisposableResource:uy,__disposeResources:cy,__rewriteRelativeImportExtension:dy},nx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:uy,get __assign(){return Ks},__asyncDelegator:ty,__asyncGenerator:ey,__asyncValues:ny,__await:al,__awaiter:oe,__classPrivateFieldGet:iy,__classPrivateFieldIn:oy,__classPrivateFieldSet:sy,__createBinding:to,__decorate:q0,__disposeResources:cy,__esDecorate:P0,__exportStar:W0,__extends:V0,__generator:Q0,__importDefault:ly,__importStar:ay,__makeTemplateObject:ry,__metadata:J0,__param:G0,__propKey:Y0,__read:yd,__rest:ll,__rewriteRelativeImportExtension:dy,__runInitializers:I0,__setFunctionName:K0,__spread:X0,__spreadArray:Z0,__spreadArrays:F0,__values:Js,default:tx},Symbol.toStringTag,{value:"Module"})),rx=l=>l?(...r)=>l(...r):(...r)=>fetch(...r);class md extends Error{constructor(r,i="FunctionsError",s){super(r),this.name=i,this.context=s}}class Ig extends md{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Yg extends md{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Kg extends md{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Fc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Fc||(Fc={}));class ax{constructor(r,{headers:i={},customFetch:s,region:u=Fc.Any}={}){this.url=r,this.headers=i,this.region=u,this.fetch=rx(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return oe(this,arguments,void 0,function*(i,s={}){var u;try{const{headers:c,method:h,body:p,signal:g}=s;let y={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${i}`);x&&x!=="any"&&(y["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let _;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(y["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(y["Content-Type"]="application/json",_=JSON.stringify(p)):_=p;const E=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:_,signal:g}).catch(Y=>{throw Y.name==="AbortError"?Y:new Ig(Y)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new Yg(E);if(!E.ok)throw new Kg(E);let N=((u=E.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),A;return N==="application/json"?A=yield E.json():N==="application/octet-stream"||N==="application/pdf"?A=yield E.blob():N==="text/event-stream"?A=E:N==="multipart/form-data"?A=yield E.formData():A=yield E.text(),{data:A,error:null,response:E}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Ig(c)}:{data:null,error:c,response:c instanceof Kg||c instanceof Yg?c.context:void 0}}})}}var Et={};const il=Xv(nx);var zs={},Ms={},Bs={},Ds={},Ns={},Us={},Jg;function fy(){if(Jg)return Us;Jg=1,Object.defineProperty(Us,"__esModule",{value:!0});class l extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Us.default=l,Us}var Qg;function hy(){if(Qg)return Ns;Qg=1,Object.defineProperty(Ns,"__esModule",{value:!0});const r=il.__importDefault(fy());class i{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,x,S,_;let E=null,k=null,N=null,A=g.status,Y=g.statusText;if(g.ok){if(this.method!=="HEAD"){const te=await g.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?k=te:k=JSON.parse(te))}const P=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),W=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");P&&W&&W.length>1&&(N=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(E={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,A=406,Y="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const P=await g.text();try{E=JSON.parse(P),Array.isArray(E)&&g.status===404&&(k=[],E=null,A=200,Y="OK")}catch{g.status===404&&P===""?(A=204,Y="No Content"):E={message:P}}if(E&&this.isMaybeSingle&&(!((_=E?.details)===null||_===void 0)&&_.includes("0 rows"))&&(E=null,A=200,Y="OK"),E&&this.shouldThrowOnError)throw new r.default(E)}return{error:E,data:k,count:N,status:A,statusText:Y}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,x,S;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(x=g?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(S=g?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Ns.default=i,Ns}var Wg;function py(){if(Wg)return Ds;Wg=1,Object.defineProperty(Ds,"__esModule",{value:!0});const r=il.__importDefault(hy());class i extends r.default{select(u){let c=!1;const h=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",x=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${x?`${x},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var x;const S=[u?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${_}"; options=${S};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return Ds.default=i,Ds}var Xg;function vd(){if(Xg)return Bs;Xg=1,Object.defineProperty(Bs,"__esModule",{value:!0});const r=il.__importDefault(py()),i=new RegExp("[,()]");class s extends r.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const x=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${x}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return Bs.default=s,Bs}var Fg;function gy(){if(Fg)return Ms;Fg=1,Object.defineProperty(Ms,"__esModule",{value:!0});const r=il.__importDefault(vd());class i{constructor(u,{headers:c={},schema:h,fetch:p}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(u,c){const{head:h=!1,count:p}=c??{},g=h?"HEAD":"GET";let y=!1;const x=(u??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",x),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(y.length>0){const x=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var y;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const S=u.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(S.length>0){const _=[...new Set(S)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ms.default=i,Ms}var Zg;function lx(){if(Zg)return zs;Zg=1,Object.defineProperty(zs,"__esModule",{value:!0});const l=il,r=l.__importDefault(gy()),i=l.__importDefault(vd());class s{constructor(c,{headers:h={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(c){const h=new URL(`${this.url}/${c}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:g=!1,count:y}={}){var x;let S;const _=new URL(`${this.url}/rpc/${c}`);let E;p||g?(S=p?"HEAD":"GET",Object.entries(h).filter(([N,A])=>A!==void 0).map(([N,A])=>[N,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([N,A])=>{_.searchParams.append(N,A)})):(S="POST",E=h);const k=new Headers(this.headers);return y&&k.set("Prefer",`count=${y}`),new i.default({method:S,url:_,headers:k,schema:this.schemaName,body:E,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return zs.default=s,zs}var e0;function ix(){if(e0)return Et;e0=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostgrestError=Et.PostgrestBuilder=Et.PostgrestTransformBuilder=Et.PostgrestFilterBuilder=Et.PostgrestQueryBuilder=Et.PostgrestClient=void 0;const l=il,r=l.__importDefault(lx());Et.PostgrestClient=r.default;const i=l.__importDefault(gy());Et.PostgrestQueryBuilder=i.default;const s=l.__importDefault(vd());Et.PostgrestFilterBuilder=s.default;const u=l.__importDefault(py());Et.PostgrestTransformBuilder=u.default;const c=l.__importDefault(hy());Et.PostgrestBuilder=c.default;const h=l.__importDefault(fy());return Et.PostgrestError=h.default,Et.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},Et}var yy=ix();const my=T0(yy),sx=Wv({__proto__:null,default:my},[yy]),{PostgrestClient:ox,PostgrestQueryBuilder:Mw,PostgrestFilterBuilder:Bw,PostgrestTransformBuilder:Dw,PostgrestBuilder:Nw,PostgrestError:Uw}=my||sx;class ux{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,u=parseInt(s.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const s=this.getWebSocketConstructor();return new s(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const cx="2.80.0",dx=`realtime-js/${cx}`,fx="1.0.0",Zc=1e4,hx=1e3,px=100;var oi;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(oi||(oi={}));var ft;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ft||(ft={}));var Sn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Sn||(Sn={}));var ed;(function(l){l.websocket="websocket"})(ed||(ed={}));var ta;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ta||(ta={}));class gx{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),s=new TextDecoder;return this._decodeBroadcast(r,i,s)}_decodeBroadcast(r,i,s){const u=i.getUint8(1),c=i.getUint8(2);let h=this.HEADER_LENGTH+2;const p=s.decode(r.slice(h,h+u));h=h+u;const g=s.decode(r.slice(h,h+c));h=h+c;const y=JSON.parse(s.decode(r.slice(h,r.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class vy{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ye||(Ye={}));const t0=(l,r,i={})=>{var s;const u=(s=i.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=yx(h,l,r,u),c),{}):{}},yx=(l,r,i,s)=>{const u=r.find(p=>p.name===l),c=u?.type,h=i[l];return c&&!s.includes(c)?by(c,h):td(h)},by=(l,r)=>{if(l.charAt(0)==="_"){const i=l.slice(1,l.length);return xx(r,i)}switch(l){case Ye.bool:return mx(r);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return vx(r);case Ye.json:case Ye.jsonb:return bx(r);case Ye.timestamp:return Sx(r);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return td(r);default:return td(r)}},td=l=>l,mx=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},vx=l=>{if(typeof l=="string"){const r=parseFloat(l);if(!Number.isNaN(r))return r}return l},bx=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(r){return console.log(`JSON parse error: ${r}`),l}return l},xx=(l,r)=>{if(typeof l!="string")return l;const i=l.length-1,s=l[i];if(l[0]==="{"&&s==="}"){let c;const h=l.slice(1,i);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>by(r,p))}return l},Sx=l=>typeof l=="string"?l.replace(" ","T"):l,xy=l=>{const r=new URL(l);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class jc{constructor(r,i,s={},u=Zc){this.channel=r,this.event=i,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var s;return this._hasReceived(r)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var n0;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(n0||(n0={}));class ui{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,u,c,h),this.pendingDiffs.forEach(g=>{this.state=ui.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ui.syncDiff(this.state,u,c,h),p())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,s,u){const c=this.cloneDeep(r),h=this.transformState(i),p={},g={};return this.map(c,(y,x)=>{h[y]||(g[y]=x)}),this.map(h,(y,x)=>{const S=c[y];if(S){const _=x.map(A=>A.presence_ref),E=S.map(A=>A.presence_ref),k=x.filter(A=>E.indexOf(A.presence_ref)<0),N=S.filter(A=>_.indexOf(A.presence_ref)<0);k.length>0&&(p[y]=k),N.length>0&&(g[y]=N)}else p[y]=x}),this.syncDiff(c,{joins:p,leaves:g},s,u)}static syncDiff(r,i,s,u){const{joins:c,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var y;const x=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(g),x.length>0){const S=r[p].map(E=>E.presence_ref),_=x.filter(E=>S.indexOf(E.presence_ref)<0);r[p].unshift(..._)}s(p,x,g)}),this.map(h,(p,g)=>{let y=r[p];if(!y)return;const x=g.map(S=>S.presence_ref);y=y.filter(S=>x.indexOf(S.presence_ref)<0),r[p]=y,u(p,y,g),y.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(s=>i(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,s)=>{const u=r[s];return"metas"in u?i[s]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[s]=u,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var r0;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(r0||(r0={}));var ci;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(ci||(ci={}));var Xn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class bd{constructor(r,i={config:{}},s){var u,c;if(this.topic=r,this.params=i,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new vy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new ui(this),this.broadcastEndpointURL=xy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,i=this.timeout){var s,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,y=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[ci.PRESENCE]&&this.bindings[ci.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},_={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(E=>r?.(Xn.CHANNEL_ERROR,E)),this._onClose(()=>r?.(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},S)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket.setAuth(),E===void 0){r?.(Xn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,A=(k=N?.length)!==null&&k!==void 0?k:0,Y=[];for(let O=0;O<A;O++){const P=N[O],{filter:{event:W,schema:te,table:Q,filter:U}}=P,pe=E&&E[O];if(pe&&pe.event===W&&pe.schema===te&&pe.table===Q&&pe.filter===U)Y.push(Object.assign(Object.assign({},P),{id:pe.id}));else{this.unsubscribe(),this.state=ft.errored,r?.(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,r&&r(Xn.SUBSCRIBED);return}}).receive("error",E=>{this.state=ft.errored,r?.(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{r?.(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,s){return this.state===ft.joined&&r===ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,i,s)}async httpSend(r,i,s={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,i={}){var s,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,g;const y=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ft.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new jc(this,Sn.leave,{},r),s.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(r,i,s){const u=new AbortController,c=setTimeout(()=>u.abort(),s),h=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(c),h}_push(r,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,r,i,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>px){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,s){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,s){var u,c;const h=r.toLocaleLowerCase(),{close:p,error:g,leave:y,join:x}=Sn;if(s&&[p,g,y,x].indexOf(h)>=0&&s!==this._joinRef())return;let _=this._onMessage(h,i,s);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var k,N,A;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((A=(N=E.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===h}).map(E=>E.callback(_,s)):(c=this.bindings[h])===null||c===void 0||c.filter(E=>{var k,N,A,Y,O,P;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const W=E.id,te=(k=E.filter)===null||k===void 0?void 0:k.event;return W&&((N=i.ids)===null||N===void 0?void 0:N.includes(W))&&(te==="*"||te?.toLocaleLowerCase()===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const W=(O=(Y=E?.filter)===null||Y===void 0?void 0:Y.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return W==="*"||W===((P=i?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof _=="object"&&"ids"in _){const k=_.data,{schema:N,table:A,commit_timestamp:Y,type:O,errors:P}=k;_=Object.assign(Object.assign({},{schema:N,table:A,commit_timestamp:Y,eventType:O,new:{},old:{},errors:P}),this._getPayloadRecords(k))}E.callback(_,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,s){const u=r.toLocaleLowerCase(),c={type:u,filter:i,callback:s};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,i){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&bd.isEqual(u.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const s in r)if(r[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Sn.close,{},r)}_onError(r){this._on(Sn.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=t0(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=t0(r.columns,r.old_record)),i}}const Ec=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wx=[1e3,2e3,5e3,1e4],_x=1e4,Cx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ax{constructor(r,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zc,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ec,this.ref=0,this.reconnectTimer=null,this.logger=Ec,this.conn=null,this.sendBuffer=[],this.serializer=new gx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${ed.websocket}`,this.httpEndpoint=xy(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ux.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fx}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},r?this.conn.close(r,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,s){this.logger(r,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case oi.connecting:return ta.Connecting;case oi.open:return ta.Open;case oi.closing:return ta.Closing;default:return ta.Closed}}isConnected(){return this.connectionState()===ta.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const s=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===s);if(u)return u;{const c=new bd(`realtime:${r}`,i,this);return this.channels.push(c),c}}push(r){const{topic:i,event:s,payload:u,ref:c}=r,h=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${s} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(hx,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:u,payload:c,ref:h}=i,p=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${s} ${u} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(s)).forEach(y=>y._trigger(u,c,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Sn.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const s=r.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${r}${s}${u}`}_workerObjectUrl(r){let i;if(r)i=r;else{const s=new Blob([Cx],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i;r?i=r:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(s=>{const u={access_token:i,version:dx};i&&s.updateJoinPayload(u),s.joinedOnce&&s._isJoined()&&s._push(Sn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(i)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new vy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,s,u,c,h,p,g,y,x;if(this.transport=(i=r?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=r?.timeout)!==null&&s!==void 0?s:Zc,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:Ls.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:Ec,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>wx[S-1]||_x),this.encode=(y=r?.encode)!==null&&y!==void 0?y:((S,_)=>_(JSON.stringify(S))),this.decode=(x=r?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class xd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ze(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class jx extends xd{constructor(r,i,s){super(r),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nd extends xd{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}const Sd=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),Ex=()=>Response,rd=l=>{if(Array.isArray(l))return l.map(i=>rd(i));if(typeof l=="function"||l!==Object(l))return l;const r={};return Object.entries(l).forEach(([i,s])=>{const u=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=rd(s)}),r},Tx=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Tc=l=>{var r;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(r=l.error)===null||r===void 0?void 0:r.message)||JSON.stringify(l)},kx=(l,r,i)=>oe(void 0,void 0,void 0,function*(){const s=yield Ex();l instanceof s&&!i?.noResolveJson?l.json().then(u=>{const c=l.status||500,h=u?.statusCode||c+"";r(new jx(Tc(u),c,h))}).catch(u=>{r(new nd(Tc(u),u))}):r(new nd(Tc(l),l))}),Rx=(l,r,i,s)=>{const u={method:l,headers:r?.headers||{}};return l==="GET"||!s?u:(Tx(s)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(s)):u.body=s,r?.duplex&&(u.duplex=r.duplex),Object.assign(Object.assign({},u),i))};function gi(l,r,i,s,u,c){return oe(this,void 0,void 0,function*(){return new Promise((h,p)=>{l(i,Rx(r,s,u,c)).then(g=>{if(!g.ok)throw g;return s?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>kx(g,p,s))})})}function di(l,r,i,s){return oe(this,void 0,void 0,function*(){return gi(l,"GET",r,i,s)})}function xn(l,r,i,s,u){return oe(this,void 0,void 0,function*(){return gi(l,"POST",r,s,u,i)})}function ad(l,r,i,s,u){return oe(this,void 0,void 0,function*(){return gi(l,"PUT",r,s,u,i)})}function Ox(l,r,i,s){return oe(this,void 0,void 0,function*(){return gi(l,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function wd(l,r,i,s,u){return oe(this,void 0,void 0,function*(){return gi(l,"DELETE",r,s,u,i)})}class zx{constructor(r,i){this.downloadFn=r,this.shouldThrowOnError=i}then(r,i){return this.execute().then(r,i)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}var Sy;class Mx{constructor(r,i){this.downloadFn=r,this.shouldThrowOnError=i,this[Sy]="BlobDownloadBuilder",this.promise=null}asStream(){return new zx(this.downloadFn,this.shouldThrowOnError)}then(r,i){return this.getPromise().then(r,i)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}Sy=Symbol.toStringTag;const Bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Dx{constructor(r,i={},s,u){this.shouldThrowOnError=!1,this.url=r,this.headers=i,this.bucketId=s,this.fetch=Sd(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,i,s,u){return oe(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},a0),u);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const y=this._removeEmptyFolders(i),x=this._getFinalPath(y),S=yield(r=="PUT"?ad:xn)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}upload(r,i,s){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,s)})}uploadToSignedUrl(r,i,s,u){return oe(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",i);try{let g;const y=Object.assign({upsert:a0.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType);const S=yield ad(this.fetch,p.toString(),g,{headers:x});return{data:{path:c,fullPath:S.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ze(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const u=Object.assign({},this.headers);i?.upsert&&(u["x-upsert"]="true");const c=yield xn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:u}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new xd("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:p},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}update(r,i,s){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,s)})}move(r,i,s){return oe(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}copy(r,i,s){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}createSignedUrl(r,i,s){return oe(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),c=yield xn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}createSignedUrls(r,i,s){return oe(this,void 0,void 0,function*(){try{const u=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}download(r,i){const u=typeof i?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(i?.transform||{}),h=c?`?${c}`:"",p=this._getFinalPath(r),g=()=>di(this.fetch,`${this.url}/${u}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new Mx(g,this.shouldThrowOnError)}info(r){return oe(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const s=yield di(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:rd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}exists(r){return oe(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield Ox(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s)&&s instanceof nd){const u=s.originalError;if([400,404].includes(u?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,i){const s=this._getFinalPath(r),u=[],c=i?.download?`download=${i.download===!0?"":i.download}`:"";c!==""&&u.push(c);const p=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${y}`)}}}remove(r){return oe(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}list(r,i,s){return oe(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Bx),i),{prefix:r||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},s),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}listV2(r,i){return oe(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const wy="2.80.0",_y={"X-Client-Info":`storage-js/${wy}`};class Nx{constructor(r,i={},s,u){this.shouldThrowOnError=!1;const c=new URL(r);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_y),i),this.fetch=Sd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return oe(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(r);return{data:yield di(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}getBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createBucket(r){return oe(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}updateBucket(r,i){return oe(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}emptyBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}deleteBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(r){const i={};return r&&("limit"in r&&(i.limit=String(r.limit)),"offset"in r&&(i.offset=String(r.offset)),r.search&&(i.search=r.search),r.sortColumn&&(i.sortColumn=r.sortColumn),r.sortOrder&&(i.sortOrder=r.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class Ux{constructor(r,i={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_y),i),this.fetch=Sd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}listBuckets(r){return oe(this,void 0,void 0,function*(){try{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const s=i.toString(),u=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield di(this.fetch,u,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}deleteBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}}const _d={"X-Client-Info":`storage-js/${wy}`,"Content-Type":"application/json"};class Cy extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class kc extends Cy{constructor(r,i,s){super(r),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lx extends Cy{constructor(r,i){super(r),this.name="StorageVectorsUnknownError",this.originalError=i}}var l0;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(l0||(l0={}));const Cd=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),Hx=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},i0=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),$x=(l,r,i)=>oe(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!i?.noResolveJson){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(h=>{const p=h?.statusCode||h?.code||u+"";r(new kc(i0(h),u,p))}).catch(()=>{const h=u+"",p=c.statusText||`HTTP ${u} error`;r(new kc(p,u,h))});else{const h=u+"",p=c.statusText||`HTTP ${u} error`;r(new kc(p,u,h))}}else r(new Lx(i0(l),l))}),Vx=(l,r,i,s)=>{const u={method:l,headers:r?.headers||{}};return s?(Hx(s)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(s)):u.body=s,Object.assign(Object.assign({},u),i)):u};function qx(l,r,i,s,u,c){return oe(this,void 0,void 0,function*(){return new Promise((h,p)=>{l(i,Vx(r,s,u,c)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>$x(g,p,s))})})}function Jt(l,r,i,s,u){return oe(this,void 0,void 0,function*(){return qx(l,"POST",r,s,u,i)})}class Gx{constructor(r,i={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_d),i),this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return oe(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}getIndex(r,i){return oe(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}listIndexes(r){return oe(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}deleteIndex(r,i){return oe(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}})}}class Px{constructor(r,i={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_d),i),this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return oe(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Jt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}getVectors(r){return oe(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}listVectors(r){return oe(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield Jt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}queryVectors(r){return oe(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}deleteVectors(r){return oe(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Jt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}}class Ix{constructor(r,i={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_d),i),this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}getBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}listBuckets(){return oe(this,arguments,void 0,function*(r={}){try{return{data:yield Jt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}deleteBucket(r){return oe(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}}class Yx extends Ix{constructor(r,i={}){super(r,i.headers||{},i.fetch)}from(r){return new Kx(this.url,this.headers,r,this.fetch)}}class Kx extends Gx{constructor(r,i,s,u){super(r,i,u),this.vectorBucketName=s}createIndex(r){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(i={}){return r.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Jx(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Jx extends Px{constructor(r,i,s,u,c){super(r,i,c),this.vectorBucketName=s,this.indexName=u}putVectors(r){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(i={}){return r.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Qx extends Nx{constructor(r,i={},s,u){super(r,i,s,u)}from(r){return new Dx(this.url,this.headers,r,this.fetch)}get vectors(){return new Yx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ux(this.url+"/iceberg",this.headers,this.fetch)}}const Wx="2.80.0";let ii="";typeof Deno<"u"?ii="deno":typeof document<"u"?ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ii="react-native":ii="node";const Xx={"X-Client-Info":`supabase-js-${ii}/${Wx}`},Fx={headers:Xx},Zx={schema:"public"},e2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t2={},n2=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),r2=()=>Headers,a2=(l,r,i)=>{const s=n2(i),u=r2();return async(c,h)=>{var p;const g=(p=await r())!==null&&p!==void 0?p:l;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),s(c,Object.assign(Object.assign({},h),{headers:y}))}};function l2(l){return l.endsWith("/")?l:l+"/"}function i2(l,r){var i,s;const{db:u,auth:c,realtime:h,global:p}=l,{db:g,auth:y,realtime:x,global:S}=r,_={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},S),p),{headers:Object.assign(Object.assign({},(i=S?.headers)!==null&&i!==void 0?i:{}),(s=p?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return l.accessToken?_.accessToken=l.accessToken:delete _.accessToken,_}function s2(l){const r=l?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l2(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ay="2.80.0",Fa=30*1e3,ld=3,Rc=ld*Fa,o2="http://localhost:9999",u2="supabase.auth.token",c2={"X-Client-Info":`gotrue-js/${Ay}`},id="X-Supabase-Api-Version",jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f2=600*1e3;class fi extends Error{constructor(r,i,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function ce(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class h2 extends fi{constructor(r,i,s){super(r,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function p2(l){return ce(l)&&l.name==="AuthApiError"}class na extends fi{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class Er extends fi{constructor(r,i,s,u){super(r,s,u),this.name=i,this.status=s}}class vn extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function g2(l){return ce(l)&&l.name==="AuthSessionMissingError"}class Ya extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hs extends Er{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class $s extends Er{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y2(l){return ce(l)&&l.name==="AuthImplicitGrantRedirectError"}class s0 extends Er{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sd extends Er{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Oc(l){return ce(l)&&l.name==="AuthRetryableFetchError"}class o0 extends Er{constructor(r,i,s){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class od extends Er{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u0=` 	
\r=`.split(""),m2=(()=>{const l=new Array(128);for(let r=0;r<l.length;r+=1)l[r]=-1;for(let r=0;r<u0.length;r+=1)l[u0[r].charCodeAt(0)]=-2;for(let r=0;r<Qs.length;r+=1)l[Qs[r].charCodeAt(0)]=r;return l})();function c0(l,r,i){if(l!==null)for(r.queue=r.queue<<8|l,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;i(Qs[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;i(Qs[s]),r.queuedBits-=6}}function Ey(l,r,i){const s=m2[l];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function d0(l){const r=[],i=h=>{r.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{x2(h,s,i)};for(let h=0;h<l.length;h+=1)Ey(l.charCodeAt(h),u,c);return r.join("")}function v2(l,r){if(l<=127){r(l);return}else if(l<=2047){r(192|l>>6),r(128|l&63);return}else if(l<=65535){r(224|l>>12),r(128|l>>6&63),r(128|l&63);return}else if(l<=1114111){r(240|l>>18),r(128|l>>12&63),r(128|l>>6&63),r(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function b2(l,r){for(let i=0;i<l.length;i+=1){let s=l.charCodeAt(i);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(l.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}v2(s,r)}}function x2(l,r,i){if(r.utf8seq===0){if(l<=127){i(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=l&31;else if(r.utf8seq===3)r.codepoint=l&15;else if(r.utf8seq===4)r.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|l&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function el(l){const r=[],i={queue:0,queuedBits:0},s=u=>{r.push(u)};for(let u=0;u<l.length;u+=1)Ey(l.charCodeAt(u),i,s);return new Uint8Array(r)}function S2(l){const r=[];return b2(l,i=>r.push(i)),new Uint8Array(r)}function aa(l){const r=[],i={queue:0,queuedBits:0},s=u=>{r.push(u)};return l.forEach(u=>c0(u,i,s)),c0(null,i,s),r.join("")}function w2(l){return Math.round(Date.now()/1e3)+l}function _2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const r=Math.random()*16|0;return(l=="x"?r:r&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Ty=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function C2(l){const r={},i=new URL(l);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return i.searchParams.forEach((s,u)=>{r[u]=s}),r}const ky=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),A2=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Za=async(l,r,i)=>{await l.setItem(r,JSON.stringify(i))},Wr=async(l,r)=>{const i=await l.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},_r=async(l,r)=>{await l.removeItem(r)};class no{constructor(){this.promise=new no.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}no.promiseConstructor=Promise;function zc(l){const r=l.split(".");if(r.length!==3)throw new od("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!d2.test(r[s]))throw new od("JWT not in base64url format");return{header:JSON.parse(d0(r[0])),payload:JSON.parse(d0(r[1])),signature:el(r[2]),raw:{header:r[0],payload:r[1]}}}async function j2(l){return await new Promise(r=>{setTimeout(()=>r(null),l)})}function E2(l,r){return new Promise((s,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!r(c,null,h)){s(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function T2(l){return("0"+l.toString(16)).substr(-2)}function k2(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let u="";for(let c=0;c<56;c++)u+=i.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(r),Array.from(r,T2).join("")}async function R2(l){const i=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(s);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function O2(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const i=await R2(l);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ka(l,r,i=!1){const s=k2();let u=s;i&&(u+="/PASSWORD_RECOVERY"),await Za(l,`${r}-code-verifier`,u);const c=await O2(s);return[c,s===c?"plain":"s256"]}const z2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M2(l){const r=l.headers.get(id);if(!r||!r.match(z2))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function B2(l){if(!l)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(l<=r)throw new Error("JWT has expired")}function D2(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ja(l){if(!N2.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mc(){const l={};return new Proxy(l,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U2(l,r){return new Proxy(l,{get:(i,s,u)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,u)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(i,s,u)}})}function f0(l){return JSON.parse(JSON.stringify(l))}const Zr=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),L2=[502,503,504];async function h0(l){var r;if(!A2(l))throw new sd(Zr(l),0);if(L2.includes(l.status))throw new sd(Zr(l),l.status);let i;try{i=await l.json()}catch(c){throw new na(Zr(c),c)}let s;const u=M2(l);if(u&&u.getTime()>=jy["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new o0(Zr(i),l.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new vn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new o0(Zr(i),l.status,i.weak_password.reasons);throw new h2(Zr(i),l.status||500,s)}const H2=(l,r,i,s)=>{const u={method:l,headers:r?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),i))};async function ye(l,r,i,s){var u;const c=Object.assign({},s?.headers);c[id]||(c[id]=jy["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const h=(u=s?.query)!==null&&u!==void 0?u:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await $2(l,r,i+p,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function $2(l,r,i,s,u,c){const h=H2(r,s,u,c);let p;try{p=await l(i,Object.assign({},h))}catch(g){throw console.error(g),new sd(Zr(g),0)}if(p.ok||await h0(p),s?.noResolveJson)return p;try{return await p.json()}catch(g){await h0(g)}}function bn(l){var r;let i=null;G2(l)&&(i=Object.assign({},l),l.expires_at||(i.expires_at=w2(l.expires_in)));const s=(r=l.user)!==null&&r!==void 0?r:l;return{data:{session:i,user:s},error:null}}function p0(l){const r=bn(l);return!r.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(r.data.weak_password=l.weak_password),r}function Ar(l){var r;return{data:{user:(r=l.user)!==null&&r!==void 0?r:l},error:null}}function V2(l){return{data:l,error:null}}function q2(l){const{action_link:r,email_otp:i,hashed_token:s,redirect_to:u,verification_type:c}=l,h=ll(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:s,redirect_to:u,verification_type:c},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function g0(l){return l}function G2(l){return l.access_token&&l.refresh_token&&l.expires_in}const Bc=["global","local","others"];class P2{constructor({url:r="",headers:i={},fetch:s}){this.url=r,this.headers=i,this.fetch=ky(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,i=Bc[0]){if(Bc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,i={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ar})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:i}=r,s=ll(r,["options"]),u=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(u.new_email=s?.newEmail,delete u.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:q2,redirectTo:i?.redirectTo})}catch(i){if(ce(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ar})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,s,u,c,h,p,g;try{const y={nextPage:null,lastPage:0,total:0},x=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:g0});if(x.error)throw x.error;const S=await x.json(),_=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(k.split(";")[1].split("=")[1]);y[`${A}Page`]=N}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ce(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Ja(r);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ar})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){Ja(r);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:Ar})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,i=!1){Ja(r);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ar})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){Ja(r.userId);try{const{data:i,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:s}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _deleteFactor(r){Ja(r.userId),Ja(r.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _listOAuthClients(r){var i,s,u,c,h,p,g;try{const y={nextPage:null,lastPage:0,total:0},x=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:g0});if(x.error)throw x.error;const S=await x.json(),_=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(k.split(";")[1].split("=")[1]);y[`${A}Page`]=N}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ce(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _getOAuthClient(r){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _updateOAuthClient(r,i){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}}function y0(l={}){return{getItem:r=>l[r]||null,setItem:(r,i)=>{l[r]=i},removeItem:r=>{delete l[r]}}}const Qa={debug:!!(globalThis&&Ty()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ry extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class I2 extends Ry{}async function Y2(l,r,i){Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await i()}finally{Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(r===0)throw Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new I2(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Qa.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function K2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Oy(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function J2(l){return parseInt(l,16)}function Q2(l){const r=new TextEncoder().encode(l);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function W2(l){var r;const{chainId:i,domain:s,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:g,resources:y,scheme:x,uri:S,version:_}=l;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=l.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=Oy(l.address),k=x?`${x}://${s}`:s,N=l.statement?`${l.statement}
`:"",A=`${k} wants you to sign in with your Ethereum account:
${E}

${N}`;let Y=`URI: ${S}
Version: ${_}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(Y+=`
Expiration Time: ${u.toISOString()}`),p&&(Y+=`
Not Before: ${p.toISOString()}`),g&&(Y+=`
Request ID: ${g}`),y){let O=`
Resources:`;for(const P of y){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);O+=`
- ${P}`}Y+=O}return`${A}
${Y}`}class ot extends Error{constructor({message:r,code:i,cause:s,name:u}){var c;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=u??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class Ws extends ot{constructor(r,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:r}),this.name="WebAuthnUnknownError",this.originalError=i}}function X2({error:l,options:r}){var i,s,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(r.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new ot({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(zy(h)){if(c.rp.id!==h)return new ot({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function F2({error:l,options:r}){const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new ot({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(zy(s)){if(i.rpId!==s)return new ot({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Z2{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const eS=new Z2;function tS(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:r,user:i,excludeCredentials:s}=l,u=ll(l,["challenge","user","excludeCredentials"]),c=el(r).buffer,h=Object.assign(Object.assign({},i),{id:el(i.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:h});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const y=s[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:el(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function nS(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:r,allowCredentials:i}=l,s=ll(l,["challenge","allowCredentials"]),u=el(r).buffer,c=Object.assign(Object.assign({},s),{challenge:u});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:el(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function rS(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l;return{id:l.id,rawId:l.id,response:{attestationObject:aa(new Uint8Array(l.response.attestationObject)),clientDataJSON:aa(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(r=i.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function aS(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l,s=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:aa(new Uint8Array(u.authenticatorData)),clientDataJSON:aa(new Uint8Array(u.clientDataJSON)),signature:aa(new Uint8Array(u.signature)),userHandle:u.userHandle?aa(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=i.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function zy(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function m0(){var l,r;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function lS(l){try{const r=await navigator.credentials.create(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ws("Browser returned unexpected credential type",r)}:{data:null,error:new Ws("Empty credential response",r)}}catch(r){return{data:null,error:X2({error:r,options:l})}}}async function iS(l){try{const r=await navigator.credentials.get(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ws("Browser returned unexpected credential type",r)}:{data:null,error:new Ws("Empty credential response",r)}}catch(r){return{data:null,error:F2({error:r,options:l})}}}const sS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},oS={userVerification:"preferred",hints:["security-key"]};function Xs(...l){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of l)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))s[c]=h;else if(i(h))s[c]=h;else if(r(h)){const p=s[c];r(p)?s[c]=Xs(p,h):s[c]=Xs(h)}else s[c]=h}return s}function uS(l,r){return Xs(sS,l,r||{})}function cS(l,r){return Xs(oS,l,r||{})}class dS{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:i,friendlyName:s,signal:u},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:i});if(!h)return{data:null,error:p};const g=u??eS.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${s}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=uS(h.webauthn.credential_options.publicKey,c?.create),{data:x,error:S}=await lS({publicKey:y,signal:g});return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}case"request":{const y=cS(h.webauthn.credential_options.publicKey,c?.request),{data:x,error:S}=await iS(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new na("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}},c){if(!i)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!m0())return{data:null,error:new na("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:i,rpOrigins:s},signal:u},{request:c});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:s,credential_response:g.credential_response}})}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new na("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u},c){if(!i)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!m0())return{data:null,error:new na("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(x=>{var S;return(S=x.data)===null||S===void 0?void 0:S.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:u},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new na("Unexpected error in register",h)}}}}K2();const fS={url:o2,storageKey:u2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function v0(l,r,i){return await i()}const Wa={};class hi{get jwks(){var r,i;return(i=(r=Wa[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=Wa[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:r})}constructor(r){var i,s,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},fS),r);if(this.storageKey=c.storageKey,this.instanceID=(i=hi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Tt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new P2({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ky(c.fetch),this.lock=c.lock||v0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:Tt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Y2:this.lock=v0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Ty()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=y0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=y0(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ay}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let i={},s="none";if(Tt()&&(i=C2(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Tt()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:c}=await this._getSessionFromURL(i,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),y2(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ce(i)?this._returnResult({error:i}):this._returnResult({error:new na("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,s,u;try{const c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:bn}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var i,s,u;try{let c;if("email"in r){const{email:x,password:S,options:_}=r;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await Ka(this.storage,this.storageKey)),c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:x,password:S,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:E,code_challenge_method:k},xform:bn})}else if("phone"in r){const{phone:x,password:S,options:_}=r;c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:S,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(u=_?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:bn})}else throw new Hs("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let i;if("email"in r){const{email:c,password:h,options:p}=r;i=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:p0})}else if("phone"in r){const{phone:c,password:h,options:p}=r;i=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:p0})}else throw new Hs("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s||!s.session||!s.user){const c=new Ya;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(r){var i,s,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;switch(i){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(r){var i,s,u,c,h,p,g,y,x,S,_;let E,k;if("message"in r)E=r.message,k=r.signature;else{const{chain:N,wallet:A,statement:Y,options:O}=r;let P;if(Tt())if(typeof A=="object")P=A;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")P=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const W=new URL((i=O?.url)!==null&&i!==void 0?i:window.location.href),te=await P.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=Oy(te[0]);let U=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!U){const be=await P.request({method:"eth_chainId"});U=J2(be)}const pe={domain:W.host,address:Q,statement:Y,uri:W.href,version:"1",chainId:U,nonce:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=O?.signInWithEthereum)===null||x===void 0?void 0:x.resources};E=W2(pe),k=await P.request({method:"personal_sign",params:[Q2(E),Q]})}try{const{data:N,error:A}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:bn});if(A)throw A;if(!N||!N.session||!N.user){const Y=new Ya;return this._returnResult({data:{user:null,session:null},error:Y})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:A})}catch(N){if(ce(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(r){var i,s,u,c,h,p,g,y,x,S,_,E;let k,N;if("message"in r)k=r.message,N=r.signature;else{const{chain:A,wallet:Y,statement:O,options:P}=r;let W;if(Tt())if(typeof Y=="object")W=Y;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))W=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=Y}const te=new URL((i=P?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const Q=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),O?{statement:O}:null));let U;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")U=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)U=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)k=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),N=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${te.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(u=(s=P?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=P?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((p=P?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((g=P?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((y=P?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((S=(x=P?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||S===void 0)&&S.length?["Resources",...P.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const Q=await W.signMessage(new TextEncoder().encode(k),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Q}}try{const{data:A,error:Y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:aa(N)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:bn});if(Y)throw Y;if(!A||!A.session||!A.user){const O=new Ya;return this._returnResult({data:{user:null,session:null},error:O})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:Y})}catch(A){if(ce(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(r){const i=await Wr(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(i??"").split("/");try{const{data:c,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:bn});if(await _r(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new Ya;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:i,provider:s,token:u,access_token:c,nonce:h}=r,p=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:bn}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const x=new Ya;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(r){var i,s,u,c,h;try{if("email"in r){const{email:p,options:g}=r;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Ka(this.storage,this.storageKey));const{error:S}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in r){const{phone:p,options:g}=r,{data:y,error:x}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:x})}throw new Hs("You must provide either an email or phone number.")}catch(p){if(ce(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var i,s;try{let u,c;"options"in r&&(u=(i=r.options)===null||i===void 0?void 0:i.redirectTo,c=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:p}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:bn});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var i,s,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Ka(this.storage,this.storageKey));const p=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:V2});return this._returnResult(p)}catch(c){if(ce(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)throw s;if(!i)throw new vn;const{error:u}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:s,type:u,options:c}=r,{error:h}=await ye(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:s,type:u,options:c}=r,{data:h,error:p}=await ye(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Hs("You must provide either an email or phone number and a type")}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<Rc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const h=await Wr(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=Mc()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=U2(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ar}):await this._useSession(async i=>{var s,u,c;const{data:h,error:p}=i;if(p)throw p;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ar})})}catch(i){if(ce(i))return g2(i)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async s=>{const{data:u,error:c}=s;if(c)throw c;if(!u.session)throw new vn;const h=u.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await Ka(this.storage,this.storageKey));const{data:y,error:x}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:Ar});if(x)throw x;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(ce(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vn;const i=Date.now()/1e3;let s=i,u=!0,c=null;const{payload:h}=zc(r.access_token);if(h.exp&&(s=h.exp,u=s<=i),u){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(ce(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var s;if(!r){const{data:h,error:p}=i;if(p)throw p;r=(s=h.session)!==null&&s!==void 0?s:void 0}if(!r?.refresh_token)throw new vn;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(r,i){try{if(!Tt())throw new $s("No browser detected.");if(r.error||r.error_description||r.error_code)throw new $s(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new s0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $s("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new s0("No code detected.");const{data:O,error:P}=await this._exchangeCodeForSession(r.code);if(P)throw P;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:p,expires_at:g,token_type:y}=r;if(!c||!p||!h||!y)throw new $s("No session defined in URL");const x=Math.round(Date.now()/1e3),S=parseInt(p);let _=x+S;g&&(_=parseInt(g));const E=_-x;E*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${S}s`);const k=_-S;x-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,_,x):x-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,_,x);const{data:N,error:A}=await this._getUser(c);if(A)throw A;const Y={provider_token:s,provider_refresh_token:u,access_token:c,expires_in:S,expires_at:_,refresh_token:h,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:r.type},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Wr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:u,error:c}=i;if(c)return this._returnResult({error:c});const h=(s=u.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(p2(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const i=_2(),s={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async i=>{var s,u;try{const{data:{session:c},error:h}=i;if(h)throw h;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,i={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ka(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(ce(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var i;try{const{data:s,error:u}=await this._useSession(async c=>{var h,p,g,y,x;const{data:S,error:_}=c;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",E,{headers:this.headers,jwt:(x=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return Tt()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:r.provider,url:s?.url},error:null})}catch(s){if(ce(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async i=>{var s;try{const{error:u,data:{session:c}}=i;if(u)throw u;const{options:h,provider:p,token:g,access_token:y,nonce:x}=r,S=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:g,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:bn}),{data:_,error:E}=S;return E?this._returnResult({data:{user:null,session:null},error:E}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Ya}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:E}))}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async i=>{var s,u;const{data:c,error:h}=i;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await E2(async u=>(u>0&&await j2(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:bn})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Oc(c)&&Date.now()+h-s<Fa})}catch(s){if(this._debug(i,"error",s),ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",s),Tt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await Wr(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Za(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h?.user)!==null&&r!==void 0?r:Mc()}else if(u&&!u.user&&!u.user){const h=await Wr(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await _r(this.storage,this.storageKey+"-user"),await Za(this.storage,this.storageKey,u)):u.user=Mc()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const c=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Rc;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Rc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Oc(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var i,s;if(!r)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new no;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new vn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ce(c)){const h={data:null,error:c};return Oc(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,i,s=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:i});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Za(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const c=f0(u);await Za(this.storage,this.storageKey,c)}else{const u=f0(i);await Za(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-r)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Fa}ms, refresh threshold is ${ld} ticks`),u<=ld&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Ry)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,s){const u=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,h]=await Ka(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);u.push(c.toString())}return s?.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var s;const{data:u,error:c}=i;return c?this._returnResult({data:null,error:c}):await ye(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(r){try{return await this._useSession(async i=>{var s,u;const{data:c,error:h}=i;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?rS(r.webauthn.credential_response):aS(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:tS(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:nS(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(r){const{data:i,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){var r;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=i?.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,i;const{data:{session:s},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=zc(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async i=>{const{data:{session:s},error:u}=i;return u?this._returnResult({data:null,error:u}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new vn})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(r,i){try{return await this._useSession(async s=>{const{data:{session:u},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new vn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Tt()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,i){try{return await this._useSession(async s=>{const{data:{session:u},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new vn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Tt()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,i={keys:[]}){let s=i.keys.find(p=>p.kid===r);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(p=>p.kid===r),s&&this.jwks_cached_at+f2>u)return s;const{data:c,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,s=c.keys.find(p=>p.kid===r),!s)?null:s}async getClaims(r,i={}){try{let s=r;if(!s){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});s=E.session.access_token}const{header:u,payload:c,signature:h,raw:{header:p,payload:g}}=zc(s);i?.allowExpired||B2(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:c,header:u,signature:h},error:null}}const x=D2(u.alg),S=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,S,h,S2(`${p}.${g}`)))throw new od("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}}hi.nextInstanceID={};const hS=hi;class pS extends hS{constructor(r){super(r)}}class gS{constructor(r,i,s){var u,c,h;this.supabaseUrl=r,this.supabaseKey=i;const p=s2(r);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:Zx,realtime:t2,auth:Object.assign(Object.assign({},e2),{storageKey:g}),global:Fx},x=i2(s??{},y);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(S,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=x.auth)!==null&&h!==void 0?h:{},this.headers,x.global.fetch),this.fetch=a2(i,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new ox(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new Qx(this.storageUrl.href,this.headers,this.fetch,s?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new ax(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,i,s)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,i;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:s,storage:u,userStorage:c,storageKey:h,flowType:p,lock:g,debug:y,throwOnError:x},S,_){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pS({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),S),storageKey:h,autoRefreshToken:r,persistSession:i,detectSessionInUrl:s,storage:u,userStorage:c,flowType:p,lock:g,debug:y,throwOnError:x,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Ax(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(r,i,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yS=(l,r,i)=>new gS(l,r,i);function mS(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const r=l.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}mS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sn=yS("https://xhrufumfqgnwbgyfzowt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhocnVmdW1mcWdud2JneWZ6b3d0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0ODQ5OTYsImV4cCI6MjA3ODA2MDk5Nn0.JqnMUm0zW6Sr3TRjc3TptsOhiLnIl5OodJmnypbaKRg",{auth:{persistSession:!0,autoRefreshToken:!0}}),Fs="mazeMindUser",vS=()=>{if(typeof window>"u")return null;try{const l=window.localStorage.getItem(Fs);return l?JSON.parse(l):null}catch(l){return console.error("Error parsing stored user",l),window.localStorage.removeItem(Fs),null}},b0=l=>l?{id:l.id,email:l.email??""}:null,My=j.createContext(void 0);function bS({children:l}){const[r,i]=j.useState(()=>vS());j.useEffect(()=>{typeof window>"u"||(r?window.localStorage.setItem(Fs,JSON.stringify(r)):window.localStorage.removeItem(Fs))},[r]),j.useEffect(()=>{let u=!0;(async()=>{try{const{data:p,error:g}=await sn.auth.getSession();if(g){console.error("Error getting Supabase session",g);return}const y=b0(p.session?.user??null);u&&i(y)}catch(p){console.error("Unexpected Supabase session error",p)}})();const{data:h}=sn.auth.onAuthStateChange((p,g)=>{i(b0(g?.user??null))});return()=>{u=!1,h.subscription.unsubscribe()}},[]);const s=j.useMemo(()=>({user:r,setUser:i}),[r]);return f.jsx(My.Provider,{value:s,children:l})}const ro=()=>{const l=j.useContext(My);if(!l)throw new Error("useUser must be used within a UserProvider");return l},xS="mazeMindProgress",SS="mazeMindPracticeBestScore",wS="mazeMindLocalProgressPending",_S=1,CS=15,By=l=>{const r=l.split("-");if(r.length!==2)return!1;const i=Number(r[1]);return Number.isFinite(i)&&i>=_S&&i<=CS},AS=(l,r)=>l===null?r:r===null?l:Math.min(l,r),jS=(l,r)=>l===null?r:r===null?l:Math.max(l,r),ES=()=>{if(!(typeof window>"u"))try{window.localStorage.removeItem(xS),window.localStorage.removeItem(SS),window.localStorage.removeItem(wS)}catch(l){console.warn("No s'ha pogut netejar el progrs local",l)}};async function Zs(l){if(!l)throw new Error("No s'ha proporcionat cap usuari per obtenir el progrs.");const{data:r,error:i}=await sn.from("level_progress").select("difficulty, level_number, stars, best_time, best_points").eq("user_id",l);if(i)throw i;const s={};for(const y of r??[]){if(!y.difficulty||typeof y.level_number!="number")continue;const x=`${y.difficulty}-${y.level_number}`;s[x]={stars:y.stars??0,bestTime:y.best_time??null,bestPoints:y.best_points??null}}const{data:u,error:c}=await sn.from("user_progress").select("easy, normal, hard").eq("user_id",l).maybeSingle();if(c)throw c;const h={easy:u?.easy??1,normal:u?.normal??1,hard:u?.hard??1},{data:p,error:g}=await sn.from("practice_best").select("max_score").eq("user_id",l).maybeSingle();if(g)throw g;return{progress:{levels:s,highestUnlocked:h},practiceBest:p?.max_score??0}}function TS(l,r){const i={};return new Set([...Object.keys(l.levels),...Object.keys(r.levels)]).forEach(u=>{if(!By(u))return;const c=l.levels[u],h=r.levels[u];!c&&!h||(i[u]={stars:Math.max(c?.stars??0,h?.stars??0),bestTime:AS(c?.bestTime??null,h?.bestTime??null),bestPoints:jS(c?.bestPoints??null,h?.bestPoints??null)})}),{levels:i,highestUnlocked:{easy:Math.max(l.highestUnlocked.easy,r.highestUnlocked.easy),normal:Math.max(l.highestUnlocked.normal,r.highestUnlocked.normal),hard:Math.max(l.highestUnlocked.hard,r.highestUnlocked.hard)}}}async function kS(l){const r=await Zs(l);return ES(),r}async function RS(l){const r=ra();await Ad(l,r);const i=la();i>0&&await jd(l,i)}async function OS(l){const r=ra(),i=la(),s=await Zs(l),u=TS(r,s.progress);await Ad(l,u);const c=Math.max(i,s.practiceBest??0);c>(s.practiceBest??0)&&await jd(l,c)}async function Ad(l,r){if(!l)throw new Error("No s'ha proporcionat cap usuari per sincronitzar el progrs.");const i=Object.entries(r.levels).filter(([u])=>By(u)).map(([u,c])=>{const[h,p]=u.split("-");return{user_id:l,difficulty:h,level_number:Number(p),stars:c.stars,best_time:c.bestTime,best_points:c.bestPoints}}).filter(u=>Number.isFinite(u.level_number));if(i.length>0){const{error:u}=await sn.from("level_progress").upsert(i,{onConflict:"user_id,difficulty,level_number"});if(u)throw u}const{error:s}=await sn.from("user_progress").upsert({user_id:l,easy:r.highestUnlocked.easy,normal:r.highestUnlocked.normal,hard:r.highestUnlocked.hard},{onConflict:"user_id"});if(s)throw s}async function jd(l,r){if(!l)throw new Error("No s'ha proporcionat cap usuari per sincronitzar practice_best.");const i=Number.isFinite(r)?r:0,{error:s}=await sn.from("practice_best").upsert({user_id:l,max_score:i},{onConflict:"user_id"});if(s)throw s}const Vs=1e3,zS=1,MS=2,BS=20,DS=50,x0=500,S0=3,qs=l=>l===" "?"Espai":l.length===1?l.toUpperCase():l,NS={easy:"Fcil",normal:"Normal",hard:"Difcil"};function Dc({level:l,onBack:r,onRetry:i,isTutorialMode:s,onCompleteTutorial:u,onLevelComplete:c,isPracticeMode:h,progress:p}){const g=on(),{user:y}=ro(),{getVisualSettings:x,settings:S}=At(),_=x("levelScreen"),{keyMoveUp:E,keyMoveDown:k,keyMoveLeft:N,keyMoveRight:A}=S.game,Y=l.memorizeTime,[O,P]=j.useState("memorize"),[W,te]=j.useState(Y),Q=j.useRef(Y),[U,pe]=j.useState({x:l.start.x,y:l.start.y}),[be,re]=j.useState([{x:l.start.x,y:l.start.y}]),[X,ae]=j.useState(s?0:-1),[he,xe]=j.useState(0),[ue,D]=j.useState(Vs),K=l.difficulty==="hard",[ne,J]=j.useState(K?S0:-1),Z=me=>me>=800?3:me>=400?2:me>0?1:0,v=j.useMemo(()=>Z(ue),[ue]),C=j.useRef(Z(Vs)),H=j.useRef(p);j.useEffect(()=>{H.current=p},[p]),j.useEffect(()=>{if(O==="completed"&&!s&&!h){const me=k1(l.difficulty,l.number,v,he,ue,{baseProgress:H.current,persist:!y});c(me),y&&Ad(y.id,me).catch(ct=>{console.error("Error enviant progrs a Supabase:",ct)})}},[O,s,l.difficulty,l.number,v,he,ue,c,h,y]),j.useEffect(()=>{v<C.current&&g.playStarLoss(),C.current=v},[v,g.playStarLoss]);const[V,F]=j.useState(3),[ee,ie]=j.useState(!1),[je,_e]=j.useState(!1),[kt,wn]=j.useState(!1),[Tr,_n]=j.useState(null),Lt=j.useMemo(()=>{const me=Q.current-W;return Math.min(100,Math.max(0,me/Q.current*100))},[W]);j.useEffect(()=>{if(O!=="memorize"||s)return;const ct=setInterval(()=>{te(Ne=>Ne<=1?(clearInterval(ct),g.playStart(),P("playing"),pe({x:l.start.x,y:l.start.y}),0):(Ne<=4?g.playTickFinal():g.playTick(),Ne-1))},1e3);return()=>clearInterval(ct)},[O,l.start.x,l.start.y,g,s]);const un=j.useRef(ee);j.useEffect(()=>{un.current=ee},[ee]);const Fn=j.useRef(je);j.useEffect(()=>{Fn.current=je},[je]),j.useEffect(()=>{if(O==="playing"&&!(s&&X>=0))return g.startMusic(),()=>g.stopMusic();g.stopMusic()},[O,s,X,g]),j.useEffect(()=>{if(O!=="playing"||s&&X>=0)return;const me=setInterval(()=>{xe(ct=>ct+1),D(ct=>{let Ne=zS;return un.current&&(Ne+=MS),Math.max(0,ct-Ne)})},1e3);return()=>clearInterval(me)},[O,s,X]);const kr=j.useCallback(()=>{O!=="playing"||V<=0||kt||(g.playReveal(),F(me=>me-1),D(me=>Math.max(0,me-DS)),wn(!0),setTimeout(()=>wn(!1),x0))},[O,V,kt,g]),Cn=j.useCallback(()=>{O==="playing"&&ie(me=>(me?g.playToggleOff():g.playToggleOn(),!me))},[O,g]),cn=j.useCallback(()=>{O==="playing"&&_e(me=>(me?g.playToggleOff():g.playToggleOn(),!me))},[O,g]),dn=j.useCallback(()=>{g.playFail(),g.stopMusic(),i()},[i,g]),Qt=j.useCallback(()=>{g.playFail(),r()},[r,g]),sl=j.useCallback(()=>{g.playFail(),g.stopMusic(),i()},[i,g]),ol=j.useCallback(()=>{g.playFail(),g.stopMusic(),r()},[r,g]),yt=j.useCallback(()=>{g.playFail(),g.stopMusic(),P("memorize"),te(Y),pe({x:l.start.x,y:l.start.y}),re([{x:l.start.x,y:l.start.y}]),xe(0),D(Vs),J(K?S0:-1),F(3),ie(!1),_e(!1),_n(null)},[Y,l.start.x,l.start.y,K,g]);j.useEffect(()=>{if(O!=="playing")return;const{game:me}=S,ct=Ne=>{const mt=Ne.target;if(mt&&(["INPUT","TEXTAREA","SELECT"].includes(mt.tagName)||mt.isContentEditable)||kt)return;_n(null);const Ue=Ne.key.toLowerCase();if(Ne.key===me.keyHelpReveal||Ue===(me.keyHelpReveal||"").toLowerCase()){Ne.preventDefault(),kr();return}if(Ue===(me.keyHelpPath||"").toLowerCase()){Ne.preventDefault(),Cn();return}const vt=(me.keyHelpCrash||"").toLowerCase();if(vt&&Ue===vt&&l.difficulty!=="hard"){Ne.preventDefault(),cn();return}const{x:Ke,y:fn}=U;let Ht=Ke,zn=fn,jn=!1;if(Ne.key==="ArrowUp"||Ue===(me.keyMoveUp||"").toLowerCase())Ne.preventDefault(),l.maze[fn][Ke].walls.top?jn=!0:zn-=1;else if(Ne.key==="ArrowDown"||Ue===(me.keyMoveDown||"").toLowerCase())Ne.preventDefault(),l.maze[fn][Ke].walls.bottom?jn=!0:zn+=1;else if(Ne.key==="ArrowLeft"||Ue===(me.keyMoveLeft||"").toLowerCase())Ne.preventDefault(),l.maze[fn][Ke].walls.left?jn=!0:Ht-=1;else if(Ne.key==="ArrowRight"||Ue===(me.keyMoveRight||"").toLowerCase())Ne.preventDefault(),l.maze[fn][Ke].walls.right?jn=!0:Ht+=1;else return;if(jn){if(K){g.playCrash();const hn=ne-1;hn<=0?(J(0),g.stopMusic(),P("failed")):(J(hn),pe({x:l.start.x,y:l.start.y}),re([{x:l.start.x,y:l.start.y}]));return}je&&(g.playCrash(),_n({x:Ke,y:fn}),D(hn=>Math.max(0,hn-BS)),setTimeout(()=>_n(null),x0));return}Ht>=0&&Ht<l.width&&zn>=0&&zn<l.height&&(pe({x:Ht,y:zn}),re(hn=>[...hn,{x:Ht,y:zn}])),Ht===l.exit.x&&zn===l.exit.y&&(g.playWin(),g.stopMusic(),P("completed"))};return window.addEventListener("keydown",ct),()=>window.removeEventListener("keydown",ct)},[O,U,l,je,kr,Cn,cn,kt,g,ue,S,K,ne,dn,Qt]);const ut=()=>{const me=X+1;me>=ea.length?(ae(-1),u(),te(l.memorizeTime)):(ae(me),O!=="memorize"&&P("memorize"),te(l.memorizeTime))},ve=()=>{ae(-1),u(),P("memorize"),te(l.memorizeTime),pe({x:l.start.x,y:l.start.y}),xe(0),D(Vs)},Xe=j.useMemo(()=>({path_color:_.mazePathColor||"#EEF2FF",wall_color:_.mazeWallColor||"#3B82F6",wall_thickness:_.mazeWallThickness||3,exit_color:_.mazeExitColor||_.normalColor||"#F59E0B",player_color:_.mazePlayerColor||"#111",player_path_color:_.playerPathColor||"rgba(0, 0, 0, 0.4)",crash_help_color:_.crashHelpColor||"#E11D48"}),[_]),ge=j.useMemo(()=>({page:{minHeight:"100svh",width:"100%",margin:0,background:_.backgroundColor,color:_.textColor,boxSizing:"border-box",padding:"clamp(16px, 3vw, 24px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",alignItems:"center"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexShrink:0,width:"100%",maxWidth:"980px"},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},ghostBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${_.borderColor}`,background:_.surfaceColor,color:_.textColor,cursor:"pointer",fontSize:16,whiteSpace:"nowrap"},mainArea:{flexGrow:1,display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",minHeight:0,width:"100%",maxWidth:"980px"},memorizePanel:{background:`linear-gradient(90deg, ${_.accentColor1}, ${_.accentColor2})`,borderRadius:16,padding:"16px clamp(16px, 3vw, 24px) 20px",boxShadow:q.shadow,textAlign:"center",flexShrink:0},memorizeHeading:{margin:0,fontSize:"clamp(16px, 2vw, 18px)",opacity:.95},memorizeCounter:{fontSize:"clamp(40px, 6vw, 56px)",fontWeight:800,marginTop:6},progressTrack:{marginTop:10,height:10,borderRadius:999,background:"rgba(255,255,255,.35)",overflow:"hidden"},progressFill:{height:"100%",background:_.surfaceColor,borderRadius:999},boardWrap:{flexGrow:1,display:"grid",placeItems:"center",minHeight:0},boardInner:{width:"100%",height:"100%",aspectRatio:"1 / 1",maxWidth:"calc(100vh - 300px)",maxHeight:"100%",background:_.mazePathColor,borderRadius:16,boxShadow:"0 16px 48px rgba(0,0,0,.35), inset 0 0 0 3px rgba(0,0,0,.25)",overflow:"hidden",position:"relative"},footer:{flexShrink:0,width:"100%",maxWidth:"980px",textAlign:"center"},tip:{display:"inline-block",background:_.surfaceColor,border:`1px solid ${_.borderColor}`,padding:"10px 16px",borderRadius:10,color:_.subtextColor,fontSize:14}}),[_]),An=j.useMemo(()=>h?l.number===99?"Mode Lliure":"Mode Prctica":`Nivell ${l.number} - ${NS[l.difficulty]}`,[h,l.number,l.difficulty]);return f.jsxs("div",{style:ge.page,children:[f.jsxs("header",{style:ge.headerRow,children:[f.jsxs("button",{type:"button",onClick:Qt,onMouseEnter:()=>g.playHover(),style:ge.ghostBtn,"aria-label":"Tornar a la selecci de nivell",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),f.jsx("h1",{style:ge.title,children:An}),f.jsxs("button",{type:"button",onClick:dn,onMouseEnter:()=>g.playHover(),style:{...ge.ghostBtn,justifySelf:"end"},"aria-label":"Reintentar el nivell",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Reintentar"]})]}),f.jsxs("main",{style:ge.mainArea,children:[O==="memorize"?f.jsxs("section",{"aria-labelledby":"memorizeTitle",style:ge.memorizePanel,children:[f.jsxs("h2",{id:"memorizeTitle",style:ge.memorizeHeading,children:[f.jsx("span",{"aria-hidden":"true",children:""})," Memoritza el Laberint!"]}),f.jsx("div",{role:"status","aria-live":"polite",style:ge.memorizeCounter,children:W}),f.jsx("div",{role:"progressbar","aria-valuenow":Math.round(Lt),style:ge.progressTrack,children:f.jsx("div",{style:{...ge.progressFill,width:`${Lt}%`}})})]}):f.jsx(G1,{gameTime:he,points:ue,revealCharges:V,isPathHelpActive:ee,isCrashHelpActive:je,onRevealHelp:kr,onTogglePathHelp:Cn,onToggleCrashHelp:cn,lives:ne,difficulty:l.difficulty}),f.jsx("section",{"aria-label":"Tauler del laberint",style:ge.boardWrap,children:f.jsx("div",{style:ge.boardInner,children:f.jsx(gd,{level:l,phase:O,playerPos:U,showReveal:kt,settings:Xe,showPlayerPath:ee,crashPosition:Tr,forcePathHistory:be})})})]}),f.jsx("footer",{style:ge.footer,children:O==="playing"?f.jsxs("p",{style:ge.tip,children:["Utilitza les ",f.jsx("kbd",{children:"Fletxes"})," o",f.jsxs("kbd",{children:[" ",qs(E)]}),f.jsx("kbd",{children:qs(N)}),f.jsx("kbd",{children:qs(k)}),f.jsxs("kbd",{children:[qs(A)," "]}),"per mouret."]}):O==="memorize"?f.jsx("p",{style:ge.tip,children:"Memoritza el cam des de l'inici (cercle) fins al final (quadrat)."}):null}),O==="completed"&&!s&&f.jsx(K1,{levelNumber:l.number,stars:v,time:he,points:ue,onRetry:dn,onBack:Qt}),O==="failed"&&f.jsx($0,{onRetry:dn,onBack:Qt}),(O==="completed"||O==="failed")&&h&&f.jsx(X1,{status:O,time:he,onRetrySameMaze:yt,onRetryNewMaze:sl,onBackToSettings:ol}),s&&X>=0&&X<ea.length&&f.jsx(F1,{step:X,onNext:ut,onSkip:ve})]})}class US{width;height;grid=[];constructor(r,i){this.width=r,this.height=i}generate(){this.grid=Array.from({length:this.height},()=>Array.from({length:this.width},()=>({walls:{top:!0,right:!0,bottom:!0,left:!0},visited:!1})));const r=[],i=0,s=0;for(this.grid[s][i].visited=!0,r.push({x:i,y:s});r.length;){const u=r[r.length-1],c=this.getUnvisitedNeighbors(u.x,u.y);if(c.length){const h=c[Math.floor(Math.random()*c.length)];this.removeWall(u,h),this.grid[h.y][h.x].visited=!0,r.push({x:h.x,y:h.y})}else r.pop()}return this.grid}getUnvisitedNeighbors(r,i){const s=[];return i>0&&!this.grid[i-1][r].visited&&s.push({x:r,y:i-1,dir:"top"}),r<this.width-1&&!this.grid[i][r+1].visited&&s.push({x:r+1,y:i,dir:"right"}),i<this.height-1&&!this.grid[i+1][r].visited&&s.push({x:r,y:i+1,dir:"bottom"}),r>0&&!this.grid[i][r-1].visited&&s.push({x:r-1,y:i,dir:"left"}),s}removeWall(r,i){const s=i.x-r.x,u=i.y-r.y;s===1?(this.grid[r.y][r.x].walls.right=!1,this.grid[i.y][i.x].walls.left=!1):s===-1?(this.grid[r.y][r.x].walls.left=!1,this.grid[i.y][i.x].walls.right=!1):u===1?(this.grid[r.y][r.x].walls.bottom=!1,this.grid[i.y][i.x].walls.top=!1):u===-1&&(this.grid[r.y][r.x].walls.top=!1,this.grid[i.y][i.x].walls.bottom=!1)}}function tl(l){const r=new US(l.width,l.height);return{id:`${l.difficulty}-level-${l.levelNumber}`,number:l.levelNumber,difficulty:l.difficulty,maze:r.generate(),width:l.width,height:l.height,memorizeTime:l.memorizeTime,starThresholds:l.stars,start:{x:0,y:0},exit:{x:l.width-1,y:l.height-1}}}const LS=l=>{const r=`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2})`,i=We(l.textColor,.08),s=We(l.textColor,.75),u=We(l.hardColor,.15),c=We(l.hardColor,.3),h=We(l.accentColor1,.18),p=We(l.accentColor1,.35);return{overlay:{position:"fixed",inset:0,background:s,backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:100,padding:"1rem"},modalContent:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:"1rem",padding:"2rem",color:l.textColor,width:"min(400px, 95vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative",display:"flex",flexDirection:"column",gap:"1.25rem"},closeButton:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"none",border:"none",color:l.subtextColor,cursor:"pointer",padding:"0.25rem",lineHeight:0,borderRadius:"50%"},title:{fontSize:"1.5rem",fontWeight:700,margin:0,textAlign:"center",color:l.textColor},form:{display:"flex",flexDirection:"column",gap:"1rem"},label:{fontSize:"0.875rem",color:l.subtextColor,marginBottom:"-0.75rem",marginLeft:"0.25rem",textAlign:"left"},input:{padding:"0.75rem 1rem",borderRadius:"0.5rem",border:`1px solid ${l.borderColor}`,background:i,color:l.textColor,fontSize:"1rem",outline:"none"},submitButton:{padding:"0.875rem",borderRadius:"0.5rem",border:"none",background:r,color:"#fff",fontSize:"1rem",fontWeight:600,cursor:"pointer",marginTop:"0.5rem",transition:"opacity 0.2s ease"},toggleButton:{background:"none",border:"none",color:l.accentColor2,fontSize:"0.875rem",cursor:"pointer",textDecoration:"underline",marginTop:"0.75rem",alignSelf:"center"},errorMessage:{color:l.hardColor,background:u,border:`1px solid ${c}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",fontSize:"0.875rem",textAlign:"center",margin:"-0.5rem 0 0.5rem 0"},successMessage:{color:l.accentColor1,background:h,border:`1px solid ${p}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",fontSize:"0.9rem",textAlign:"center",margin:"0 0 0.75rem 0"},successActions:{display:"flex",flexDirection:"column",gap:"0.75rem"}}};function HS({onClose:l}){const r=on(),{getVisualSettings:i}=At(),s=i("home"),u=j.useMemo(()=>LS(s),[s]),{user:c}=ro(),h=()=>{r.playFail(),k(null),O(null),l()},[p,g]=j.useState(""),[y,x]=j.useState(""),[S,_]=j.useState(!1),[E,k]=j.useState(null),[N,A]=j.useState(!1),[Y,O]=j.useState(null);j.useEffect(()=>{c&&(O(null),l())},[c,l]);const P=()=>{if(typeof window>"u")return"";const te="/MazeMind-TFG/",U=`${te.endsWith("/")?te:`${te}/`}auth/callback`.replace(/\/{2,}/g,"/");return`${window.location.origin}${U.startsWith("/")?"":"/"}${U}`},W=async te=>{if(te.preventDefault(),k(null),O(null),!p||!y){k("El correu i la contrasenya sn obligatoris.");return}if(y.length<6){k("La contrasenya ha de tenir com a mnim 6 carcters.");return}if(!N){A(!0);try{if(S){const Q=P(),{data:U,error:pe}=await sn.auth.signUp({email:p,password:y,options:Q?{emailRedirectTo:Q}:void 0});if(pe)throw pe;if(U.user){const be={id:U.user.id,email:U.user.email??p},{error:re}=await sn.from("profiles").upsert(be,{onConflict:"id"});if(re)throw re}if(!U.session){O("Hem enviat un correu de verificaci. Revisa la safata d'entrada per completar el registre.");return}}else{const{error:Q}=await sn.auth.signInWithPassword({email:p,password:y});if(Q)throw Q}}catch(Q){console.error("Error en autenticaci Supabase:",Q),k(Q instanceof Error?Q.message:"Ha ocorregut un error. Torna a intentar-ho.")}finally{A(!1)}}};return f.jsx("div",{style:u.overlay,onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"auth-title",children:f.jsxs("div",{style:u.modalContent,onClick:te=>te.stopPropagation(),children:[f.jsx("button",{style:u.closeButton,onClick:h,"aria-label":"Tancar modal d'autenticaci",children:f.jsx(pd,{size:20})}),f.jsx("h2",{id:"auth-title",style:u.title,children:S?"Crear Compte":"Iniciar Sessi"}),Y?f.jsxs("div",{style:u.successActions,children:[f.jsx("p",{style:u.successMessage,children:Y}),f.jsx("button",{style:u.submitButton,type:"button",onClick:h,children:"Entesos"})]}):f.jsxs(f.Fragment,{children:[E&&f.jsx("p",{style:u.errorMessage,children:E}),f.jsxs("form",{onSubmit:W,style:u.form,children:[f.jsx("label",{htmlFor:"email-input",style:u.label,children:"Correu electrnic"}),f.jsx("input",{id:"email-input",type:"email",placeholder:"el.teu@correu.com",value:p,onChange:te=>g(te.target.value),style:u.input,required:!0,"aria-required":"true",autoComplete:"email"}),f.jsx("label",{htmlFor:"password-input",style:u.label,children:"Contrasenya"}),f.jsx("input",{id:"password-input",type:"password",placeholder:"",value:y,onChange:te=>x(te.target.value),style:u.input,required:!0,"aria-required":"true",minLength:6,autoComplete:S?"new-password":"current-password"}),f.jsx("button",{type:"submit",style:{...u.submitButton,opacity:N?.7:1},disabled:N,children:N?"Enviant...":S?"Registrar-se":"Entrar"})]}),f.jsx("button",{style:u.toggleButton,onClick:()=>{_(!S),k(null),O(null)},type:"button",disabled:N,children:S?"Ja tens compte? Inicia sessi":"No tens compte? Registra't"})]})]})})}const Gs=l=>/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}$/.test(l);function $e({label:l,value:r,onChange:i,inputId:s}){const[u,c]=j.useState(r),[h,p]=j.useState(()=>Gs(r)?r:"#ffffff");j.useEffect(()=>{c(r),Gs(r)&&p(r)},[r]);const g=S=>{const _=S.target.value;p(_),c(_),i(_)},y=S=>{const _=S.target.value;c(_),Gs(_)&&(p(_),i(_))},x=()=>{Gs(u)||c(r)};return f.jsxs("div",{style:ni.settingGroup,children:[f.jsx("label",{htmlFor:s,style:ni.label,children:l}),f.jsxs("div",{style:ni.colorInputWrapper,children:[f.jsx("input",{id:s,type:"color",value:h,onChange:g,style:ni.colorInput,"aria-label":`${l} (selector visual)`}),f.jsx("input",{type:"text",value:u,onChange:y,onBlur:x,style:ni.textInput,"aria-label":`${l} (codi hexadecimal)`,spellCheck:"false"})]})]})}const ni={settingGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},colorInputWrapper:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(10, 25, 47, 0.7)",border:`1px solid ${q.borderColor}`,borderRadius:"6px",padding:"4px"},colorInput:{width:"28px",height:"28px",padding:0,border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent",flexShrink:0},textInput:{flexGrow:1,background:"transparent",border:"none",color:q.text,fontSize:"0.875rem",fontFamily:"monospace",outline:"none",padding:"4px 8px"}},Nc=l=>{const r=l.match(/#[0-9A-Fa-f]{6}/g);return r&&r.length>=2?[r[0],r[1]]:[q.playBtnFrom,q.playBtnTo]};function $S({settings:l,onChange:r}){const[i,s]=j.useState(()=>Nc(l.backgroundColor)[0]),[u,c]=j.useState(()=>Nc(l.backgroundColor)[1]);j.useEffect(()=>{const[y,x]=Nc(l.backgroundColor);s(y),c(x)},[l.backgroundColor]);const h=j.useCallback((y,x)=>{const S=`linear-gradient(145deg, ${y} 0%, ${x} 100%)`;r("backgroundColor",S)},[r]),p=y=>{s(y),h(y,u)},g=y=>{c(y),h(i,y)};return f.jsxs("div",{style:Xa.container,children:[f.jsxs("div",{style:Xa.gradientGroup,children:[f.jsx("label",{style:Xa.label,children:"Gradient de Fons"}),f.jsx($e,{label:"Color 1",value:i,onChange:p,inputId:"home-bg-color1"}),f.jsx($e,{label:"Color 2",value:u,onChange:g,inputId:"home-bg-color2"})]}),f.jsxs("div",{style:Xa.grid,children:[f.jsxs("div",{style:Xa.column,children:[f.jsx($e,{label:"Color de Text Principal",value:l.textColor,onChange:y=>r("textColor",y),inputId:"home-text-color"}),f.jsx($e,{label:"Color d'Accent Principal",value:l.accentColor1,onChange:y=>r("accentColor1",y),inputId:"home-accent1-color"})]}),f.jsxs("div",{style:Xa.column,children:[f.jsx($e,{label:"Color de Text Secundari",value:l.subtextColor,onChange:y=>r("subtextColor",y),inputId:"home-subtext-color"}),f.jsx($e,{label:"Color d'Accent Secundari",value:l.accentColor2,onChange:y=>r("accentColor2",y),inputId:"home-accent2-color"})]}),f.jsx($e,{label:"Color de les Targetes",value:l.surfaceColor.startsWith("rgba")?"#ffffff":l.surfaceColor,onChange:y=>r("surfaceColor",y),inputId:"home-surface-color"})]})]})}const Xa={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`}},VS=[{icon:"",label:"Nivells",value:11},{icon:"",label:"Estrelles",value:22},{icon:"",label:"Perfectes",value:33}];function qS({settings:l}){const r={pagePreview:{background:l.backgroundColor,color:l.textColor,padding:"24px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",overflow:"hidden",position:"relative",boxSizing:"border-box"},userIconPreview:{position:"absolute",top:"12px",right:"12px",background:l.surfaceColor,color:l.subtextColor,borderRadius:"50%",width:"32px",height:"32px",display:"grid",placeItems:"center",border:`1px solid ${l.borderColor}`},logoWrapPreview:{background:`linear-gradient(135deg, ${l.accentColor1}, ${l.accentColor2||l.accentColor1})`,borderRadius:"16px",padding:"12px",display:"grid",placeItems:"center"},logoSvgPreview:{width:40,height:40,filter:"brightness(0) invert(1)"},titlePreview:{fontSize:"24px",fontWeight:900,margin:0},subtitlePreview:{fontSize:"12px",color:l.subtextColor,margin:0,maxWidth:"250px"},statsGridPreview:{display:"flex",gap:"8px",marginTop:"8px"},statCardPreview:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:"8px",padding:"8px",textAlign:"center",flex:1},statIconPreview:{fontSize:14},statValuePreview:{fontSize:16,fontWeight:700},statLabelPreview:{fontSize:10,color:l.subtextColor},actionsColPreview:{display:"flex",flexDirection:"column",gap:"8px",width:"80%",marginTop:"8px"},playBtnPreview:{padding:"10px",borderRadius:"8px",border:"none",background:`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2||l.accentColor1})`,color:"#fff",fontSize:"14px",fontWeight:700},secondaryBtnPreview:{padding:"10px",borderRadius:"8px",border:`1px solid ${l.borderColor}`,background:"rgba(255,255,255,0.06)",color:l.textColor,fontSize:"14px",fontWeight:600}};return f.jsxs("div",{style:r.pagePreview,children:[f.jsx("div",{style:r.userIconPreview,children:f.jsx(B0,{size:16})}),f.jsx("div",{style:r.logoWrapPreview,children:f.jsx(D0,{style:r.logoSvgPreview})}),f.jsx("h1",{style:r.titlePreview,children:"MazeMind"}),f.jsx("p",{style:r.subtitlePreview,children:"Entrena la memria visoespacial resolent laberints"}),f.jsx("div",{style:r.statsGridPreview,children:VS.map(i=>f.jsxs("div",{style:r.statCardPreview,children:[f.jsx("div",{style:r.statIconPreview,children:i.icon}),f.jsx("div",{style:r.statValuePreview,children:i.value}),f.jsx("div",{style:r.statLabelPreview,children:i.label})]},i.label))}),f.jsxs("div",{style:r.actionsColPreview,children:[f.jsx("div",{style:r.playBtnPreview,children:" Jugar"}),f.jsx("div",{style:r.secondaryBtnPreview,children:" Configuraci"})]})]})}const Uc=l=>{const r=l.match(/#[0-9A-Fa-f]{6}/g);return r&&r.length>=2?[r[0],r[1]]:[q.playBtnFrom,q.playBtnTo]};function GS({settings:l,onChange:r}){const[i,s]=j.useState(()=>Uc(l.backgroundColor)[0]),[u,c]=j.useState(()=>Uc(l.backgroundColor)[1]);j.useEffect(()=>{const[y,x]=Uc(l.backgroundColor);s(y),c(x)},[l.backgroundColor]);const h=j.useCallback((y,x)=>{const S=`linear-gradient(145deg, ${y} 0%, ${x} 100%)`;r("backgroundColor",S)},[r]),p=y=>{s(y),h(y,u)},g=y=>{c(y),h(i,y)};return f.jsxs("div",{style:Xr.container,children:[f.jsxs("div",{style:Xr.gradientGroup,children:[f.jsx("label",{style:Xr.label,children:"Gradient de Fons"}),f.jsx($e,{label:"Color 1",value:i,onChange:p,inputId:"levelselect-bg-color1"}),f.jsx($e,{label:"Color 2",value:u,onChange:g,inputId:"levelselect-bg-color2"})]}),f.jsxs("div",{style:Xr.difficultyGroup,children:[f.jsx($e,{label:"Color Fcil (Botons)",value:l.easyColor,onChange:y=>r("easyColor",y),inputId:"levelselect-easy-color"}),f.jsx($e,{label:"Color Normal (Botons)",value:l.normalColor,onChange:y=>r("normalColor",y),inputId:"levelselect-normal-color"}),f.jsx($e,{label:"Color Difcil (Botons)",value:l.hardColor,onChange:y=>r("hardColor",y),inputId:"levelselect-hard-color"})]}),f.jsxs("div",{style:Xr.grid,children:[f.jsxs("div",{style:Xr.column,children:[f.jsx($e,{label:"Color de Text Principal",value:l.textColor,onChange:y=>r("textColor",y),inputId:"levelselect-text-color"}),f.jsx($e,{label:"Color de Targetes/Botons",value:l.surfaceColor.startsWith("rgba")?"#ffffff":l.surfaceColor,onChange:y=>r("surfaceColor",y),inputId:"levelselect-surface-color"})]}),f.jsxs("div",{style:Xr.column,children:[f.jsx($e,{label:"Color de Text Secundari",value:l.subtextColor,onChange:y=>r("subtextColor",y),inputId:"levelselect-subtext-color"}),f.jsx($e,{label:"Color de Vores",value:l.borderColor,onChange:y=>r("borderColor",y),inputId:"levelselect-border-color"})]})]})]})}const Xr={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},difficultyGroup:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`}};function PS({settings:l}){const[r,i]=j.useState("easy"),s=j.useCallback(c=>{const h=l;return c==="easy"?h.easyColor||h.accentColor1||q.easyGreen:c==="normal"?h.normalColor||h.accentColor2||q.normalYellow:h.hardColor||h.accentColor2||q.hardRed},[l]),u={pagePreview:{background:l.backgroundColor,color:l.textColor,padding:"16px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"12px",overflow:"hidden",position:"relative",boxSizing:"border-box"},headerPreview:{display:"flex",justifyContent:"space-between",alignItems:"center"},backBtnPreview:{background:l.surfaceColor,color:l.textColor,border:`1px solid ${l.borderColor}`,borderRadius:"8px",padding:"4px 6px",fontSize:"10px",display:"flex",alignItems:"center",gap:"4px"},titlePreview:{fontSize:"14px",fontWeight:700,margin:0},diffBarPreview:{display:"flex",background:l.surfaceColor,borderRadius:"99px",padding:"4px",position:"relative"},diffIndicatorPreview:{position:"absolute",top:"4px",left:"4px",width:"calc(50% - 4px)",height:"calc(100% - 8px)",background:l.easyColor,borderRadius:"99px",zIndex:1},diffTabPreview:{flex:1,padding:"4px",fontSize:"10px",borderRadius:"99px",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},gridPreview:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},cardPreview:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:"12px",padding:"4px",aspectRatio:"1/1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",fontSize:"10px",transition:"opacity 0.2s ease"},cardLocked:{opacity:.6,borderColor:l.borderColor},levelNumPreview:{fontSize:"18px",fontWeight:700},starsPreview:{display:"flex",gap:"2px"},timePreview:{display:"flex",gap:"4px",alignItems:"center",fontSize:"10px",color:l.subtextColor},playBtnPreview:{background:l.easyColor,color:"#0B1021",fontSize:"10px",fontWeight:600,padding:"4px 8px",borderRadius:"6px"},footerPreview:{marginTop:"auto",display:"flex",justifyContent:"center"},practiceBtnPreview:{background:l.surfaceColor,color:l.textColor,border:`1px solid ${l.borderColor}`,borderRadius:"8px",padding:"6px 10px",fontSize:"10px",display:"flex",alignItems:"center",gap:"4px"}};return f.jsxs("div",{style:u.pagePreview,children:[f.jsxs("div",{style:u.headerPreview,children:[f.jsxs("div",{style:u.backBtnPreview,children:[f.jsx(jr,{size:12})," Inici"]}),f.jsx("h1",{style:u.titlePreview,children:"Selecciona Nivell"}),f.jsx("div",{style:{width:40}})]}),f.jsxs("div",{style:u.diffBarPreview,children:[f.jsx("div",{style:{...u.diffIndicatorPreview,left:r==="easy"?"4px":r==="normal"?"calc(33.333% + 4px)":"calc(66.666% + 4px)",width:"calc(33.333% - 8px)",background:s(r)}}),["easy","normal","hard"].map(c=>f.jsxs("button",{onClick:()=>i(c),style:{...u.diffTabPreview,color:r===c?l.textColor:l.subtextColor,background:"transparent",border:"none"},children:[c==="easy"?f.jsx(nl,{size:10}):c==="normal"?f.jsx(pi,{size:10}):f.jsx(fd,{size:10})," ",c==="easy"?"Fcil":c==="normal"?"Normal":"Difcil"]},c))]}),f.jsxs("div",{style:u.gridPreview,children:[f.jsxs("div",{style:{...u.cardPreview,borderColor:(s(r)||q.easyGreen)+"60"},children:[f.jsx("div",{style:u.levelNumPreview,children:"1"}),f.jsxs("div",{style:u.starsPreview,children:[f.jsx(Cr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"none",color:l.subtextColor+"80"})]}),f.jsxs("div",{style:u.timePreview,children:[f.jsx(Pc,{size:10})," 0:45"]}),f.jsx("div",{style:{...u.playBtnPreview,background:s(r)},children:"Jugar"})]}),f.jsxs("div",{style:{...u.cardPreview,borderColor:(s(r)||q.easyGreen)+"60"},children:[f.jsx("div",{style:u.levelNumPreview,children:"2"}),f.jsxs("div",{style:u.starsPreview,children:[f.jsx(Cr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"none",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"none",color:"#FBBF24"})]}),f.jsxs("div",{style:u.timePreview,children:[f.jsx(Pc,{size:10})," 1:12"]}),f.jsx("div",{style:{...u.playBtnPreview,background:s(r)},children:"Jugar"})]}),f.jsxs("div",{style:{...u.cardPreview,...u.cardLocked},children:[f.jsx("div",{style:u.levelNumPreview,children:"3"}),f.jsx(Yc,{size:16,color:l.subtextColor})]}),f.jsxs("div",{style:{...u.cardPreview,...u.cardLocked},children:[f.jsx("div",{style:u.levelNumPreview,children:"4"}),f.jsx(Yc,{size:16,color:l.subtextColor})]})]}),f.jsx("footer",{style:u.footerPreview,children:f.jsxs("div",{style:u.practiceBtnPreview,children:[f.jsx(nl,{size:12})," Mode Prctica"]})})]})}const IS=({label:l,value:r,onChange:i,inputId:s,min:u,max:c,step:h})=>f.jsxs("div",{style:On.settingGroup,children:[f.jsx("label",{htmlFor:s,style:On.label,children:l}),f.jsx("input",{id:s,type:"number",value:r,onChange:p=>i(parseFloat(p.target.value)),min:u,max:c,step:h,style:On.numberInput})]});function YS({settings:l,onChange:r}){const[i,s]=j.useState(l.backgroundColor);j.useEffect(()=>{const c=l.backgroundColor.match(/#[0-9A-Fa-f]{6}/g);s(c?c[0]:l.backgroundColor)},[l.backgroundColor]);const u=c=>{s(c),r("backgroundColor",`linear-gradient(145deg, ${c} 0%, ${c} 100%)`)};return f.jsxs("div",{style:On.container,children:[f.jsxs("div",{style:On.grid,children:[f.jsxs("div",{style:On.column,children:[f.jsx($e,{label:"Color de Fons",value:i,onChange:u,inputId:"levelscreen-bg-color"}),f.jsx($e,{label:"Color de Text Principal",value:l.textColor,onChange:c=>r("textColor",c),inputId:"levelscreen-text-color"}),f.jsx($e,{label:"Color de Text Secundari",value:l.subtextColor,onChange:c=>r("subtextColor",c),inputId:"levelscreen-subtext-color"})]}),f.jsxs("div",{style:On.column,children:[f.jsx($e,{label:"Color de Targetes (HUD)",value:l.surfaceColor,onChange:c=>r("surfaceColor",c),inputId:"levelscreen-surface-color"}),f.jsx($e,{label:"Color de Vores",value:l.borderColor,onChange:c=>r("borderColor",c),inputId:"levelscreen-border-color"})]})]}),f.jsxs("div",{style:On.gradientGroup,children:[f.jsx("label",{style:On.label,children:'Gradient Panell "Memoritzar"'}),f.jsx($e,{label:"Accent 1",value:l.accentColor1,onChange:c=>r("accentColor1",c),inputId:"levelscreen-accent1-color"}),f.jsx($e,{label:"Accent 2",value:l.accentColor2,onChange:c=>r("accentColor2",c),inputId:"levelscreen-accent2-color"})]}),f.jsxs("div",{style:On.mazeGroup,children:[f.jsx($e,{label:"Color Cam (Fons Laberint)",value:l.mazePathColor||"",onChange:c=>r("mazePathColor",c),inputId:"levelscreen-maze-path"}),f.jsx($e,{label:"Color Parets",value:l.mazeWallColor||"",onChange:c=>r("mazeWallColor",c),inputId:"levelscreen-maze-wall"}),f.jsx($e,{label:"Color Jugador",value:l.mazePlayerColor||"",onChange:c=>r("mazePlayerColor",c),inputId:"levelscreen-maze-player"}),f.jsx($e,{label:"Color Sortida",value:l.mazeExitColor||"",onChange:c=>r("mazeExitColor",c),inputId:"levelscreen-maze-exit"}),f.jsx($e,{label:"Color Cam Recorregut",value:l.playerPathColor||"",onChange:c=>r("playerPathColor",c),inputId:"levelscreen-maze-path-help"}),f.jsx($e,{label:"Color Ajuda Xoc",value:l.crashHelpColor||"",onChange:c=>r("crashHelpColor",c),inputId:"levelscreen-maze-crash-help"}),f.jsx(IS,{label:"Gruix de la Paret (px)",value:l.mazeWallThickness||3,onChange:c=>r("mazeWallThickness",c),inputId:"levelscreen-maze-thickness",min:1,max:10,step:.5})]})]})}const On={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},settingGroup:{display:"flex",flexDirection:"column",gap:"6px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},mazeGroup:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`,alignItems:"flex-end"},numberInput:{padding:"8px 12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`,background:"rgba(10, 25, 47, 0.7)",color:q.text,fontSize:"0.875rem",width:"100%",boxSizing:"border-box"}},KS="easy-level-1",JS=1,QS="easy",WS=[[{walls:{top:!0,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}}],[{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!0}}],[{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!1}}],[{walls:{top:!0,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!0}}],[{walls:{top:!1,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!0}}],[{walls:{top:!1,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}}],[{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!1}}]],XS=7,FS=7,ZS=10,ew=[60,45,30],tw={x:0,y:0},nw={x:6,y:6},Dy={id:KS,number:JS,difficulty:QS,maze:WS,width:XS,height:FS,memorizeTime:ZS,starThresholds:ew,start:tw,exit:nw},Lc=Dy,rw={x:2,y:2},aw=[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2}];function w0({settings:l}){const r=j.useMemo(()=>({pagePreview:{background:l.backgroundColor,color:l.textColor,padding:"16px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"10px",overflow:"hidden",position:"relative",boxSizing:"border-box"},headerPreview:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"10px",flexShrink:0},headerBtn:{background:l.surfaceColor,color:l.textColor,border:`1px solid ${l.borderColor}`,borderRadius:"6px",padding:"4px 6px",display:"flex",alignItems:"center",gap:"4px"},headerTitle:{fontSize:"14px",fontWeight:700,margin:0},memorizePanel:{background:`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2})`,borderRadius:"8px",padding:"8px 12px",textAlign:"center",flexShrink:0},memorizeTitle:{fontSize:"12px",fontWeight:600,margin:0,opacity:.9},memorizeTime:{fontSize:"24px",fontWeight:800,margin:"2px 0"},hudPreview:{display:"flex",gap:"6px",flexShrink:0},hudCard:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:"8px",padding:"6px 8px",flex:1},hudLabel:{fontSize:"10px",color:l.subtextColor,marginBottom:"2px"},hudValue:{fontSize:"14px",fontWeight:700},helpButton:{background:"rgba(255,255,255,0.1)",border:`1px solid ${l.borderColor}`,color:l.subtextColor,borderRadius:"6px",padding:"4px",fontSize:"10px",display:"flex",gap:"4px",alignItems:"center"},helpActive:{background:l.easyColor,color:"#000",borderColor:"transparent"},mazeWrap:{flexGrow:1,minHeight:0,background:l.mazePathColor,border:`1px solid ${l.borderColor}`,borderRadius:"8px",position:"relative",overflow:"hidden"}}),[l]);return f.jsxs("div",{style:r.pagePreview,children:[f.jsxs("div",{style:r.headerPreview,children:[f.jsxs("div",{style:r.headerBtn,children:[f.jsx(jr,{size:10})," Nivells"]}),f.jsxs("h1",{style:r.headerTitle,children:["Nivell ",Lc.number]}),f.jsxs("div",{style:r.headerBtn,children:[f.jsx(Qb,{size:10})," Reintentar"]})]}),f.jsxs("div",{style:r.memorizePanel,children:[f.jsx("h2",{style:r.memorizeTitle,children:" Memoritza el Laberint!"}),f.jsx("div",{style:r.memorizeTime,children:Lc.memorizeTime})]}),f.jsxs("div",{style:r.hudPreview,children:[f.jsxs("div",{style:r.hudCard,children:[f.jsx("div",{style:r.hudLabel,children:" Temps"}),f.jsx("div",{style:r.hudValue,children:"0:00"})]}),f.jsxs("div",{style:r.hudCard,children:[f.jsx("div",{style:r.hudLabel,children:" Objectiu"}),f.jsx("div",{style:r.hudValue,children:"1000"})]}),f.jsxs("div",{style:{...r.hudCard,padding:"6px",display:"flex",gap:"4px"},children:[f.jsx("div",{style:{...r.helpButton,...r.helpActive},children:f.jsx(rl,{size:10})}),f.jsx("div",{style:r.helpButton,children:f.jsx(eo,{size:10})})]})]}),f.jsx("div",{style:r.mazeWrap,children:f.jsx(gd,{level:Lc,phase:"playing",playerPos:rw,showReveal:!0,showPlayerPath:!0,forcePathHistory:aw,settings:{path_color:l.mazePathColor,wall_color:l.mazeWallColor,wall_thickness:l.mazeWallThickness,exit_color:l.mazeExitColor,player_color:l.mazePlayerColor,player_path_color:l.playerPathColor,crash_help_color:l.crashHelpColor}})})]})}function lw({settings:l}){const r={container:{width:"100%",color:l.textColor},title:{fontSize:"1rem",fontWeight:600,margin:"0 0 12px 0",color:l.textColor},list:{listStyle:"none",padding:0,margin:0,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px 16px",alignItems:"start"},item:{display:"flex",alignItems:"center",gap:"10px",fontSize:"0.875rem",color:l.subtextColor},swatch:{width:"24px",height:"24px",borderRadius:"4px",border:`1px solid ${l.borderColor}`,flexShrink:0,boxSizing:"border-box"}};return f.jsxs("div",{style:r.container,children:[f.jsx("h4",{style:r.title,children:"Llegenda"}),f.jsxs("ul",{style:r.list,children:[f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,background:l.mazePathColor,border:`${Math.max(2,(l.mazeWallThickness||3)/1.5)}px solid ${l.mazeWallColor}`}}),f.jsx("span",{children:"Parets del laberint"})]}),f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,backgroundColor:l.mazePlayerColor,borderRadius:"50%"}}),f.jsx("span",{children:"Tu (jugador)"})]}),f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,backgroundColor:l.mazeExitColor}}),f.jsx("span",{children:"Sortida del laberint"})]}),f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,backgroundColor:l.mazePathColor}}),f.jsx("span",{children:"Fons/cam del laberint"})]})]})]})}const iw=l=>l===" "?"Espai":l.length===1?l.toUpperCase():l;function Fr({label:l,value:r,onChange:i,isError:s=!1}){const[u,c]=j.useState(!1),h=j.useRef(null);return j.useEffect(()=>{if(!u)return;const p=y=>{y.preventDefault(),y.stopPropagation(),y.key==="Escape"?c(!1):y.key!=="Shift"&&y.key!=="Control"&&y.key!=="Alt"&&y.key!=="Meta"&&(i(y.key.toLowerCase()),c(!1))},g=y=>{h.current&&!h.current.contains(y.target)&&c(!1)};return document.addEventListener("keydown",p,!0),document.addEventListener("mousedown",g,!0),()=>{document.removeEventListener("keydown",p,!0),document.removeEventListener("mousedown",g,!0)}},[u,i]),f.jsxs("div",{style:{...ri.container,borderColor:s?q.hardRed:q.borderColor},children:[f.jsx("label",{style:ri.label,children:l}),f.jsx("button",{ref:h,onClick:()=>c(!0),style:{...ri.button,...u?ri.buttonListening:{},...s?ri.buttonError:{}},children:u?"Prement una tecla...":iw(r)})]})}const ri={container:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(10, 25, 47, 0.7)",padding:"8px 12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},button:{fontFamily:"monospace",fontSize:"0.875rem",fontWeight:700,color:q.text,background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:"4px",padding:"6px 12px",minWidth:"100px",textAlign:"center",cursor:"pointer"},buttonListening:{color:q.accentPink,borderColor:q.accentPink,outline:"none"},buttonError:{color:q.hardRed,borderColor:q.hardRed}},_0=({label:l,checked:r,onChange:i})=>f.jsxs("label",{style:Ct.toggleContainer,children:[f.jsx("span",{style:Ct.toggleLabel,children:l}),f.jsx("button",{role:"switch","aria-checked":r,onClick:()=>i(!r),style:{...Ct.toggleSwitch,...r?Ct.toggleOn:Ct.toggleOff},children:f.jsx("span",{style:{...Ct.toggleKnob,...r?Ct.knobOn:Ct.knobOff}})})]}),sw=["keyMoveUp","keyMoveDown","keyMoveLeft","keyMoveRight","keyHelpReveal","keyHelpPath","keyHelpCrash"];function ow({settings:l,onChange:r}){const i=j.useMemo(()=>{const s=new Map;for(const c of sw){const h=l[c];s.has(h)||s.set(h,[]),s.get(h).push(c)}const u=new Set;for(const c of s.values())c.length>1&&c.forEach(h=>u.add(h));return u},[l]);return f.jsxs("div",{style:Ct.container,children:[f.jsx("h4",{style:Ct.title,children:"Configuraci de So"}),f.jsxs("div",{style:Ct.group,children:[f.jsx(_0,{label:"Efectes de So (SFX)",checked:l.soundEffects,onChange:s=>r("soundEffects",s)}),f.jsx(_0,{label:"Msica de Fons",checked:l.backgroundMusic,onChange:s=>r("backgroundMusic",s)})]}),f.jsx("h4",{style:Ct.title,children:"Controls de Moviment (Lletres)"}),f.jsxs("div",{style:Ct.keyGrid,children:[f.jsx(Fr,{label:"Amunt",value:l.keyMoveUp,onChange:s=>r("keyMoveUp",s),isError:i.has("keyMoveUp")}),f.jsx(Fr,{label:"Avall",value:l.keyMoveDown,onChange:s=>r("keyMoveDown",s),isError:i.has("keyMoveDown")}),f.jsx(Fr,{label:"Esquerra",value:l.keyMoveLeft,onChange:s=>r("keyMoveLeft",s),isError:i.has("keyMoveLeft")}),f.jsx(Fr,{label:"Dreta",value:l.keyMoveRight,onChange:s=>r("keyMoveRight",s),isError:i.has("keyMoveRight")})]}),f.jsx("p",{style:Ct.note,children:"Nota: Les tecles de fletxa (, , , ) sempre funcionaran a ms d'aquestes."}),f.jsx("h4",{style:Ct.title,children:"Controls d'Ajuda"}),f.jsxs("div",{style:Ct.keyGrid,children:[f.jsx(Fr,{label:"Revelar Laberint",value:l.keyHelpReveal,onChange:s=>r("keyHelpReveal",s),isError:i.has("keyHelpReveal")}),f.jsx(Fr,{label:"Mostrar Cam",value:l.keyHelpPath,onChange:s=>r("keyHelpPath",s),isError:i.has("keyHelpPath")}),f.jsx(Fr,{label:"Ajuda Xoc",value:l.keyHelpCrash,onChange:s=>r("keyHelpCrash",s),isError:i.has("keyHelpCrash")})]}),i.size>0&&f.jsx("p",{style:Ct.errorText,children:"Error: Hi ha tecles duplicades. Cada acci ha de tenir una tecla nica."})]})}const Ct={container:{display:"flex",flexDirection:"column",gap:"16px"},title:{fontSize:"1rem",fontWeight:600,color:q.text,margin:"8px 0 0 0",borderTop:`1px solid ${q.borderColor}`,paddingTop:"16px"},group:{display:"flex",flexDirection:"column",gap:"12px"},keyGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},note:{fontSize:"0.8rem",color:q.subtext,margin:"0 0 8px 0",fontStyle:"italic"},toggleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},toggleLabel:{fontSize:"0.875rem",fontWeight:500,color:q.text},toggleSwitch:{position:"relative",width:"44px",height:"24px",borderRadius:"99px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},toggleOn:{background:q.easyGreen},toggleOff:{background:q.surface},toggleKnob:{position:"absolute",top:"2px",width:"20px",height:"20px",background:"white",borderRadius:"50%",transition:"transform 0.2s ease"},knobOn:{transform:"translateX(2px)"},knobOff:{transform:"translateX(-20px)"},errorText:{color:q.hardRed,background:"rgba(248, 113, 113, 0.1)",border:`1px solid ${q.hardRed}`,borderRadius:"6px",padding:"10px 12px",fontSize:"0.875rem",fontWeight:500,margin:"8px 0 0 0"}},uw=["keyMoveUp","keyMoveDown","keyMoveLeft","keyMoveRight","keyHelpReveal","keyHelpPath","keyHelpCrash"];function cw({onBack:l}){const r=on(),{settings:i,updateSettings:s}=At(),[u,c]=j.useState(()=>JSON.parse(JSON.stringify(i))),[h,p]=j.useState(null),[g,y]=j.useState("home"),[x,S]=j.useState(!1),_=Rg.useRef(null),[E,k]=j.useState(!1),N=j.useMemo(()=>{try{return JSON.stringify(i)!==JSON.stringify(u)}catch{return!1}},[i,u]),A=()=>{if(N){k(!0);return}r.playFail(),l()},Y=()=>{W(),k(!1),setTimeout(()=>l(),180)},O=()=>{k(!1),c(JSON.parse(JSON.stringify(i))),setTimeout(()=>l(),60)},P=j.useMemo(()=>{const re=new Map;for(const ae of uw){const he=u.game[ae];re.has(he)||re.set(he,[]),re.get(he).push(ae)}const X=new Set;for(const ae of re.values())ae.length>1&&ae.forEach(he=>X.add(he));return X},[u.game]),W=j.useCallback(()=>{if(P.size>0){p("game"),y("game");return}s(u),r.playFail(),S(!0),_.current&&window.clearTimeout(_.current),_.current=window.setTimeout(()=>{S(!1),_.current=null},1500)},[u,s,r]);Rg.useEffect(()=>()=>{_.current&&window.clearTimeout(_.current)},[]);const te=j.useCallback((re,X)=>{c(ae=>{const he=re.split("."),xe=JSON.parse(JSON.stringify(ae));let ue=xe;for(let D=0;D<he.length-1;D++)if(ue=ue[he[D]],!ue)return ae;return ue[he[he.length-1]]=X,xe})},[]),Q=re=>{p(X=>{const ae=X===re?null:re;return ae===re&&y(re),ae}),r.playSlide()},U=(re,X,ae)=>{te(`visuals.${re}.${X}`,ae)},pe=(re,X)=>{te(`game.${re}`,X)},be=j.useCallback(re=>{r.playBtnSound();const X=qg[re];X&&c(ae=>({...ae,visuals:{home:{...ae.visuals.home,...X},levelSelect:{...ae.visuals.levelSelect,...X},levelScreen:{...ae.visuals.levelScreen,...X}}}))},[]);return f.jsxs("div",{style:Ie.page,children:[f.jsxs("header",{style:Ie.header,children:[f.jsxs("button",{onClick:A,style:Ie.backButton,"aria-label":"Tornar",onMouseEnter:()=>r.playHover(),children:[f.jsx(jr,{size:20})," Tornar"]}),f.jsx("h1",{style:Ie.title,children:"Configuraci i Accessibilitat"}),f.jsx("div",{style:{width:100}})]}),f.jsxs("div",{style:Ie.contentGrid,children:[f.jsxs("div",{style:Ie.accordionColumn,children:[f.jsxs("section",{style:Ie.presetsSection,children:[f.jsx("h3",{style:Ie.presetsTitle,children:"Temes Predefinits"}),f.jsx("div",{style:Ie.presetsGrid,children:Object.keys(qg).map(re=>f.jsx("button",{style:Ie.presetButton,onClick:()=>be(re),onMouseEnter:()=>r.playHover(),children:re},re))})]}),f.jsxs("div",{style:Ie.accordionItem,children:[f.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Q("home"),"aria-expanded":h==="home",children:[f.jsx("span",{children:" Pantalla d'Inici"}),h==="home"?f.jsx(Os,{size:20}):f.jsx(Rs,{size:20})]}),h==="home"&&f.jsx("div",{style:Ie.accordionContent,children:f.jsx($S,{settings:u.visuals.home,onChange:(re,X)=>U("home",re,X)})})]}),f.jsxs("div",{style:Ie.accordionItem,children:[f.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Q("levelSelect"),"aria-expanded":h==="levelSelect",children:[f.jsx("span",{children:" Selecci de Nivell"}),h==="levelSelect"?f.jsx(Os,{size:20}):f.jsx(Rs,{size:20})]}),h==="levelSelect"&&f.jsx("div",{style:Ie.accordionContent,children:f.jsx(GS,{settings:u.visuals.levelSelect,onChange:(re,X)=>U("levelSelect",re,X)})})]}),f.jsxs("div",{style:Ie.accordionItem,children:[f.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Q("levelScreen"),"aria-expanded":h==="levelScreen",children:[f.jsx("span",{children:" Pantalla de Joc"}),h==="levelScreen"?f.jsx(Os,{size:20}):f.jsx(Rs,{size:20})]}),h==="levelScreen"&&f.jsx("div",{style:Ie.accordionContent,children:f.jsx(YS,{settings:u.visuals.levelScreen,onChange:(re,X)=>U("levelScreen",re,X)})})]}),f.jsxs("div",{style:Ie.accordionItem,children:[f.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Q("game"),"aria-expanded":h==="game",children:[f.jsx("span",{children:" Configuraci de Joc"}),h==="game"?f.jsx(Os,{size:20}):f.jsx(Rs,{size:20})]}),h==="game"&&f.jsx("div",{style:Ie.accordionContent,children:f.jsx(ow,{settings:u.game,onChange:pe})})]}),f.jsxs("button",{onClick:W,style:Ie.saveButton,onMouseEnter:()=>r.playHover(),children:[f.jsx(Xb,{size:18})," Desar Configuraci"]}),x&&f.jsx("div",{role:"status","aria-live":"polite",style:{textAlign:"center",color:"#059669",marginTop:8,fontWeight:700},children:"Configuraci seleccionada aplicada correctament!"})]}),f.jsxs("aside",{style:Ie.previewColumn,"aria-label":"Vista prvia en temps real",children:[f.jsx("div",{style:Ie.previewHeader,children:f.jsx("span",{children:"Vista Prvia en Temps Real"})}),f.jsxs("div",{style:Ie.previewContent,children:[g==="home"&&f.jsx(qS,{settings:u.visuals.home}),g==="levelSelect"&&f.jsx(PS,{settings:u.visuals.levelSelect}),g==="levelScreen"&&f.jsx(w0,{settings:u.visuals.levelScreen}),g==="game"&&f.jsx(w0,{settings:u.visuals.levelScreen}),!g&&f.jsx("p",{style:{color:q.subtext,fontStyle:"italic"},children:"Selecciona una secci per veure la previsualitzaci."})]}),f.jsx("div",{style:Ie.legend,children:g==="levelScreen"||g==="game"?f.jsx(lw,{settings:u.visuals.levelScreen}):f.jsx("p",{children:"Pgina sense llegenda"})})]})]}),E&&f.jsx("div",{style:{position:"fixed",inset:0,display:"grid",placeItems:"center",background:"rgba(0,0,0,0.66)",zIndex:60},children:f.jsxs("div",{style:{width:"min(560px, 92%)",background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:12,padding:20,boxShadow:q.shadow},role:"dialog","aria-modal":"true",children:[f.jsx("h3",{style:{margin:0,marginBottom:8},children:"Tens canvis no desats"}),f.jsx("p",{style:{marginTop:0,color:q.subtext},children:"Vols desar els canvis abans de sortir?"}),f.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:16},children:[f.jsx("button",{onClick:()=>k(!1),style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${q.borderColor}`,background:"transparent",color:q.text},children:"Cancellar"}),f.jsx("button",{onClick:O,style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${q.borderColor}`,background:"transparent",color:q.text},children:"Descartar i sortir"}),f.jsx("button",{onClick:Y,style:{padding:"8px 12px",borderRadius:8,border:"none",background:q.easyGreen,color:"#0A192F",fontWeight:700},children:"Desar i sortir"})]})]})})]})}const Ie={page:{minHeight:"100svh",width:"100%",margin:0,background:q.bg,color:q.text,padding:"clamp(16px, 3vw, 24px)",boxSizing:"border-box"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",width:"100%",maxWidth:"1400px",margin:"0 auto 24px"},backButton:{padding:"10px 14px",borderRadius:12,border:q.borderColor,background:q.surface,color:q.text,cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:"6px",width:100},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},contentGrid:{display:"grid",gridTemplateColumns:"minmax(400px, 3fr) minmax(300px, 2fr)",gap:"clamp(24px, 4vw, 40px)",width:"100%",maxWidth:"1400px",margin:"0 auto"},presetsSection:{display:"flex",flexDirection:"column",gap:"12px"},presetsTitle:{fontSize:"1.125rem",fontWeight:600,margin:0,color:q.accentCyan},presetsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},presetButton:{padding:"12px",borderRadius:"8px",border:`1px solid ${q.borderColor}`,background:"rgba(255, 255, 255, 0.06)",color:q.text,fontSize:"0.875rem",fontWeight:500,cursor:"pointer",textAlign:"center",transition:"background 0.2s ease"},accordionColumn:{background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:16,padding:"clamp(16px, 3vw, 24px)",boxShadow:q.shadow,display:"flex",flexDirection:"column",gap:"12px"},accordionItem:{borderBottom:`1px solid ${q.borderColor}`,paddingBottom:"12px"},accordionHeader:{background:"none",border:"none",color:q.text,fontSize:"1rem",fontWeight:600,cursor:"pointer",padding:"8px 0",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left"},accordionContent:{padding:"16px 4px 4px 4px",borderTop:`1px dashed ${q.borderColor}`,marginTop:"8px"},previewColumn:{borderRadius:16,display:"flex",flexDirection:"column",gap:"16px",position:"sticky",top:"24px",maxHeight:"calc(100vh - 48px)",overflow:"hidden"},previewHeader:{background:`linear-gradient(90deg, ${q.accentPink}, ${q.accentViolet})`,color:"#fff",padding:"12px 16px",borderRadius:"12px 12px 0 0",fontWeight:600},previewContent:{flexGrow:1,background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:"0 0 12px 12px",display:"grid",placeItems:"center",padding:"16px",minHeight:"300px"},legend:{background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:12,padding:"16px",fontSize:14,color:q.subtext},saveButton:{padding:"14px",borderRadius:10,border:"none",background:q.easyGreen,color:"#0A192F",fontSize:16,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"auto"}},Hc=(l,r,i)=>Math.max(r,Math.min(i,l));function dw({onBack:l,onStartGame:r}){const{getVisualSettings:i}=At(),s=i("levelSelect"),[u,c]=j.useState("7"),[h,p]=j.useState("7"),[g,y]=j.useState("10"),[x,S]=j.useState("normal"),_=()=>{const k=parseInt(u,10),N=parseInt(h,10),A=parseInt(g,10),Y=!Number.isNaN(k)&&k>=5&&k<=25,O=!Number.isNaN(N)&&N>=5&&N<=25,P=!Number.isNaN(A)&&A>=3&&A<=60;if(!Y||!O||!P)return;const W={width:Hc(k,5,25),height:Hc(N,5,25),time:Hc(A,3,60),difficulty:x};r(W)},E=j.useMemo(()=>({page:{background:s.backgroundColor,color:s.textColor,minHeight:"100svh",width:"100vw",padding:"clamp(16px, 4vw, 32px)",boxSizing:"border-box"},container:{maxWidth:600,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{margin:0,fontSize:"clamp(24px, 5vw, 32px)"},backBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${s.borderColor}`,background:s.surfaceColor,color:s.textColor,cursor:"pointer",fontSize:16},form:{display:"flex",flexDirection:"column",gap:"16px",background:s.surfaceColor,padding:"24px",borderRadius:"16px",border:`1px solid ${s.borderColor}`},label:{fontSize:14,color:s.subtextColor,marginBottom:4},input:{background:"rgba(0,0,0,0.2)",border:`1px solid ${s.borderColor}`,color:s.textColor,padding:"12px",borderRadius:"8px",fontSize:16,width:"100%",boxSizing:"border-box"},select:{background:"rgba(0,0,0,0.2)",border:`1px solid ${s.borderColor}`,color:s.textColor,padding:"12px",borderRadius:"8px",fontSize:16,width:"100%",boxSizing:"border-box"},playBtn:{padding:"16px",borderRadius:12,border:"none",background:`linear-gradient(90deg, ${s.accentColor1}, ${s.accentColor2})`,color:s.textColor,fontSize:18,fontWeight:800,cursor:"pointer",marginTop:"16px"}}),[s]);return f.jsx("main",{style:E.page,children:f.jsxs("div",{style:E.container,children:[f.jsxs("header",{style:E.header,children:[f.jsxs("button",{style:E.backBtn,onClick:l,"aria-label":"Tornar a selecci de nivell",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),f.jsx("h1",{style:E.title,children:"Mode Lliure"}),f.jsx("div",{style:{width:100}})]}),f.jsxs("div",{style:E.form,children:[f.jsxs("div",{children:[f.jsx("label",{style:E.label,htmlFor:"width",children:"Amplada (Min: 5, Max: 25)"}),(()=>{const k=parseInt(u,10),N=!Number.isNaN(k)&&k>=5&&k<=25,A=u.trim()!==""&&!N,Y={...E.input,border:`1px solid ${A?"#ef4444":s.borderColor}`};return f.jsxs(f.Fragment,{children:[f.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":A,"aria-describedby":A?"width-error":void 0,style:Y,type:"text",id:"width",value:u,onChange:O=>c(O.target.value)}),A&&f.jsx("div",{id:"width-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Amplada invlida  ha de ser entre 5 i 25."})]})})()]}),f.jsxs("div",{children:[f.jsx("label",{style:E.label,htmlFor:"height",children:"Alada (Min: 5, Max: 25)"}),(()=>{const k=parseInt(h,10),N=!Number.isNaN(k)&&k>=5&&k<=25,A=h.trim()!==""&&!N,Y={...E.input,border:`1px solid ${A?"#ef4444":s.borderColor}`};return f.jsxs(f.Fragment,{children:[f.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":A,"aria-describedby":A?"height-error":void 0,style:Y,type:"text",id:"height",value:h,onChange:O=>p(O.target.value)}),A&&f.jsx("div",{id:"height-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Alada invlida  ha de ser entre 5 i 25."})]})})()]}),f.jsxs("div",{children:[f.jsx("label",{style:E.label,htmlFor:"time",children:"Temps de Memoritzaci (Min: 3, Max: 60)"}),(()=>{const k=parseInt(g,10),N=!Number.isNaN(k)&&k>=3&&k<=60,A=g.trim()!==""&&!N,Y={...E.input,border:`1px solid ${A?"#ef4444":s.borderColor}`};return f.jsxs(f.Fragment,{children:[f.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":A,"aria-describedby":A?"time-error":void 0,style:Y,type:"text",id:"time",value:g,onChange:O=>y(O.target.value)}),A&&f.jsx("div",{id:"time-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Temps invlid  ha de ser entre 3 i 60 segons."})]})})()]}),f.jsxs("div",{children:[f.jsx("label",{style:E.label,htmlFor:"difficulty",children:"Dificultat"}),f.jsxs("select",{id:"difficulty",style:E.select,value:x,onChange:k=>S(k.target.value),children:[f.jsx("option",{value:"normal",children:"Normal (Sense vides)"}),f.jsx("option",{value:"hard",children:"Difcil (Amb vides)"})]})]}),(()=>{const k=parseInt(u,10),N=parseInt(h,10),A=parseInt(g,10),Y=!Number.isNaN(k)&&k>=5&&k<=25,O=!Number.isNaN(N)&&N>=5&&N<=25,P=!Number.isNaN(A)&&A>=3&&A<=60,W=u.trim()!==""&&h.trim()!==""&&g.trim()!==""&&Y&&O&&P;return f.jsx("button",{style:{...E.playBtn,opacity:W?1:.5,cursor:W?"pointer":"not-allowed"},onClick:_,disabled:!W,"aria-disabled":!W,title:W?"Jugar":"Corregeix valors invlids abans de jugar",children:"Jugar"})})()]})]})})}const Ps=l=>l===" "?"Espai":l.length===1?l.toUpperCase():l;function fw({totalScore:l,revealCharges:r,isPathHelpActive:i,onRevealHelp:s,onTogglePathHelp:u,lives:c}){const{getVisualSettings:h,settings:p}=At(),g=h("levelScreen"),{game:y}=p,x={container:{display:"flex",flexWrap:"wrap",gap:"12px",width:"100%",alignItems:"stretch"},card:{background:g.surfaceColor,border:`1px solid ${g.borderColor}`,borderRadius:14,padding:"12px 16px",color:g.textColor,display:"flex",flexDirection:"column",gap:"4px",flexGrow:1,flexBasis:"180px"},helpsCard:{flexDirection:"row",flexWrap:"wrap",gap:"8px",flexBasis:"300px",justifyContent:"center",alignItems:"center"},label:{fontSize:14,color:g.subtextColor,display:"flex",alignItems:"center",gap:"4px",fontWeight:500},valueLarge:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:700,lineHeight:1},stars:{color:g.normalColor},helpButton:{background:"rgba(255,255,255,0.08)",border:`1px solid ${g.borderColor}`,color:g.subtextColor,padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:13,fontWeight:600,flexGrow:1},helpActive:{background:g.easyColor,color:"#000",borderColor:"transparent"},livesText:{fontSize:"clamp(20px, 4vw, 28px)",fontWeight:700,lineHeight:1,letterSpacing:"0.1em"}};return f.jsxs("div",{style:x.container,children:[f.jsxs("div",{style:x.card,children:[f.jsx("span",{style:x.label,children:" Puntuaci Total"}),f.jsx("span",{style:x.valueLarge,children:Math.round(l)})]}),f.jsxs("div",{style:x.card,children:[f.jsx("span",{style:x.label,children:" Vides"}),f.jsxs("span",{style:x.livesText,"aria-label":`${c} vides restants`,children:["".repeat(c),"".repeat(Math.max(0,3-c))]})]}),f.jsxs("div",{style:{...x.card,...x.helpsCard},children:[f.jsxs("button",{style:x.helpButton,onClick:s,disabled:r===0,title:`Mostra el laberint (${Ps(y.keyHelpReveal)}) | Cost: 50 pts`,children:[f.jsx(rl,{size:18}),f.jsxs("span",{children:["Revelar (",r,")"]}),f.jsx("kbd",{children:Ps(y.keyHelpReveal)})]}),f.jsxs("button",{style:{...x.helpButton,...i?x.helpActive:{}},onClick:u,title:`Mostra el cam recorregut (${Ps(y.keyHelpPath)}) | Cost: -2 pts/s`,children:[f.jsx(eo,{size:18}),f.jsx("span",{children:"Cam"}),f.jsx("kbd",{children:Ps(y.keyHelpPath)})]})]})]})}const hw=l=>{const r=`linear-gradient(90deg, ${l.accentColor1}, ${l.accentColor2})`,i=We(l.textColor,.08);return{overlay:{position:"fixed",inset:0,background:We(l.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:l.surfaceColor,border:`1px solid ${l.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:l.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},successIcon:{color:l.easyColor,marginBottom:"-16px"},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:l.easyColor},results:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",borderTop:`1px solid ${l.borderColor}`,borderBottom:`1px solid ${l.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:l.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${l.borderColor}`,background:i,color:l.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function pw({levelNumber:l,pointsGained:r,totalScore:i,onNextLevel:s,onBack:u}){const c=on(),{getVisualSettings:h}=At(),p=h("levelScreen"),g=j.useMemo(()=>hw(p),[p]);return f.jsx("div",{style:g.overlay,children:f.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsx("div",{style:g.successIcon,children:f.jsx(dd,{size:56})}),f.jsxs("h2",{id:"modalTitle",style:g.title,children:["Nivell ",l+1," Superat!"]}),f.jsxs("div",{style:g.results,children:[f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Punts Aconseguits"}),f.jsxs("span",{style:g.resultValue,children:["+",Math.round(r)]})]}),f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Puntuaci Total"}),f.jsx("span",{style:g.resultValue,children:Math.round(i)})]})]}),f.jsxs("div",{style:g.actions,children:[f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.retryButton,onClick:s,children:["Segent Nivell ",f.jsx(cd,{size:18})]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.backButton,onClick:u,children:[f.jsx(jr,{size:18})," Tornar al Men"]})]})]})})}const gw=500,C0=3,A0=[{w:3,h:3},{w:3,h:4},{w:4,h:4},{w:4,h:5},{w:5,h:5},{w:5,h:6},{w:6,h:6},{w:6,h:7},{w:7,h:7},{w:7,h:8},{w:8,h:8},{w:8,h:9},{w:9,h:9},{w:10,h:10},{w:12,h:12},{w:15,h:15},{w:18,h:18},{w:20,h:20}];function $c(l){const r=Math.min(l-1,A0.length-1),{w:i,h:s}=A0[r],u=i*s,c=Math.min(18,Math.max(5,Math.round(u/6)));return{width:i,height:s,memorizeTime:c}}function Vc(l){const r=Math.floor((l-1)/3),i=Math.min(r,6),s=400+i*200,u=.4+i*.15,c=1+i*.5,h=25+i*10;return{baseScore:s,timeLossPerSecond:u,pathHelpLossPerSecond:c,revealCost:h}}const Is=l=>l===" "?"Espai":l.length===1?l.toUpperCase():l;function yw({onBack:l}){const r=on(),{getVisualSettings:i,settings:s}=At(),{user:u}=ro(),c=i("levelScreen"),{keyMoveUp:h,keyMoveDown:p,keyMoveLeft:g,keyMoveRight:y}=s.game,[x,S]=j.useState(1),[_,E]=j.useState(0),[k,N]=j.useState(()=>la()),[A,Y]=j.useState(()=>{const ve=$c(1);return tl({levelNumber:1,difficulty:"normal",width:ve.width,height:ve.height,memorizeTime:ve.memorizeTime,stars:[60,45,30]})}),[O,P]=j.useState(0),[W,te]=j.useState(()=>Vc(1)),Q=A.memorizeTime,[U,pe]=j.useState("memorize"),[be,re]=j.useState(Q),X=j.useRef(Q),[ae,he]=j.useState({x:A.start.x,y:A.start.y}),[xe,ue]=j.useState([{x:A.start.x,y:A.start.y}]),[D,K]=j.useState(0),[ne,J]=j.useState(()=>W.baseScore),[Z,v]=j.useState(C0),[C,H]=j.useState(3),[V,F]=j.useState(!1),[ee,ie]=j.useState(!1),[je,_e]=j.useState(!1),[kt,wn]=j.useState(null),[Tr,_n]=j.useState(!1),Lt=j.useMemo(()=>{const ve=X.current-be;return Math.min(100,Math.max(0,ve/X.current*100))},[be]),un=j.useCallback((ve,Xe)=>{pe("memorize"),re(ve.memorizeTime),X.current=ve.memorizeTime,he({x:ve.start.x,y:ve.start.y}),ue([{x:ve.start.x,y:ve.start.y}]),K(0),J(Xe.baseScore),v(C0),H(3),F(!1),ie(!1),wn(null),_e(!1)},[]);j.useEffect(()=>{if(U!=="memorize")return;const Xe=setInterval(()=>{re(ge=>ge<=1?(clearInterval(Xe),r.playStart(),pe("playing"),he({x:A.start.x,y:A.start.y}),0):(ge<=4?r.playTickFinal():r.playTick(),ge-1))},1e3);return()=>clearInterval(Xe)},[U,A.start.x,A.start.y,r]);const Fn=j.useRef(V);j.useEffect(()=>{Fn.current=V},[V]);const kr=j.useRef(ee);j.useEffect(()=>{kr.current=ee},[ee]),j.useEffect(()=>{if(U==="playing")return r.startMusic(),()=>r.stopMusic();r.stopMusic()},[U,r]),j.useEffect(()=>{if(U!=="playing")return;const ve=setInterval(()=>{K(Xe=>Xe+1),J(Xe=>{let ge=W.timeLossPerSecond;return Fn.current&&(ge+=W.pathHelpLossPerSecond),Math.max(0,Xe-ge)})},1e3);return()=>clearInterval(ve)},[U,W]);const Cn=j.useCallback(()=>{U!=="playing"||C<=0||je||(r.playReveal(),H(ve=>ve-1),J(ve=>Math.max(0,ve-W.revealCost)),_e(!0),setTimeout(()=>_e(!1),gw))},[U,C,je,r,W]),cn=j.useCallback(()=>{U==="playing"&&F(ve=>(ve?r.playToggleOff():r.playToggleOn(),!ve))},[U,r]),dn=j.useCallback(()=>{U==="playing"&&ie(ve=>(ve?r.playToggleOff():r.playToggleOn(),!ve))},[U,r]),Qt=j.useCallback(()=>{r.playFail(),r.stopMusic(),l()},[r,l]),sl=j.useCallback(()=>{r.playFail(),r.stopMusic(),E(0),S(1),N(la());const ve=$c(1),Xe=tl({levelNumber:1,difficulty:"normal",width:ve.width,height:ve.height,memorizeTime:ve.memorizeTime,stars:[60,45,30]}),ge=Vc(1);Y(Xe),te(ge),un(Xe,ge)},[r,un]),ol=j.useCallback(()=>{r.playBtnSound(),r.stopMusic(),S(ve=>{const Xe=ve+1,ge=$c(Xe),An=tl({levelNumber:Xe,difficulty:"normal",width:ge.width,height:ge.height,memorizeTime:ge.memorizeTime,stars:[60,45,30]}),me=Vc(Xe);return Y(An),te(me),un(An,me),Xe}),_n(!1)},[r,un]);j.useEffect(()=>{U==="completed"&&(P(ne),E(ve=>ve+ne),_n(!0))},[U,ne]),j.useEffect(()=>{if(U!=="playing")return;const{game:ve}=s,Xe=ge=>{const An=ge.target;if(An&&(["INPUT","TEXTAREA","SELECT"].includes(An.tagName)||An.isContentEditable)||je)return;wn(null);const me=ge.key.toLowerCase();if(ge.key===ve.keyHelpReveal||me===(ve.keyHelpReveal||"").toLowerCase()){ge.preventDefault(),Cn();return}if(me===(ve.keyHelpPath||"").toLowerCase()){ge.preventDefault(),cn();return}const{x:ct,y:Ne}=ae;let mt=ct,Ue=Ne,vt=!1;if(ge.key==="ArrowUp"||me===(ve.keyMoveUp||"").toLowerCase())ge.preventDefault(),A.maze[Ne][ct].walls.top?vt=!0:Ue-=1;else if(ge.key==="ArrowDown"||me===(ve.keyMoveDown||"").toLowerCase())ge.preventDefault(),A.maze[Ne][ct].walls.bottom?vt=!0:Ue+=1;else if(ge.key==="ArrowLeft"||me===(ve.keyMoveLeft||"").toLowerCase())ge.preventDefault(),A.maze[Ne][ct].walls.left?vt=!0:mt-=1;else if(ge.key==="ArrowRight"||me===(ve.keyMoveRight||"").toLowerCase())ge.preventDefault(),A.maze[Ne][ct].walls.right?vt=!0:mt+=1;else return;if(vt){r.playCrash();const Ke=Z-1;if(Ke<=0){v(0),r.stopMusic(),pe("failed");const fn=N1(_);if(N(fn),!u)try{localStorage.setItem("mazeMindLocalProgressPending","1")}catch(Ht){console.warn("No s'ha pogut marcar el progrs local pendent",Ht)}u&&jd(u.id,fn).catch(Ht=>{console.error("Error sincronitzant el millor score de prctica:",Ht)})}else v(Ke),he({x:A.start.x,y:A.start.y}),ue([{x:A.start.x,y:A.start.y}]);return}mt>=0&&mt<A.width&&Ue>=0&&Ue<A.height&&(he({x:mt,y:Ue}),ue(Ke=>[...Ke,{x:mt,y:Ue}])),mt===A.exit.x&&Ue===A.exit.y&&(r.playWin(),r.stopMusic(),pe("completed"))};return window.addEventListener("keydown",Xe),()=>window.removeEventListener("keydown",Xe)},[U,s,A,ae,Z,je,r,Cn,cn,dn,_,u]);const yt=j.useMemo(()=>({path_color:c.mazePathColor||"#EEF2FF",wall_color:c.mazeWallColor||"#3B82F6",wall_thickness:c.mazeWallThickness||3,exit_color:c.mazeExitColor||c.normalColor||"#F59E0B",player_color:c.mazePlayerColor||"#111",player_path_color:c.playerPathColor||"rgba(0, 0, 0, 0.4)",crash_help_color:c.crashHelpColor||"#E11D48"}),[c]),ut={page:{minHeight:"100svh",width:"100%",margin:0,background:c.backgroundColor,color:c.textColor,boxSizing:"border-box",padding:"clamp(16px, 3vw, 24px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",alignItems:"center"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexShrink:0,width:"100%",maxWidth:"980px"},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},ghostBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${c.borderColor}`,background:c.surfaceColor,color:c.textColor,cursor:"pointer",fontSize:16,whiteSpace:"nowrap"},mainArea:{flexGrow:1,display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",minHeight:0,width:"100%",maxWidth:"980px"},memorizePanel:{background:`linear-gradient(90deg, ${c.accentColor1}, ${c.accentColor2})`,borderRadius:16,padding:"16px clamp(16px, 3vw, 24px) 20px",boxShadow:q.shadow,textAlign:"center",flexShrink:0},memorizeHeading:{margin:0,fontSize:"clamp(16px, 2vw, 18px)",opacity:.95},memorizeCounter:{fontSize:"clamp(40px, 6vw, 56px)",fontWeight:800,marginTop:6},progressTrack:{marginTop:10,height:10,borderRadius:999,background:"rgba(255,255,255,.35)",overflow:"hidden"},progressFill:{height:"100%",background:c.surfaceColor,borderRadius:999},boardWrap:{flexGrow:1,display:"grid",placeItems:"center",minHeight:0},boardInner:{width:"100%",height:"100%",aspectRatio:"1 / 1",maxWidth:"calc(100vh - 300px)",maxHeight:"100%",background:c.mazePathColor,borderRadius:16,boxShadow:"0 16px 48px rgba(0,0,0,.35), inset 0 0 0 3px rgba(0,0,0,.25)",overflow:"hidden",position:"relative"},footer:{flexShrink:0,width:"100%",maxWidth:"980px",textAlign:"center"},tip:{display:"inline-block",background:c.surfaceColor,border:`1px solid ${c.borderColor}`,padding:"10px 16px",borderRadius:10,color:c.subtextColor,fontSize:14}};return f.jsxs("div",{style:ut.page,children:[f.jsxs("header",{style:ut.headerRow,children:[f.jsxs("button",{type:"button",onClick:Qt,onMouseEnter:()=>r.playHover(),style:ut.ghostBtn,children:[f.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),f.jsxs("h1",{style:ut.title,children:["Mode Score - Nivell ",x]}),f.jsx("div",{style:{width:100}})]}),f.jsxs("main",{style:ut.mainArea,children:[U==="memorize"?f.jsxs("section",{"aria-labelledby":"memorizeTitle",style:ut.memorizePanel,children:[f.jsxs("h2",{id:"memorizeTitle",style:ut.memorizeHeading,children:[f.jsx("span",{"aria-hidden":"true",children:""})," Memoritza el Laberint!"]}),f.jsx("div",{role:"status","aria-live":"polite",style:ut.memorizeCounter,children:be}),f.jsx("div",{role:"progressbar","aria-valuenow":Math.round(Lt),style:ut.progressTrack,children:f.jsx("div",{style:{...ut.progressFill,width:`${Lt}%`}})})]}):f.jsx(fw,{totalScore:_,revealCharges:C,isPathHelpActive:V,isCrashHelpActive:ee,onRevealHelp:Cn,onTogglePathHelp:cn,onToggleCrashHelp:dn,lives:Z}),f.jsx("section",{"aria-label":"Tauler del laberint",style:ut.boardWrap,children:f.jsx("div",{style:ut.boardInner,children:f.jsx(gd,{level:A,phase:U,playerPos:ae,showReveal:je,settings:yt,showPlayerPath:V,crashPosition:kt,forcePathHistory:xe})})})]}),f.jsx("footer",{style:ut.footer,children:U==="playing"?f.jsxs("p",{style:ut.tip,children:["Utilitza les ",f.jsx("kbd",{children:"Fletxes"})," o",f.jsxs("kbd",{children:[" ",Is(h)]}),f.jsx("kbd",{children:Is(g)}),f.jsx("kbd",{children:Is(p)}),f.jsxs("kbd",{children:[Is(y)," "]}),"per mouret."]}):U==="memorize"?f.jsx("p",{style:ut.tip,children:"Memoritza el cam des de l'inici (cercle) fins al final (quadrat)."}):null}),U==="failed"&&f.jsx($0,{onRetry:sl,onBack:Qt,score:Math.round(_),bestScore:Math.round(k),isPracticeScoreMode:!0}),U==="completed"&&Tr&&f.jsx(pw,{levelNumber:x-1,pointsGained:ne,totalScore:_,onNextLevel:ol,onBack:Qt})]})}const mw=1,vw=15,bw=l=>{const[,r]=l.split("-");if(!r)return!1;const i=Number(r);return Number.isFinite(i)&&i>=mw&&i<=vw},xw=(l,r)=>{const i={totalDifferent:0,localBetterStars:0,localBetterTime:0,localBetterPoints:0};return new Set([...Object.keys(l.levels),...Object.keys(r.levels)]).forEach(u=>{if(!bw(u))return;const c=l.levels[u],h=r.levels[u];if(!c&&!h)return;const p=(c?.stars??0)-(h?.stars??0),g=c?.bestTime??null,y=h?.bestTime??null,x=c?.bestPoints??null,S=h?.bestPoints??null;(p!==0||g!==y||x!==S)&&(i.totalDifferent+=1),p>0&&(i.localBetterStars+=1),g!==null&&(y===null||g<y)&&(i.localBetterTime+=1),x!==null&&(S===null||x>S)&&(i.localBetterPoints+=1)}),i},j0=new Intl.NumberFormat("ca-ES");function Sw({cloudProgress:l,localProgress:r,cloudPracticeBest:i,localPracticeBest:s,onChooseCloudOnly:u,onChooseLocalOnly:c,onChooseSmartMerge:h,onCancel:p}){const g=j.useMemo(()=>xw(r,l),[l,r]);return f.jsx("div",{style:ht.overlay,role:"dialog","aria-modal":"true","aria-labelledby":"merge-progress-title",children:f.jsxs("div",{style:ht.modal,children:[f.jsx("h2",{id:"merge-progress-title",style:ht.title,children:"Sincronitza el teu progrs"}),f.jsx("p",{style:ht.body,children:"Hem detectat progrs diferent entre aquest dispositiu i el nvol. Tria com vols continuar:"}),f.jsxs("div",{style:ht.summaryGrid,children:[f.jsx(Ys,{label:"Nivells amb diferncies",value:g.totalDifferent}),f.jsx(Ys,{label:"Nivells on el local t ms estrelles",value:g.localBetterStars}),f.jsx(Ys,{label:"Nivells on el local t millor temps",value:g.localBetterTime}),f.jsx(Ys,{label:"Nivells on el local t ms punts",value:g.localBetterPoints})]}),f.jsxs("div",{style:ht.practiceRow,children:[f.jsxs("div",{children:[f.jsx("p",{style:ht.practiceLabel,children:"Millor puntuaci prctica (local)"}),f.jsx("p",{style:ht.practiceValue,children:j0.format(s??0)})]}),f.jsx("div",{style:ht.practiceDivider,"aria-hidden":"true"}),f.jsxs("div",{children:[f.jsx("p",{style:ht.practiceLabel,children:"Millor puntuaci prctica (nvol)"}),f.jsx("p",{style:ht.practiceValue,children:j0.format(i??0)})]})]}),f.jsxs("div",{style:ht.actions,children:[f.jsx("button",{style:ht.secondaryButton,onClick:u,children:"Fer servir noms el nvol"}),f.jsx("button",{style:ht.secondaryButton,onClick:c,children:"Fer servir noms el local"}),f.jsx("button",{style:ht.primaryButton,onClick:h,children:"Fusi intelligent"})]}),f.jsx("button",{style:ht.cancelButton,onClick:p,children:"Cancella i torna enrere"})]})})}const Ys=({label:l,value:r})=>f.jsxs("div",{style:ht.card,children:[f.jsx("span",{style:ht.cardValue,children:r}),f.jsx("span",{style:ht.cardLabel,children:l})]}),ht={overlay:{position:"fixed",inset:0,background:"rgba(8, 15, 40, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",padding:"1.5rem",zIndex:110},modal:{width:"min(640px, 100%)",background:"#0f172a",color:"#f8fafc",borderRadius:"1.25rem",border:"1px solid rgba(255,255,255,0.12)",padding:"2rem",boxShadow:"0 30px 80px rgba(2,6,23,0.8)",display:"flex",flexDirection:"column",gap:"1.25rem"},title:{fontSize:"1.75rem",margin:0},body:{margin:0,color:"rgba(248,250,252,0.85)",lineHeight:1.5},summaryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem"},card:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",padding:"0.75rem",textAlign:"center"},cardValue:{fontSize:"1.75rem",fontWeight:700,display:"block"},cardLabel:{fontSize:"0.85rem",color:"rgba(248,250,252,0.75)"},practiceRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(15,23,42,0.45)",gap:"1rem",flexWrap:"wrap"},practiceLabel:{margin:0,fontSize:"0.85rem",color:"rgba(248,250,252,0.7)"},practiceValue:{margin:0,fontSize:"1.4rem",fontWeight:700},practiceDivider:{width:"1px",height:"2.5rem",background:"rgba(248,250,252,0.15)"},actions:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"0.75rem"},primaryButton:{borderRadius:"0.75rem",border:"none",padding:"0.9rem 1.2rem",fontWeight:700,background:"linear-gradient(135deg, #34d399, #10b981)",color:"#041221",cursor:"pointer"},secondaryButton:{borderRadius:"0.75rem",border:"1px solid rgba(255,255,255,0.3)",padding:"0.9rem 1.2rem",fontWeight:600,background:"rgba(15,23,42,0.2)",color:"#f8fafc",cursor:"pointer"},cancelButton:{borderRadius:"0.75rem",border:"none",padding:"0.75rem 1rem",fontWeight:600,background:"transparent",color:"rgba(248,250,252,0.6)",cursor:"pointer",textDecoration:"underline",alignSelf:"center"}},Ny=l=>l.startsWith("/")?l:`/${l}`,ww=l=>{const r=l.endsWith("/")?l.slice(0,-1):l;return r.startsWith("/")?r:`/${r}`},qc=(l,r)=>{const i=Number.parseInt(l??"",10);return Number.isFinite(i)&&i>0?i:r},Gc=l=>{if(!l)return"/";const[r,i]=l.split("?"),s=r?r.replace(/\/+/g,"/"):"/",u=s.endsWith("/")&&s!=="/"?s.slice(0,-1):s,c=Ny(u);return i?`${c}?${i}`:c},E0=()=>{if(typeof window>"u")return"/";const{pathname:l,search:r}=window.location;return`${l}${r}`||"/"},_w={"easy-1":Dy},Cw="/MazeMind-TFG/",ai=ww(Cw),Aw=1,jw=15,Ed=l=>{const[r,i]=l.split("-");if(!r||!i)return!1;const s=Number(i);return Number.isFinite(s)&&s>=Aw&&s<=jw},Ew=l=>({levels:Object.fromEntries(Object.entries(l.levels).filter(([r])=>Ed(r))),highestUnlocked:{...l.highestUnlocked}}),Tw=(l,r)=>r>0||l.highestUnlocked.easy>1||l.highestUnlocked.normal>1||l.highestUnlocked.hard>1?!0:Object.keys(l.levels).some(i=>Ed(i)),kw=(l,r)=>{const i=new Set([...Object.keys(l.levels),...Object.keys(r.levels)]);for(const s of i){if(!Ed(s))continue;const u=l.levels[s],c=r.levels[s];if((u?.stars??0)!==(c?.stars??0)||(u?.bestTime??null)!==(c?.bestTime??null)||(u?.bestPoints??null)!==(c?.bestPoints??null))return!0}return l.highestUnlocked.easy!==r.highestUnlocked.easy||l.highestUnlocked.normal!==r.highestUnlocked.normal||l.highestUnlocked.hard!==r.highestUnlocked.hard},Rw=(l,r,i)=>Tw(l,r)?kw(l,i.progress)?!0:r>(i.practiceBest??0):!1,Td="mazeMindLocalProgressPending",Ow=()=>{if(typeof window>"u")return!0;const l=window.localStorage.getItem(Td);return l===null||l==="1"},li=()=>{typeof window>"u"||window.localStorage.setItem(Td,"0")};function zw(){const{user:l}=ro(),[r,i]=j.useState(!1),[s,u]=j.useState(!1),[c,h]=j.useState(()=>ra()),p=j.useRef(null),[g,y]=j.useState(null),[x,S]=j.useState(null),[_,E]=j.useState(!1),[k,N]=j.useState(()=>E0()),[A,Y]=j.useState(0),[O,P]=j.useState("easy");j.useEffect(()=>{if(typeof window>"u")return;const J=()=>{Y(0),N(E0())};return window.addEventListener("popstate",J),()=>window.removeEventListener("popstate",J)},[]);const W=j.useCallback(J=>{const Z=Ny(J);return ai?`${ai}${Z}`:Z},[]),te=j.useCallback(J=>{if(!J)return"/";if(!ai)return Gc(J);if(J.startsWith(ai)){const Z=J.slice(ai.length)||"/";return Gc(Z)}return Gc(J)},[]),Q=j.useMemo(()=>te(k),[k,te]),U=j.useCallback((J,Z)=>{Z?.preserveTutorial||u(!1);const v=W(J);typeof window<"u"&&window.history.pushState({},"",v),N(C=>C===v?(Y(H=>H+1),C):(Y(0),v))},[W]),pe=()=>{u(!0),U("/level/easy/1",{preserveTutorial:!0})};j.useEffect(()=>{const J=l?.id??null;if(p.current===J)return;if(p.current=J,!J){y(null),S(null),h(ra());return}const Z=ra(),v=la(),C=Ow();S(null),(async()=>{try{const V=await Zs(J);if(!C){li(),h(V.progress);return}Rw(Z,v,V)?y({userId:J,cloud:V,localProgress:Z,localPracticeBest:v}):(li(),h(V.progress))}catch(V){console.error("Error obtenint el progrs del nvol:",V)}})()},[l]);const be=async()=>{try{await sn.auth.signOut()}catch(J){console.error("Error en tancar sessi:",J)}finally{typeof window<"u"&&["mazeMindProgress","mazeMindPracticeBestScore","mazeMindPracticeStats",Td].forEach(Z=>{try{window.localStorage.removeItem(Z)}catch(v){console.warn(`No s'ha pogut eliminar la clau ${Z} de localStorage`,v)}}),h(ra()),y(null),S(null),E(!1),i(!1)}},re=()=>{be()},X=async()=>{const J=g;if(!(!J||_)){E(!0),S(null);try{const Z=await kS(J.userId);h(Z.progress),li(),y(null)}catch(Z){console.error("Error aplicant noms el progrs del nvol:",Z),S("No s'ha pogut carregar el progrs del nvol. Torna-ho a intentar.")}finally{E(!1)}}},ae=async()=>{const J=g;if(!(!J||_)){E(!0),S(null);try{await RS(J.userId),h(Ew(J.localProgress)),li(),y(null)}catch(Z){console.error("Error pujant el progrs local:",Z),S("No s'ha pogut pujar el progrs local. Revisa la connexi i torna-ho a provar.")}finally{E(!1)}}},he=async()=>{const J=g;if(!(!J||_)){E(!0),S(null);try{await OS(J.userId);const Z=await Zs(J.userId);h(Z.progress),li(),y(null)}catch(Z){console.error("Error aplicant la fusi intelligent:",Z),S("No s'ha pogut completar la fusi. Torna-ho a intentar.")}finally{E(!1)}}},xe=()=>{_||(y(null),be())},ue=j.useMemo(()=>{if(Q==="/settings")return{type:"settings"};if(Q==="/practice/free")return{type:"practice-free"};if(Q==="/practice/normal")return{type:"practice-normal"};if(Q==="/practice/ia")return{type:"practice-ia"};if(Q==="/levels")return{type:"levels"};if(Q.startsWith("/level/custom")){const[,Z=""]=Q.split("?"),v=new URLSearchParams(Z),C=qc(v.get("w"),7),H=qc(v.get("h"),7),V=qc(v.get("t"),10),ee=v.get("d")==="hard"?"hard":"normal";return{type:"custom",width:C,height:H,time:V,difficulty:ee}}const J=Q.match(/^\/level\/(easy|normal|hard)\/(\d+)$/);if(J){const[,Z,v]=J;return{type:"level",difficulty:Z,number:Number(v)}}return Q==="/"||Q===""?{type:"home"}:{type:"unknown",path:Q}},[Q]);j.useEffect(()=>{ue.type==="unknown"&&console.warn(`Ruta desconeguda: ${ue.path}. Redirigint a HomeScreen.`)},[ue]);const D=j.useCallback(J=>{const Z=new URLSearchParams;Z.set("w",String(J.width)),Z.set("h",String(J.height)),Z.set("t",String(J.time)),Z.set("d",J.difficulty),U(`/level/custom?${Z.toString()}`)},[U]),K=()=>f.jsxs(f.Fragment,{children:[f.jsx(O1,{progress:c,user:l,onNavigate:()=>U("/levels"),onUserClick:()=>i(!0),onLogout:re,onSettingsClick:()=>U("/settings")}),r&&f.jsx(HS,{onClose:()=>i(!1)})]});let ne;switch(ue.type){case"settings":ne=f.jsx(cw,{onBack:()=>U("/")});break;case"practice-free":ne=f.jsx(dw,{onBack:()=>U("/levels"),onStartGame:D});break;case"custom":{const J=tl({levelNumber:99,difficulty:ue.difficulty,width:ue.width,height:ue.height,memorizeTime:ue.time,stars:[60,45,30]}),Z=new URLSearchParams({w:String(ue.width),h:String(ue.height),t:String(ue.time),d:ue.difficulty});ne=f.jsx(Dc,{level:J,onBack:()=>U("/practice/free"),onRetry:()=>U(`/level/custom?${Z.toString()}`),isTutorialMode:!1,onCompleteTutorial:()=>{},onLevelComplete:v=>h(v),isPracticeMode:!0,progress:c},A);break}case"practice-normal":ne=f.jsx(yw,{onBack:()=>U("/levels")},A);break;case"practice-ia":{const J=tl({levelNumber:1,difficulty:"easy",width:7,height:7,memorizeTime:12,stars:[60,45,30]});ne=f.jsx(Dc,{level:J,onBack:()=>U("/levels"),onRetry:()=>U("/practice/ia"),isTutorialMode:!1,onCompleteTutorial:()=>{},onLevelComplete:Z=>h(Z),isPracticeMode:!0,progress:c},A);break}case"levels":ne=f.jsx($1,{progress:c,onPlayLevel:(J,Z)=>U(`/level/${Z}/${J}`),onBack:()=>U("/"),onStartTutorial:pe,selectedDifficulty:O,onDifficultyChange:P,onStartPracticeIA:()=>U("/practice/ia"),onStartPracticeNormal:()=>U("/practice/normal"),onStartPracticeFree:()=>U("/practice/free")});break;case"level":{const{difficulty:J,number:Z}=ue,v=`${J}-${Z}`,C=_w[v]??tl({levelNumber:Z,difficulty:J,width:7,height:7,memorizeTime:10,stars:[60,45,30]});ne=f.jsx(Dc,{level:C,onBack:()=>U("/levels"),onRetry:()=>U(`/level/${J}/${Z}`),isTutorialMode:s,onCompleteTutorial:()=>u(!1),onLevelComplete:H=>h(H),isPracticeMode:!1,progress:c},A);break}case"home":ne=K();break;case"unknown":default:ne=K();break}return f.jsxs(f.Fragment,{children:[ne,g&&f.jsx(Sw,{cloudProgress:g.cloud.progress,localProgress:g.localProgress,cloudPracticeBest:g.cloud.practiceBest,localPracticeBest:g.localPracticeBest,onChooseCloudOnly:X,onChooseLocalOnly:ae,onChooseSmartMerge:he,onCancel:xe}),x&&g&&f.jsx("div",{style:{position:"fixed",bottom:"1.5rem",left:"50%",transform:"translateX(-50%)",background:"rgba(220,38,38,0.9)",color:"#fff",padding:"0.75rem 1.25rem",borderRadius:"999px",zIndex:120,fontWeight:600},children:x})]})}sb.createRoot(document.getElementById("root")).render(f.jsx(j.StrictMode,{children:f.jsx(bS,{children:f.jsx(C1,{children:f.jsx(zw,{})})})}));
