function Fv(i,r){for(var l=0;l<r.length;l++){const s=r[l];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in i)){const c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(i,u,c.get?c:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=l(u);fetch(u.href,c)}})();function R0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Zv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var l=function s(){var u=!1;try{u=this instanceof s}catch{}return u?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};l.prototype=r.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var u=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(l,s,u.get?u:{enumerable:!0,get:function(){return i[s]}})}),l}var mc={exports:{}},ei={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function eb(){if(jg)return ei;jg=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(s,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var p in u)p!=="key"&&(c[p]=u[p])}else c=u;return u=c.ref,{$$typeof:i,type:s,key:h,ref:u!==void 0?u:null,props:c}}return ei.Fragment=r,ei.jsx=l,ei.jsxs=l,ei}var Eg;function tb(){return Eg||(Eg=1,mc.exports=eb()),mc.exports}var f=tb(),vc={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function nb(){if(Tg)return Se;Tg=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function j(v){return v===null||typeof v!="object"?null:(v=S&&v[S]||v["@@iterator"],typeof v=="function"?v:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,E={};function I(v,_,L){this.props=v,this.context=_,this.refs=E,this.updater=L||k}I.prototype.isReactComponent={},I.prototype.setState=function(v,_){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,_,"setState")},I.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=I.prototype;function q(v,_,L){this.props=v,this.context=_,this.refs=E,this.updater=L||k}var J=q.prototype=new O;J.constructor=q,M(J,I.prototype),J.isPureReactComponent=!0;var re=Array.isArray;function ee(){}var V={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function we(v,_,L){var H=L.ref;return{$$typeof:i,type:v,key:_,ref:H!==void 0?H:null,props:L}}function ne(v,_){return we(v.type,_,v.props)}function K(v){return typeof v=="object"&&v!==null&&v.$$typeof===i}function F(v){var _={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(L){return _[L]})}var se=/\/+/g;function me(v,_){return typeof v=="object"&&v!==null&&v.key!=null?F(""+v.key):_.toString(36)}function fe(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(ee,ee):(v.status="pending",v.then(function(_){v.status==="pending"&&(v.status="fulfilled",v.value=_)},function(_){v.status==="pending"&&(v.status="rejected",v.reason=_)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function z(v,_,L,H,Q){var Z=typeof v;(Z==="undefined"||Z==="boolean")&&(v=null);var le=!1;if(v===null)le=!0;else switch(Z){case"bigint":case"string":case"number":le=!0;break;case"object":switch(v.$$typeof){case i:case r:le=!0;break;case x:return le=v._init,z(le(v._payload),_,L,H,Q)}}if(le)return Q=Q(v),le=H===""?"."+me(v,0):H,re(Q)?(L="",le!=null&&(L=le.replace(se,"$&/")+"/"),z(Q,_,L,"",function(Rt){return Rt})):Q!=null&&(K(Q)&&(Q=ne(Q,L+(Q.key==null||v&&v.key===Q.key?"":(""+Q.key).replace(se,"$&/")+"/")+le)),_.push(Q)),1;le=0;var je=H===""?".":H+":";if(re(v))for(var xe=0;xe<v.length;xe++)H=v[xe],Z=je+me(H,xe),le+=z(H,_,L,Z,Q);else if(xe=j(v),typeof xe=="function")for(v=xe.call(v),xe=0;!(H=v.next()).done;)H=H.value,Z=je+me(H,xe++),le+=z(H,_,L,Z,Q);else if(Z==="object"){if(typeof v.then=="function")return z(fe(v),_,L,H,Q);throw _=String(v),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(v,_,L){if(v==null)return v;var H=[],Q=0;return z(v,H,"","",function(Z){return _.call(L,Z,Q++)}),H}function ie(v){if(v._status===-1){var _=v._result;_=_(),_.then(function(L){(v._status===0||v._status===-1)&&(v._status=1,v._result=L)},function(L){(v._status===0||v._status===-1)&&(v._status=2,v._result=L)}),v._status===-1&&(v._status=0,v._result=_)}if(v._status===1)return v._result.default;throw v._result}var he=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},X={map:W,forEach:function(v,_,L){W(v,function(){_.apply(this,arguments)},L)},count:function(v){var _=0;return W(v,function(){_++}),_},toArray:function(v){return W(v,function(_){return _})||[]},only:function(v){if(!K(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return Se.Activity=w,Se.Children=X,Se.Component=I,Se.Fragment=l,Se.Profiler=u,Se.PureComponent=q,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Se.__COMPILER_RUNTIME={__proto__:null,c:function(v){return V.H.useMemoCache(v)}},Se.cache=function(v){return function(){return v.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(v,_,L){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var H=M({},v.props),Q=v.key;if(_!=null)for(Z in _.key!==void 0&&(Q=""+_.key),_)!te.call(_,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&_.ref===void 0||(H[Z]=_[Z]);var Z=arguments.length-2;if(Z===1)H.children=L;else if(1<Z){for(var le=Array(Z),je=0;je<Z;je++)le[je]=arguments[je+2];H.children=le}return we(v.type,Q,H)},Se.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:c,_context:v},v},Se.createElement=function(v,_,L){var H,Q={},Z=null;if(_!=null)for(H in _.key!==void 0&&(Z=""+_.key),_)te.call(_,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Q[H]=_[H]);var le=arguments.length-2;if(le===1)Q.children=L;else if(1<le){for(var je=Array(le),xe=0;xe<le;xe++)je[xe]=arguments[xe+2];Q.children=je}if(v&&v.defaultProps)for(H in le=v.defaultProps,le)Q[H]===void 0&&(Q[H]=le[H]);return we(v,Z,Q)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(v){return{$$typeof:p,render:v}},Se.isValidElement=K,Se.lazy=function(v){return{$$typeof:x,_payload:{_status:-1,_result:v},_init:ie}},Se.memo=function(v,_){return{$$typeof:y,type:v,compare:_===void 0?null:_}},Se.startTransition=function(v){var _=V.T,L={};V.T=L;try{var H=v(),Q=V.S;Q!==null&&Q(L,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ee,he)}catch(Z){he(Z)}finally{_!==null&&L.types!==null&&(_.types=L.types),V.T=_}},Se.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Se.use=function(v){return V.H.use(v)},Se.useActionState=function(v,_,L){return V.H.useActionState(v,_,L)},Se.useCallback=function(v,_){return V.H.useCallback(v,_)},Se.useContext=function(v){return V.H.useContext(v)},Se.useDebugValue=function(){},Se.useDeferredValue=function(v,_){return V.H.useDeferredValue(v,_)},Se.useEffect=function(v,_){return V.H.useEffect(v,_)},Se.useEffectEvent=function(v){return V.H.useEffectEvent(v)},Se.useId=function(){return V.H.useId()},Se.useImperativeHandle=function(v,_,L){return V.H.useImperativeHandle(v,_,L)},Se.useInsertionEffect=function(v,_){return V.H.useInsertionEffect(v,_)},Se.useLayoutEffect=function(v,_){return V.H.useLayoutEffect(v,_)},Se.useMemo=function(v,_){return V.H.useMemo(v,_)},Se.useOptimistic=function(v,_){return V.H.useOptimistic(v,_)},Se.useReducer=function(v,_,L){return V.H.useReducer(v,_,L)},Se.useRef=function(v){return V.H.useRef(v)},Se.useState=function(v){return V.H.useState(v)},Se.useSyncExternalStore=function(v,_,L){return V.H.useSyncExternalStore(v,_,L)},Se.useTransition=function(){return V.H.useTransition()},Se.version="19.2.0",Se}var kg;function ud(){return kg||(kg=1,vc.exports=nb()),vc.exports}var A=ud();const Rg=R0(A);var bc={exports:{}},ti={},xc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function rb(){return Og||(Og=1,(function(i){function r(z,W){var ie=z.length;z.push(W);e:for(;0<ie;){var he=ie-1>>>1,X=z[he];if(0<u(X,W))z[he]=W,z[ie]=X,ie=he;else break e}}function l(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var W=z[0],ie=z.pop();if(ie!==W){z[0]=ie;e:for(var he=0,X=z.length,v=X>>>1;he<v;){var _=2*(he+1)-1,L=z[_],H=_+1,Q=z[H];if(0>u(L,ie))H<X&&0>u(Q,L)?(z[he]=Q,z[H]=ie,he=H):(z[he]=L,z[_]=ie,he=_);else if(H<X&&0>u(Q,ie))z[he]=Q,z[H]=ie,he=H;else break e}}return W}function u(z,W){var ie=z.sortIndex-W.sortIndex;return ie!==0?ie:z.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,w=null,S=3,j=!1,k=!1,M=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function J(z){for(var W=l(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=z)s(y),W.sortIndex=W.expirationTime,r(g,W);else break;W=l(y)}}function re(z){if(M=!1,J(z),!k)if(l(g)!==null)k=!0,ee||(ee=!0,F());else{var W=l(y);W!==null&&fe(re,W.startTime-z)}}var ee=!1,V=-1,te=5,we=-1;function ne(){return E?!0:!(i.unstable_now()-we<te)}function K(){if(E=!1,ee){var z=i.unstable_now();we=z;var W=!0;try{e:{k=!1,M&&(M=!1,O(V),V=-1),j=!0;var ie=S;try{t:{for(J(z),w=l(g);w!==null&&!(w.expirationTime>z&&ne());){var he=w.callback;if(typeof he=="function"){w.callback=null,S=w.priorityLevel;var X=he(w.expirationTime<=z);if(z=i.unstable_now(),typeof X=="function"){w.callback=X,J(z),W=!0;break t}w===l(g)&&s(g),J(z)}else s(g);w=l(g)}if(w!==null)W=!0;else{var v=l(y);v!==null&&fe(re,v.startTime-z),W=!1}}break e}finally{w=null,S=ie,j=!1}W=void 0}}finally{W?F():ee=!1}}}var F;if(typeof q=="function")F=function(){q(K)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,me=se.port2;se.port1.onmessage=K,F=function(){me.postMessage(null)}}else F=function(){I(K,0)};function fe(z,W){V=I(function(){z(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(z){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var ie=S;S=W;try{return z()}finally{S=ie}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=S;S=z;try{return W()}finally{S=ie}},i.unstable_scheduleCallback=function(z,W,ie){var he=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,z={id:x++,callback:W,priorityLevel:z,startTime:ie,expirationTime:X,sortIndex:-1},ie>he?(z.sortIndex=ie,r(y,z),l(g)===null&&z===l(y)&&(M?(O(V),V=-1):M=!0,fe(re,ie-he))):(z.sortIndex=X,r(g,z),k||j||(k=!0,ee||(ee=!0,F()))),z},i.unstable_shouldYield=ne,i.unstable_wrapCallback=function(z){var W=S;return function(){var ie=S;S=W;try{return z.apply(this,arguments)}finally{S=ie}}}})(wc)),wc}var zg;function ab(){return zg||(zg=1,xc.exports=rb()),xc.exports}var Sc={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function lb(){if(Mg)return Et;Mg=1;var i=ud();function r(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:g,containerInfo:y,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Et.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return c(g,y,null,x)},Et.flushSync=function(g){var y=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=x,s.d.f()}},Et.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Et.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Et.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,w=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:j}):x==="script"&&s.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Et.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Et.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=p(x,y.crossOrigin);s.d.L(g,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Et.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Et.requestFormReset=function(g){s.d.r(g)},Et.unstable_batchedUpdates=function(g,y){return g(y)},Et.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},Et.useFormStatus=function(){return h.H.useHostTransitionStatus()},Et.version="19.2.0",Et}var Bg;function ib(){if(Bg)return Sc.exports;Bg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Sc.exports=lb(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function sb(){if(Dg)return ti;Dg=1;var i=ab(),r=ud(),l=ib();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(a=o.return,a!==null){n=a;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return g(o),e;if(d===a)return g(o),t;d=d.sibling}throw Error(s(188))}if(n.return!==a.return)n=o,a=d;else{for(var m=!1,b=o.child;b;){if(b===n){m=!0,n=o,a=d;break}if(b===a){m=!0,a=o,n=d;break}b=b.sibling}if(!m){for(b=d.child;b;){if(b===n){m=!0,n=d,a=o;break}if(b===a){m=!0,a=d,n=o;break}b=b.sibling}if(!m)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case re:return"Suspense";case ee:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case q:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}var fe=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},he=[],X=-1;function v(e){return{current:e}}function _(e){0>X||(e.current=he[X],he[X]=null,X--)}function L(e,t){X++,he[X]=e.current,e.current=t}var H=v(null),Q=v(null),Z=v(null),le=v(null);function je(e,t){switch(L(Z,t),L(Q,e),L(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wp(t),e=Qp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(H),L(H,e)}function xe(){_(H),_(Q),_(Z)}function Rt(e){e.memoizedState!==null&&L(le,e);var t=H.current,n=Qp(t,e.type);t!==n&&(L(Q,e),L(H,n))}function Sn(e){Q.current===e&&(_(H),_(Q)),le.current===e&&(_(le),Ql._currentValue=ie)}var Tr,_n;function Ht(e){if(Tr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tr=t&&t[1]||"",_n=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+e+_n}var un=!1;function Fn(e,t){if(!e||un)return"";un=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var N=U}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(U){N=U}e.call(Y.prototype)}}else{try{throw Error()}catch(U){N=U}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&N&&typeof U.stack=="string")return[U.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),m=d[0],b=d[1];if(m&&b){var C=m.split(`
`),D=b.split(`
`);for(o=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(a===C.length||o===D.length)for(a=C.length-1,o=D.length-1;1<=a&&0<=o&&C[a]!==D[o];)o--;for(;1<=a&&0<=o;a--,o--)if(C[a]!==D[o]){if(a!==1||o!==1)do if(a--,o--,0>o||C[a]!==D[o]){var $=`
`+C[a].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=a&&0<=o);break}}}finally{un=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ht(n):""}function kr(e,t){switch(e.tag){case 26:case 27:case 5:return Ht(e.type);case 16:return Ht("Lazy");case 13:return e.child!==t&&t!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return Fn(e.type,!1);case 11:return Fn(e.type.render,!1);case 1:return Fn(e.type,!0);case 31:return Ht("Activity");default:return""}}function Cn(e){try{var t="",n=null;do t+=kr(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var cn=Object.prototype.hasOwnProperty,dn=i.unstable_scheduleCallback,Qt=i.unstable_cancelCallback,sl=i.unstable_shouldYield,ol=i.unstable_requestPaint,mt=i.unstable_now,ut=i.unstable_getCurrentPriorityLevel,be=i.unstable_ImmediatePriority,Xe=i.unstable_UserBlockingPriority,ge=i.unstable_NormalPriority,An=i.unstable_LowPriority,ve=i.unstable_IdlePriority,ct=i.log,Ue=i.unstable_setDisableYieldValue,vt=null,Le=null;function bt(e){if(typeof ct=="function"&&Ue(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(vt,e)}catch{}}var Je=Math.clz32?Math.clz32:zn,fn=Math.log,$t=Math.LN2;function zn(e){return e>>>=0,e===0?32:31-(fn(e)/$t|0)|0}var jn=256,hn=262144,mi=4194304;function Rr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~d,a!==0?o=Rr(a):(m&=b,m!==0?o=Rr(m):n||(n=b&~e,n!==0&&(o=Rr(n))))):(b=a&~d,b!==0?o=Rr(b):m!==0?o=Rr(m):n||(n=a&~e,n!==0&&(o=Rr(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function ul(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kd(){var e=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),e}function ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $y(e,t,n,a,o,d){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(n=m&~n;0<n;){var $=31-Je(n),Y=1<<$;b[$]=0,C[$]=-1;var N=D[$];if(N!==null)for(D[$]=null,$=0;$<N.length;$++){var U=N[$];U!==null&&(U.lane&=-536870913)}n&=~Y}a!==0&&Rd(e,a,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function Rd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Je(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Od(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Je(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}function zd(e,t){var n=t&-t;return n=(n&42)!==0?1:lo(n),(n&(e.suspendedLanes|t))!==0?0:n}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function io(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Md(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:bg(e.type))}function Bd(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}var Zn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Zn,zt="__reactProps$"+Zn,ia="__reactContainer$"+Zn,so="__reactEvents$"+Zn,Vy="__reactListeners$"+Zn,qy="__reactHandles$"+Zn,Dd="__reactResources$"+Zn,dl="__reactMarker$"+Zn;function oo(e){delete e[xt],delete e[zt],delete e[so],delete e[Vy],delete e[qy]}function sa(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ia]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rg(e);e!==null;){if(n=e[xt])return n;e=rg(e)}return t}e=n,n=e.parentNode}return null}function oa(e){if(e=e[xt]||e[ia]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ua(e){var t=e[Dd];return t||(t=e[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[dl]=!0}var Nd=new Set,Ud={};function Or(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(Ud[e]=t,e=0;e<t.length;e++)Nd.add(t[e])}var Gy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ld={},Hd={};function Py(e){return cn.call(Hd,e)?!0:cn.call(Ld,e)?!1:Gy.test(e)?Hd[e]=!0:(Ld[e]=!0,!1)}function bi(e,t,n){if(Py(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iy(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uo(e){if(!e._valueTracker){var t=$d(e)?"checked":"value";e._valueTracker=Iy(e,t,""+e[t])}}function Vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=$d(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yy=/[\n"\\]/g;function Ft(e){return e.replace(Yy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function co(e,t,n,a,o,d,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?fo(e,m,Xt(t)):n!=null?fo(e,m,Xt(n)):a!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Xt(b):e.removeAttribute("name")}function qd(e,t,n,a,o,d,m,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){uo(e);return}n=n!=null?""+Xt(n):"",t=t!=null?""+Xt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),uo(e)}function fo(e,t,n){t==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function da(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gd(e,t,n){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xt(n):""}function Pd(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(fe(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Xt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),uo(e)}function fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ky=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ky.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yd(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&n[o]!==a&&Id(e,o,a)}else for(var d in t)t.hasOwnProperty(d)&&Id(e,d,t[d])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Si(e){return Wy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var po=null;function go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ha=null,pa=null;function Kd(e){var t=oa(e);if(t&&(e=t.stateNode)){var n=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(co(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=a[zt]||null;if(!o)throw Error(s(90));co(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Vd(a)}break e;case"textarea":Gd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&da(e,!!n.multiple,t,!1)}}}var yo=!1;function Jd(e,t,n){if(yo)return e(t,n);yo=!0;try{var a=e(t);return a}finally{if(yo=!1,(ha!==null||pa!==null)&&(us(),ha&&(t=ha,e=pa,pa=ha=null,Kd(t),e)))for(t=0;t<e.length;t++)Kd(e[t])}}function hl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[zt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(Dn)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){mo=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{mo=!1}var er=null,vo=null,_i=null;function Wd(){if(_i)return _i;var e,t=vo,n=t.length,a,o="value"in er?er.value:er.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(a=1;a<=m&&t[n-a]===o[d-a];a++);return _i=o.slice(e,1<a?1-a:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Qd(){return!1}function Mt(e){function t(n,a,o,d,m){this._reactName=n,this._targetInst=o,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ai:Qd,this.isPropagationStopped=Qd,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Mt(zr),gl=w({},zr,{view:0,detail:0}),Qy=Mt(gl),bo,xo,yl,Ei=w({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(bo=e.screenX-yl.screenX,xo=e.screenY-yl.screenY):xo=bo=0,yl=e),bo)},movementY:function(e){return"movementY"in e?e.movementY:xo}}),Xd=Mt(Ei),Xy=w({},Ei,{dataTransfer:0}),Fy=Mt(Xy),Zy=w({},gl,{relatedTarget:0}),wo=Mt(Zy),em=w({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),tm=Mt(em),nm=w({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rm=Mt(nm),am=w({},zr,{data:0}),Fd=Mt(am),lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sm[e])?!!t[e]:!1}function So(){return om}var um=w({},gl,{key:function(e){if(e.key){var t=lm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cm=Mt(um),dm=w({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=Mt(dm),fm=w({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),hm=Mt(fm),pm=w({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=Mt(pm),ym=w({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mm=Mt(ym),vm=w({},zr,{newState:0,oldState:0}),bm=Mt(vm),xm=[9,13,27,32],_o=Dn&&"CompositionEvent"in window,ml=null;Dn&&"documentMode"in document&&(ml=document.documentMode);var wm=Dn&&"TextEvent"in window&&!ml,ef=Dn&&(!_o||ml&&8<ml&&11>=ml),tf=" ",nf=!1;function rf(e,t){switch(e){case"keyup":return xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function Sm(e,t){switch(e){case"compositionend":return af(t);case"keypress":return t.which!==32?null:(nf=!0,tf);case"textInput":return e=t.data,e===tf&&nf?null:e;default:return null}}function _m(e,t){if(ga)return e==="compositionend"||!_o&&rf(e,t)?(e=Wd(),_i=vo=er=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ef&&t.locale!=="ko"?null:t.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cm[e.type]:t==="textarea"}function sf(e,t,n,a){ha?pa?pa.push(a):pa=[a]:ha=a,t=ys(t,"onChange"),0<t.length&&(n=new ji("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var vl=null,bl=null;function Am(e){Gp(e,0)}function Ti(e){var t=fl(e);if(Vd(t))return e}function of(e,t){if(e==="change")return t}var uf=!1;if(Dn){var Co;if(Dn){var Ao="oninput"in document;if(!Ao){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),Ao=typeof cf.oninput=="function"}Co=Ao}else Co=!1;uf=Co&&(!document.documentMode||9<document.documentMode)}function df(){vl&&(vl.detachEvent("onpropertychange",ff),bl=vl=null)}function ff(e){if(e.propertyName==="value"&&Ti(bl)){var t=[];sf(t,bl,e,go(e)),Jd(Am,t)}}function jm(e,t,n){e==="focusin"?(df(),vl=t,bl=n,vl.attachEvent("onpropertychange",ff)):e==="focusout"&&df()}function Em(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(bl)}function Tm(e,t){if(e==="click")return Ti(t)}function km(e,t){if(e==="input"||e==="change")return Ti(t)}function Rm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Rm;function xl(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!cn.call(t,o)||!Vt(e[o],t[o]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var n=hf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hf(n)}}function gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wi(e.document)}return t}function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Om=Dn&&"documentMode"in document&&11>=document.documentMode,ya=null,Eo=null,wl=null,To=!1;function mf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;To||ya==null||ya!==wi(a)||(a=ya,"selectionStart"in a&&jo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wl&&xl(wl,a)||(wl=a,a=ys(Eo,"onSelect"),0<a.length&&(t=new ji("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ya)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ma={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},ko={},vf={};Dn&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Br(e){if(ko[e])return ko[e];if(!ma[e])return e;var t=ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vf)return ko[e]=t[n];return e}var bf=Br("animationend"),xf=Br("animationiteration"),wf=Br("animationstart"),zm=Br("transitionrun"),Mm=Br("transitionstart"),Bm=Br("transitioncancel"),Sf=Br("transitionend"),_f=new Map,Ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ro.push("scrollEnd");function pn(e,t){_f.set(e,t),Or(t,[e])}var ki=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],va=0,Oo=0;function Ri(){for(var e=va,t=Oo=va=0;t<e;){var n=Zt[t];Zt[t++]=null;var a=Zt[t];Zt[t++]=null;var o=Zt[t];Zt[t++]=null;var d=Zt[t];if(Zt[t++]=null,a!==null&&o!==null){var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}d!==0&&Cf(n,o,d)}}function Oi(e,t,n,a){Zt[va++]=e,Zt[va++]=t,Zt[va++]=n,Zt[va++]=a,Oo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zo(e,t,n,a){return Oi(e,t,n,a),zi(e)}function Dr(e,t){return Oi(e,null,null,t),zi(e)}function Cf(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,a=d.alternate,a!==null&&(a.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Je(n),e=d.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=n|536870912),d):null}function zi(e){if(50<Gl)throw Gl=0,Vu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ba={};function Dm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,a){return new Dm(e,t,n,a)}function Mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nn(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Af(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mi(e,t,n,a,o,d){var m=0;if(a=e,typeof e=="function")Mo(e)&&(m=1);else if(typeof e=="string")m=$v(e,n,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=qt(31,n,t,o),e.elementType=we,e.lanes=d,e;case M:return Nr(n.children,o,d,t);case E:m=8,o|=24;break;case I:return e=qt(12,n,t,o|2),e.elementType=I,e.lanes=d,e;case re:return e=qt(13,n,t,o),e.elementType=re,e.lanes=d,e;case ee:return e=qt(19,n,t,o),e.elementType=ee,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:m=10;break e;case O:m=9;break e;case J:m=11;break e;case V:m=14;break e;case te:m=16,a=null;break e}m=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=qt(m,n,t,o),t.elementType=e,t.type=a,t.lanes=d,t}function Nr(e,t,n,a){return e=qt(7,e,a,t),e.lanes=n,e}function Bo(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function jf(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Do(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ef=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var n=Ef.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Cn(t)},Ef.set(e,t),t)}return{value:e,source:t,stack:Cn(t)}}var xa=[],wa=0,Bi=null,Sl=0,tn=[],nn=0,tr=null,En=1,Tn="";function Un(e,t){xa[wa++]=Sl,xa[wa++]=Bi,Bi=e,Sl=t}function Tf(e,t,n){tn[nn++]=En,tn[nn++]=Tn,tn[nn++]=tr,tr=e;var a=En;e=Tn;var o=32-Je(a)-1;a&=~(1<<o),n+=1;var d=32-Je(t)+o;if(30<d){var m=o-o%5;d=(a&(1<<m)-1).toString(32),a>>=m,o-=m,En=1<<32-Je(t)+o|n<<o|a,Tn=d+e}else En=1<<d|n<<o|a,Tn=e}function No(e){e.return!==null&&(Un(e,1),Tf(e,1,0))}function Uo(e){for(;e===Bi;)Bi=xa[--wa],xa[wa]=null,Sl=xa[--wa],xa[wa]=null;for(;e===tr;)tr=tn[--nn],tn[nn]=null,Tn=tn[--nn],tn[nn]=null,En=tn[--nn],tn[nn]=null}function kf(e,t){tn[nn++]=En,tn[nn++]=Tn,tn[nn++]=tr,En=t.id,Tn=t.overflow,tr=e}var wt=null,We=null,Oe=!1,nr=null,rn=!1,Lo=Error(s(519));function rr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(en(t,e)),Lo}function Rf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[xt]=e,t[zt]=a,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Il.length;n++)Te(Il[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),qd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Pd(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Kp(t.textContent,n)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=Bn),t=!0):t=!1,t||rr(e,!0)}function Of(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:wt=wt.return}}function Sa(e){if(e!==wt)return!1;if(!Oe)return Of(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nc(e.type,e.memoizedProps)),n=!n),n&&We&&rr(e),Of(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));We=ng(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));We=ng(e)}else t===27?(t=We,mr(e.type)?(e=sc,sc=null,We=e):We=t):We=wt?ln(e.stateNode.nextSibling):null;return!0}function Ur(){We=wt=null,Oe=!1}function Ho(){var e=nr;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),nr=null),e}function _l(e){nr===null?nr=[e]:nr.push(e)}var $o=v(null),Lr=null,Ln=null;function ar(e,t,n){L($o,t._currentValue),t._currentValue=n}function Hn(e){e._currentValue=$o.current,_($o)}function Vo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function qo(e,t,n,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var C=0;C<t.length;C++)if(b.context===t[C]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),Vo(d.return,n,e),a||(m=null);break e}d=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(s(341));m.lanes|=n,d=m.alternate,d!==null&&(d.lanes|=n),Vo(m,n,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function _a(e,t,n,a){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var b=o.type;Vt(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===le.current){if(m=o.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}o=o.return}e!==null&&qo(t,e,n,a),t.flags|=262144}function Di(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){Lr=e,Ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return zf(Lr,e)}function Ni(e,t){return Lr===null&&Hr(e),zf(e,t)}function zf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ln===null){if(e===null)throw Error(s(308));Ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ln=Ln.next=t;return n}var Nm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Um=i.unstable_scheduleCallback,Lm=i.unstable_NormalPriority,at={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new Nm,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&Um(Lm,function(){e.controller.abort()})}var Al=null,Po=0,Ca=0,Aa=null;function Hm(e,t){if(Al===null){var n=Al=[];Po=0,Ca=Ku(),Aa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Po++,t.then(Mf,Mf),t}function Mf(){if(--Po===0&&Al!==null){Aa!==null&&(Aa.status="fulfilled");var e=Al;Al=null,Ca=0,Aa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $m(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),a}var Bf=z.S;z.S=function(e,t){mp=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hm(e,t),Bf!==null&&Bf(e,t)};var $r=v(null);function Io(){var e=$r.current;return e!==null?e:Ie.pooledCache}function Ui(e,t){t===null?L($r,$r.current):L($r,t.pool)}function Df(){var e=Io();return e===null?null:{parent:at._currentValue,pool:e}}var ja=Error(s(460)),Yo=Error(s(474)),Li=Error(s(542)),Hi={then:function(){}};function Nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Bn,Bn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hf(e),e;default:if(typeof t.status=="string")t.then(Bn,Bn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hf(e),e}throw qr=t,ja}}function Vr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(qr=n,ja):n}}var qr=null;function Lf(){if(qr===null)throw Error(s(459));var e=qr;return qr=null,e}function Hf(e){if(e===ja||e===Li)throw Error(s(483))}var Ea=null,jl=0;function $i(e){var t=jl;return jl+=1,Ea===null&&(Ea=[]),Uf(Ea,e,t)}function El(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vi(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $f(e){function t(R,T){if(e){var B=R.deletions;B===null?(R.deletions=[T],R.flags|=16):B.push(T)}}function n(R,T){if(!e)return null;for(;T!==null;)t(R,T),T=T.sibling;return null}function a(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function o(R,T){return R=Nn(R,T),R.index=0,R.sibling=null,R}function d(R,T,B){return R.index=B,e?(B=R.alternate,B!==null?(B=B.index,B<T?(R.flags|=67108866,T):B):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function m(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,T,B,P){return T===null||T.tag!==6?(T=Bo(B,R.mode,P),T.return=R,T):(T=o(T,B),T.return=R,T)}function C(R,T,B,P){var de=B.type;return de===M?$(R,T,B.props.children,P,B.key):T!==null&&(T.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===te&&Vr(de)===T.type)?(T=o(T,B.props),El(T,B),T.return=R,T):(T=Mi(B.type,B.key,B.props,null,R.mode,P),El(T,B),T.return=R,T)}function D(R,T,B,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==B.containerInfo||T.stateNode.implementation!==B.implementation?(T=Do(B,R.mode,P),T.return=R,T):(T=o(T,B.children||[]),T.return=R,T)}function $(R,T,B,P,de){return T===null||T.tag!==7?(T=Nr(B,R.mode,P,de),T.return=R,T):(T=o(T,B),T.return=R,T)}function Y(R,T,B){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Bo(""+T,R.mode,B),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case j:return B=Mi(T.type,T.key,T.props,null,R.mode,B),El(B,T),B.return=R,B;case k:return T=Do(T,R.mode,B),T.return=R,T;case te:return T=Vr(T),Y(R,T,B)}if(fe(T)||F(T))return T=Nr(T,R.mode,B,null),T.return=R,T;if(typeof T.then=="function")return Y(R,$i(T),B);if(T.$$typeof===q)return Y(R,Ni(R,T),B);Vi(R,T)}return null}function N(R,T,B,P){var de=T!==null?T.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:b(R,T,""+B,P);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===de?C(R,T,B,P):null;case k:return B.key===de?D(R,T,B,P):null;case te:return B=Vr(B),N(R,T,B,P)}if(fe(B)||F(B))return de!==null?null:$(R,T,B,P,null);if(typeof B.then=="function")return N(R,T,$i(B),P);if(B.$$typeof===q)return N(R,T,Ni(R,B),P);Vi(R,B)}return null}function U(R,T,B,P,de){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(B)||null,b(T,R,""+P,de);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return R=R.get(P.key===null?B:P.key)||null,C(T,R,P,de);case k:return R=R.get(P.key===null?B:P.key)||null,D(T,R,P,de);case te:return P=Vr(P),U(R,T,B,P,de)}if(fe(P)||F(P))return R=R.get(B)||null,$(T,R,P,de,null);if(typeof P.then=="function")return U(R,T,B,$i(P),de);if(P.$$typeof===q)return U(R,T,B,Ni(T,P),de);Vi(T,P)}return null}function ae(R,T,B,P){for(var de=null,Me=null,oe=T,Ae=T=0,Re=null;oe!==null&&Ae<B.length;Ae++){oe.index>Ae?(Re=oe,oe=null):Re=oe.sibling;var Be=N(R,oe,B[Ae],P);if(Be===null){oe===null&&(oe=Re);break}e&&oe&&Be.alternate===null&&t(R,oe),T=d(Be,T,Ae),Me===null?de=Be:Me.sibling=Be,Me=Be,oe=Re}if(Ae===B.length)return n(R,oe),Oe&&Un(R,Ae),de;if(oe===null){for(;Ae<B.length;Ae++)oe=Y(R,B[Ae],P),oe!==null&&(T=d(oe,T,Ae),Me===null?de=oe:Me.sibling=oe,Me=oe);return Oe&&Un(R,Ae),de}for(oe=a(oe);Ae<B.length;Ae++)Re=U(oe,R,Ae,B[Ae],P),Re!==null&&(e&&Re.alternate!==null&&oe.delete(Re.key===null?Ae:Re.key),T=d(Re,T,Ae),Me===null?de=Re:Me.sibling=Re,Me=Re);return e&&oe.forEach(function(Sr){return t(R,Sr)}),Oe&&Un(R,Ae),de}function pe(R,T,B,P){if(B==null)throw Error(s(151));for(var de=null,Me=null,oe=T,Ae=T=0,Re=null,Be=B.next();oe!==null&&!Be.done;Ae++,Be=B.next()){oe.index>Ae?(Re=oe,oe=null):Re=oe.sibling;var Sr=N(R,oe,Be.value,P);if(Sr===null){oe===null&&(oe=Re);break}e&&oe&&Sr.alternate===null&&t(R,oe),T=d(Sr,T,Ae),Me===null?de=Sr:Me.sibling=Sr,Me=Sr,oe=Re}if(Be.done)return n(R,oe),Oe&&Un(R,Ae),de;if(oe===null){for(;!Be.done;Ae++,Be=B.next())Be=Y(R,Be.value,P),Be!==null&&(T=d(Be,T,Ae),Me===null?de=Be:Me.sibling=Be,Me=Be);return Oe&&Un(R,Ae),de}for(oe=a(oe);!Be.done;Ae++,Be=B.next())Be=U(oe,R,Ae,Be.value,P),Be!==null&&(e&&Be.alternate!==null&&oe.delete(Be.key===null?Ae:Be.key),T=d(Be,T,Ae),Me===null?de=Be:Me.sibling=Be,Me=Be);return e&&oe.forEach(function(Xv){return t(R,Xv)}),Oe&&Un(R,Ae),de}function Pe(R,T,B,P){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var de=B.key;T!==null;){if(T.key===de){if(de=B.type,de===M){if(T.tag===7){n(R,T.sibling),P=o(T,B.props.children),P.return=R,R=P;break e}}else if(T.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===te&&Vr(de)===T.type){n(R,T.sibling),P=o(T,B.props),El(P,B),P.return=R,R=P;break e}n(R,T);break}else t(R,T);T=T.sibling}B.type===M?(P=Nr(B.props.children,R.mode,P,B.key),P.return=R,R=P):(P=Mi(B.type,B.key,B.props,null,R.mode,P),El(P,B),P.return=R,R=P)}return m(R);case k:e:{for(de=B.key;T!==null;){if(T.key===de)if(T.tag===4&&T.stateNode.containerInfo===B.containerInfo&&T.stateNode.implementation===B.implementation){n(R,T.sibling),P=o(T,B.children||[]),P.return=R,R=P;break e}else{n(R,T);break}else t(R,T);T=T.sibling}P=Do(B,R.mode,P),P.return=R,R=P}return m(R);case te:return B=Vr(B),Pe(R,T,B,P)}if(fe(B))return ae(R,T,B,P);if(F(B)){if(de=F(B),typeof de!="function")throw Error(s(150));return B=de.call(B),pe(R,T,B,P)}if(typeof B.then=="function")return Pe(R,T,$i(B),P);if(B.$$typeof===q)return Pe(R,T,Ni(R,B),P);Vi(R,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,T!==null&&T.tag===6?(n(R,T.sibling),P=o(T,B),P.return=R,R=P):(n(R,T),P=Bo(B,R.mode,P),P.return=R,R=P),m(R)):n(R,T)}return function(R,T,B,P){try{jl=0;var de=Pe(R,T,B,P);return Ea=null,de}catch(oe){if(oe===ja||oe===Li)throw oe;var Me=qt(29,oe,null,R.mode);return Me.lanes=P,Me.return=R,Me}finally{}}}var Gr=$f(!0),Vf=$f(!1),lr=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=zi(e),Cf(e,null,n),t}return Oi(e,a,t,n),zi(e)}function Tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Od(e,n)}}function Wo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Qo=!1;function kl(){if(Qo){var e=Aa;if(e!==null)throw e}}function Rl(e,t,n,a){Qo=!1;var o=e.updateQueue;lr=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var C=b,D=C.next;C.next=null,m===null?d=D:m.next=D,m=C;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==m&&(b===null?$.firstBaseUpdate=D:b.next=D,$.lastBaseUpdate=C))}if(d!==null){var Y=o.baseState;m=0,$=D=C=null,b=d;do{var N=b.lane&-536870913,U=N!==b.lane;if(U?(ke&N)===N:(a&N)===N){N!==0&&N===Ca&&(Qo=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ae=e,pe=b;N=t;var Pe=n;switch(pe.tag){case 1:if(ae=pe.payload,typeof ae=="function"){Y=ae.call(Pe,Y,N);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=pe.payload,N=typeof ae=="function"?ae.call(Pe,Y,N):ae,N==null)break e;Y=w({},Y,N);break e;case 2:lr=!0}}N=b.callback,N!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[N]:U.push(N))}else U={lane:N,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(D=$=U,C=Y):$=$.next=U,m|=N;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;U=b,b=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);$===null&&(C=Y),o.baseState=C,o.firstBaseUpdate=D,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),fr|=m,e.lanes=m,e.memoizedState=Y}}function qf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Gf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qf(n[e],t)}var Ta=v(null),qi=v(0);function Pf(e,t){e=Jn,L(qi,e),L(Ta,t),Jn=e|t.baseLanes}function Xo(){L(qi,Jn),L(Ta,Ta.current)}function Fo(){Jn=qi.current,_(Ta),_(qi)}var Gt=v(null),an=null;function or(e){var t=e.alternate;L(nt,nt.current&1),L(Gt,e),an===null&&(t===null||Ta.current!==null||t.memoizedState!==null)&&(an=e)}function Zo(e){L(nt,nt.current),L(Gt,e),an===null&&(an=e)}function If(e){e.tag===22?(L(nt,nt.current),L(Gt,e),an===null&&(an=e)):ur()}function ur(){L(nt,nt.current),L(Gt,Gt.current)}function Pt(e){_(Gt),an===e&&(an=null),_(nt)}var nt=v(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||lc(n)||ic(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,Ce=null,qe=null,lt=null,Pi=!1,ka=!1,Pr=!1,Ii=0,Ol=0,Ra=null,Vm=0;function et(){throw Error(s(321))}function eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function tu(e,t,n,a,o,d){return $n=d,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Th:yu,Pr=!1,d=n(a,o),Pr=!1,ka&&(d=Kf(t,n,a,o)),Yf(e),d}function Yf(e){z.H=Bl;var t=qe!==null&&qe.next!==null;if($n=0,lt=qe=Ce=null,Pi=!1,Ol=0,Ra=null,t)throw Error(s(300));e===null||it||(e=e.dependencies,e!==null&&Di(e)&&(it=!0))}function Kf(e,t,n,a){Ce=e;var o=0;do{if(ka&&(Ra=null),Ol=0,ka=!1,25<=o)throw Error(s(301));if(o+=1,lt=qe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=kh,d=t(n,a)}while(ka);return d}function qm(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?zl(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Ce.flags|=1024),t}function nu(){var e=Ii!==0;return Ii=0,e}function ru(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function au(e){if(Pi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pi=!1}$n=0,lt=qe=Ce=null,ka=!1,Ol=Ii=0,Ra=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ce.memoizedState=lt=e:lt=lt.next=e,lt}function rt(){if(qe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=lt===null?Ce.memoizedState:lt.next;if(t!==null)lt=t,qe=e;else{if(e===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},lt===null?Ce.memoizedState=lt=e:lt=lt.next=e}return lt}function Yi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var t=Ol;return Ol+=1,Ra===null&&(Ra=[]),e=Uf(Ra,e,t),t=Ce,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Th:yu),e}function Ki(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===q)return St(e)}throw Error(s(438,String(e)))}function lu(e){var t=null,n=Ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ce.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yi(),Ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ne;return t.index++,n}function Vn(e,t){return typeof t=="function"?t(e):t}function Ji(e){var t=rt();return iu(t,qe,e)}function iu(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=e.baseQueue,d=a.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,a.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=m=null,C=null,D=t,$=!1;do{var Y=D.lane&-536870913;if(Y!==D.lane?(ke&Y)===Y:($n&Y)===Y){var N=D.revertLane;if(N===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Y===Ca&&($=!0);else if(($n&N)===N){D=D.next,N===Ca&&($=!0);continue}else Y={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(b=C=Y,m=d):C=C.next=Y,Ce.lanes|=N,fr|=N;Y=D.action,Pr&&n(d,Y),d=D.hasEagerState?D.eagerState:n(d,Y)}else N={lane:Y,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(b=C=N,m=d):C=C.next=N,Ce.lanes|=Y,fr|=Y;D=D.next}while(D!==null&&D!==t);if(C===null?m=d:C.next=b,!Vt(d,e.memoizedState)&&(it=!0,$&&(n=Aa,n!==null)))throw n;e.memoizedState=d,e.baseState=m,e.baseQueue=C,a.lastRenderedState=d}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function su(e){var t=rt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);Vt(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function Jf(e,t,n){var a=Ce,o=rt(),d=Oe;if(d){if(n===void 0)throw Error(s(407));n=n()}else n=t();var m=!Vt((qe||o).memoizedState,n);if(m&&(o.memoizedState=n,it=!0),o=o.queue,cu(Xf.bind(null,a,o,e),[e]),o.getSnapshot!==t||m||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,Oa(9,{destroy:void 0},Qf.bind(null,a,o,n,t),null),Ie===null)throw Error(s(349));d||($n&127)!==0||Wf(a,t,n)}return n}function Wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t=Yi(),Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qf(e,t,n,a){t.value=n,t.getSnapshot=a,Ff(t)&&Zf(e)}function Xf(e,t,n){return n(function(){Ff(t)&&Zf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Zf(e){var t=Dr(e,2);t!==null&&Lt(t,e,2)}function ou(e){var t=Ot();if(typeof e=="function"){var n=e;if(e=n(),Pr){bt(!0);try{n()}finally{bt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t}function eh(e,t,n,a){return e.baseState=n,iu(e,qe,typeof a=="function"?a:Vn)}function Gm(e,t,n,a,o){if(Xi(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};z.T!==null?n(!0):d.isTransition=!1,a(d),n=t.pending,n===null?(d.next=t.pending=d,th(t,d)):(d.next=n.next,t.pending=n.next=d)}}function th(e,t){var n=t.action,a=t.payload,o=e.state;if(t.isTransition){var d=z.T,m={};z.T=m;try{var b=n(o,a),C=z.S;C!==null&&C(m,b),nh(e,t,b)}catch(D){uu(e,t,D)}finally{d!==null&&m.types!==null&&(d.types=m.types),z.T=d}}else try{d=n(o,a),nh(e,t,d)}catch(D){uu(e,t,D)}}function nh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){rh(e,t,a)},function(a){return uu(e,t,a)}):rh(e,t,n)}function rh(e,t,n){t.status="fulfilled",t.value=n,ah(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,th(e,n)))}function uu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ah(t),t=t.next;while(t!==a)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lh(e,t){return t}function ih(e,t){if(Oe){var n=Ie.formState;if(n!==null){e:{var a=Ce;if(Oe){if(We){t:{for(var o=We,d=rn;o.nodeType!==8;){if(!d){o=null;break t}if(o=ln(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){We=ln(o.nextSibling),a=o.data==="F!";break e}}rr(a)}a=!1}a&&(t=n[0])}}return n=Ot(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:t},n.queue=a,n=Ah.bind(null,Ce,a),a.dispatch=n,a=ou(!1),d=gu.bind(null,Ce,!1,a.queue),a=Ot(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,n=Gm.bind(null,Ce,o,d,n),o.dispatch=n,a.memoizedState=e,[t,n,!1]}function sh(e){var t=rt();return oh(t,qe,e)}function oh(e,t,n){if(t=iu(e,t,lh)[0],e=Ji(Vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=zl(t)}catch(m){throw m===ja?Li:m}else a=t;t=rt();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(Ce.flags|=2048,Oa(9,{destroy:void 0},Pm.bind(null,o,n),null)),[a,d,e]}function Pm(e,t){e.action=t}function uh(e){var t=rt(),n=qe;if(n!==null)return oh(t,n,e);rt(),t=t.memoizedState,n=rt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Oa(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Yi(),Ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ch(){return rt().memoizedState}function Wi(e,t,n,a){var o=Ot();Ce.flags|=e,o.memoizedState=Oa(1|t,{destroy:void 0},n,a===void 0?null:a)}function Qi(e,t,n,a){var o=rt();a=a===void 0?null:a;var d=o.memoizedState.inst;qe!==null&&a!==null&&eu(a,qe.memoizedState.deps)?o.memoizedState=Oa(t,d,n,a):(Ce.flags|=e,o.memoizedState=Oa(1|t,d,n,a))}function dh(e,t){Wi(8390656,8,e,t)}function cu(e,t){Qi(2048,8,e,t)}function Im(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=Yi(),Ce.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fh(e){var t=rt().memoizedState;return Im({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function hh(e,t){return Qi(4,2,e,t)}function ph(e,t){return Qi(4,4,e,t)}function gh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,n){n=n!=null?n.concat([e]):null,Qi(4,4,gh.bind(null,t,e),n)}function du(){}function mh(e,t){var n=rt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&eu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function vh(e,t){var n=rt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&eu(t,a[1]))return a[0];if(a=e(),Pr){bt(!0);try{e()}finally{bt(!1)}}return n.memoizedState=[a,t],a}function fu(e,t,n){return n===void 0||($n&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bp(),Ce.lanes|=e,fr|=e,n)}function bh(e,t,n,a){return Vt(n,t)?n:Ta.current!==null?(e=fu(e,n,a),Vt(e,t)||(it=!0),e):($n&42)===0||($n&1073741824)!==0&&(ke&261930)===0?(it=!0,e.memoizedState=n):(e=bp(),Ce.lanes|=e,fr|=e,t)}function xh(e,t,n,a,o){var d=W.p;W.p=d!==0&&8>d?d:8;var m=z.T,b={};z.T=b,gu(e,!1,t,n);try{var C=o(),D=z.S;if(D!==null&&D(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=$m(C,a);Ml(e,t,$,Kt(e))}else Ml(e,t,a,Kt(e))}catch(Y){Ml(e,t,{then:function(){},status:"rejected",reason:Y},Kt())}finally{W.p=d,m!==null&&b.types!==null&&(m.types=b.types),z.T=m}}function Ym(){}function hu(e,t,n,a){if(e.tag!==5)throw Error(s(476));var o=wh(e).queue;xh(e,o,t,ie,n===null?Ym:function(){return Sh(e),n(a)})}function wh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sh(e){var t=wh(e);t.next===null&&(t=e.alternate.memoizedState),Ml(e,t.next.queue,{},Kt())}function pu(){return St(Ql)}function _h(){return rt().memoizedState}function Ch(){return rt().memoizedState}function Km(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Kt();e=ir(n);var a=sr(t,e,n);a!==null&&(Lt(a,t,n),Tl(a,t,n)),t={cache:Go()},e.payload=t;return}t=t.return}}function Jm(e,t,n){var a=Kt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Xi(e)?jh(t,n):(n=zo(e,t,n,a),n!==null&&(Lt(n,e,a),Eh(n,t,a)))}function Ah(e,t,n){var a=Kt();Ml(e,t,n,a)}function Ml(e,t,n,a){var o={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xi(e))jh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,b=d(m,n);if(o.hasEagerState=!0,o.eagerState=b,Vt(b,m))return Oi(e,t,o,0),Ie===null&&Ri(),!1}catch{}finally{}if(n=zo(e,t,o,a),n!==null)return Lt(n,e,a),Eh(n,t,a),!0}return!1}function gu(e,t,n,a){if(a={lane:2,revertLane:Ku(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xi(e)){if(t)throw Error(s(479))}else t=zo(e,n,a,2),t!==null&&Lt(t,e,2)}function Xi(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function jh(e,t){ka=Pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Eh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Od(e,n)}}var Bl={readContext:St,use:Ki,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Bl.useEffectEvent=et;var Th={readContext:St,use:Ki,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:dh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Wi(4194308,4,gh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){Wi(4,2,e,t)},useMemo:function(e,t){var n=Ot();t=t===void 0?null:t;var a=e();if(Pr){bt(!0);try{e()}finally{bt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ot();if(n!==void 0){var o=n(t);if(Pr){bt(!0);try{n(t)}finally{bt(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=Jm.bind(null,Ce,e),[a.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=ou(e);var t=e.queue,n=Ah.bind(null,Ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:du,useDeferredValue:function(e,t){var n=Ot();return fu(n,e,t)},useTransition:function(){var e=ou(!1);return e=xh.bind(null,Ce,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ce,o=Ot();if(Oe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ie===null)throw Error(s(349));(ke&127)!==0||Wf(a,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,dh(Xf.bind(null,a,d,e),[e]),a.flags|=2048,Oa(9,{destroy:void 0},Qf.bind(null,a,d,n,t),null),n},useId:function(){var e=Ot(),t=Ie.identifierPrefix;if(Oe){var n=Tn,a=En;n=(a&~(1<<32-Je(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ii++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Vm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pu,useFormState:ih,useActionState:ih,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gu.bind(null,Ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:lu,useCacheRefresh:function(){return Ot().memoizedState=Km.bind(null,Ce)},useEffectEvent:function(e){var t=Ot(),n={impl:e};return t.memoizedState=n,function(){if((De&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},yu={readContext:St,use:Ki,useCallback:mh,useContext:St,useEffect:cu,useImperativeHandle:yh,useInsertionEffect:hh,useLayoutEffect:ph,useMemo:vh,useReducer:Ji,useRef:ch,useState:function(){return Ji(Vn)},useDebugValue:du,useDeferredValue:function(e,t){var n=rt();return bh(n,qe.memoizedState,e,t)},useTransition:function(){var e=Ji(Vn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:Jf,useId:_h,useHostTransitionStatus:pu,useFormState:sh,useActionState:sh,useOptimistic:function(e,t){var n=rt();return eh(n,qe,e,t)},useMemoCache:lu,useCacheRefresh:Ch};yu.useEffectEvent=fh;var kh={readContext:St,use:Ki,useCallback:mh,useContext:St,useEffect:cu,useImperativeHandle:yh,useInsertionEffect:hh,useLayoutEffect:ph,useMemo:vh,useReducer:su,useRef:ch,useState:function(){return su(Vn)},useDebugValue:du,useDeferredValue:function(e,t){var n=rt();return qe===null?fu(n,e,t):bh(n,qe.memoizedState,e,t)},useTransition:function(){var e=su(Vn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:Jf,useId:_h,useHostTransitionStatus:pu,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var n=rt();return qe!==null?eh(n,qe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Ch};kh.useEffectEvent=fh;function mu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Kt(),o=ir(a);o.payload=t,n!=null&&(o.callback=n),t=sr(e,o,a),t!==null&&(Lt(t,e,a),Tl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Kt(),o=ir(a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=sr(e,o,a),t!==null&&(Lt(t,e,a),Tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),a=ir(n);a.tag=2,t!=null&&(a.callback=t),t=sr(e,a,n),t!==null&&(Lt(t,e,n),Tl(t,e,n))}};function Rh(e,t,n,a,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,m):t.prototype&&t.prototype.isPureReactComponent?!xl(n,a)||!xl(o,d):!0}function Oh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function Ir(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function zh(e){ki(e)}function Mh(e){console.error(e)}function Bh(e){ki(e)}function Fi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Dh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function bu(e,t,n){return n=ir(n),n.tag=3,n.payload={element:null},n.callback=function(){Fi(e,t)},n}function Nh(e){return e=ir(e),e.tag=3,e}function Uh(e,t,n,a){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=a.value;e.payload=function(){return o(d)},e.callback=function(){Dh(t,n,a)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Dh(t,n,a),typeof o!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function Wm(e,t,n,a,o){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&_a(t,n,o,!0),n=Gt.current,n!==null){switch(n.tag){case 31:case 13:return an===null?cs():n.alternate===null&&tt===0&&(tt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,a===Hi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Pu(e,a,o)),!1;case 22:return n.flags|=65536,a===Hi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Pu(e,a,o)),!1}throw Error(s(435,n.tag))}return Pu(e,a,o),cs(),!1}if(Oe)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Lo&&(e=Error(s(422),{cause:a}),_l(en(e,n)))):(a!==Lo&&(t=Error(s(423),{cause:a}),_l(en(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=en(a,n),o=bu(e.stateNode,a,o),Wo(e,o),tt!==4&&(tt=2)),!1;var d=Error(s(520),{cause:a});if(d=en(d,n),ql===null?ql=[d]:ql.push(d),tt!==4&&(tt=2),t===null)return!0;a=en(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=bu(n.stateNode,a,e),Wo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Nh(o),Uh(o,e,n,a),Wo(n,o),!1}n=n.return}while(n!==null);return!1}var xu=Error(s(461)),it=!1;function _t(e,t,n,a){t.child=e===null?Vf(t,null,n,a):Gr(t,e.child,n,a)}function Lh(e,t,n,a,o){n=n.render;var d=t.ref;if("ref"in a){var m={};for(var b in a)b!=="ref"&&(m[b]=a[b])}else m=a;return Hr(t),a=tu(e,t,n,m,d,o),b=nu(),e!==null&&!it?(ru(e,t,o),qn(e,t,o)):(Oe&&b&&No(t),t.flags|=1,_t(e,t,a,o),t.child)}function Hh(e,t,n,a,o){if(e===null){var d=n.type;return typeof d=="function"&&!Mo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,$h(e,t,d,a,o)):(e=Mi(n.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Tu(e,o)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(m,a)&&e.ref===t.ref)return qn(e,t,o)}return t.flags|=1,e=Nn(d,a),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,a,o){if(e!==null){var d=e.memoizedProps;if(xl(d,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=d,Tu(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,qn(e,t,o)}return wu(e,t,n,a,o)}function Vh(e,t,n,a){var o=a.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~d}else a=0,t.child=null;return qh(e,t,d,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ui(t,d!==null?d.cachePool:null),d!==null?Pf(t,d):Xo(),If(t);else return a=t.lanes=536870912,qh(e,t,d!==null?d.baseLanes|n:n,n,a)}else d!==null?(Ui(t,d.cachePool),Pf(t,d),ur(),t.memoizedState=null):(e!==null&&Ui(t,null),Xo(),ur());return _t(e,t,o,n),t.child}function Dl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qh(e,t,n,a,o){var d=Io();return d=d===null?null:{parent:at._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&Ui(t,null),Xo(),If(t),e!==null&&_a(e,t,a,!0),t.childLanes=o,null}function Zi(e,t){return t=ts({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gh(e,t,n){return Gr(t,e.child,null,n),e=Zi(t,t.pendingProps),e.flags|=2,Pt(t),t.memoizedState=null,e}function Qm(e,t,n){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(a.mode==="hidden")return e=Zi(t,a),t.lanes=536870912,Dl(null,e);if(Zo(t),(e=We)?(e=tg(e,rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tr!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},n=jf(e),n.return=t,t.child=n,wt=t,We=null)):e=null,e===null)throw rr(t);return t.lanes=536870912,null}return Zi(t,a)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Zo(t),o)if(t.flags&256)t.flags&=-257,t=Gh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(it||_a(e,t,n,!1),o=(n&e.childLanes)!==0,it||o){if(a=Ie,a!==null&&(m=zd(a,n),m!==0&&m!==d.retryLane))throw d.retryLane=m,Dr(e,m),Lt(a,e,m),xu;cs(),t=Gh(e,t,n)}else e=d.treeContext,We=ln(m.nextSibling),wt=t,Oe=!0,nr=null,rn=!1,e!==null&&kf(t,e),t=Zi(t,a),t.flags|=4096;return t}return e=Nn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function es(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wu(e,t,n,a,o){return Hr(t),n=tu(e,t,n,a,void 0,o),a=nu(),e!==null&&!it?(ru(e,t,o),qn(e,t,o)):(Oe&&a&&No(t),t.flags|=1,_t(e,t,n,o),t.child)}function Ph(e,t,n,a,o,d){return Hr(t),t.updateQueue=null,n=Kf(t,a,n,o),Yf(e),a=nu(),e!==null&&!it?(ru(e,t,d),qn(e,t,d)):(Oe&&a&&No(t),t.flags|=1,_t(e,t,n,d),t.child)}function Ih(e,t,n,a,o){if(Hr(t),t.stateNode===null){var d=ba,m=n.contextType;typeof m=="object"&&m!==null&&(d=St(m)),d=new n(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},Ko(t),m=n.contextType,d.context=typeof m=="object"&&m!==null?St(m):ba,d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(mu(t,n,m,a),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&vu.enqueueReplaceState(d,d.state,null),Rl(t,a,d,o),kl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,C=Ir(n,b);d.props=C;var D=d.context,$=n.contextType;m=ba,typeof $=="object"&&$!==null&&(m=St($));var Y=n.getDerivedStateFromProps;$=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||D!==m)&&Oh(t,d,a,m),lr=!1;var N=t.memoizedState;d.state=N,Rl(t,a,d,o),kl(),D=t.memoizedState,b||N!==D||lr?(typeof Y=="function"&&(mu(t,n,Y,a),D=t.memoizedState),(C=lr||Rh(t,n,C,a,N,D,m))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=D),d.props=a,d.state=D,d.context=m,a=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,Jo(e,t),m=t.memoizedProps,$=Ir(n,m),d.props=$,Y=t.pendingProps,N=d.context,D=n.contextType,C=ba,typeof D=="object"&&D!==null&&(C=St(D)),b=n.getDerivedStateFromProps,(D=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==Y||N!==C)&&Oh(t,d,a,C),lr=!1,N=t.memoizedState,d.state=N,Rl(t,a,d,o),kl();var U=t.memoizedState;m!==Y||N!==U||lr||e!==null&&e.dependencies!==null&&Di(e.dependencies)?(typeof b=="function"&&(mu(t,n,b,a),U=t.memoizedState),($=lr||Rh(t,n,$,a,N,U,C)||e!==null&&e.dependencies!==null&&Di(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,U,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,U,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=U),d.props=a,d.state=U,d.context=C,a=$):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,es(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=Gr(t,e.child,null,o),t.child=Gr(t,null,n,o)):_t(e,t,n,o),t.memoizedState=d.state,e=t.child):e=qn(e,t,o),e}function Yh(e,t,n,a){return Ur(),t.flags|=256,_t(e,t,n,a),t.child}var Su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _u(e){return{baseLanes:e,cachePool:Df()}}function Cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Yt),e}function Kh(e,t,n){var a=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?or(t):ur(),(e=We)?(e=tg(e,rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tr!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},n=jf(e),n.return=t,t.child=n,wt=t,We=null)):e=null,e===null)throw rr(t);return ic(e)?t.lanes=32:t.lanes=536870912,null}var b=a.children;return a=a.fallback,o?(ur(),o=t.mode,b=ts({mode:"hidden",children:b},o),a=Nr(a,o,n,null),b.return=t,a.return=t,b.sibling=a,t.child=b,a=t.child,a.memoizedState=_u(n),a.childLanes=Cu(e,m,n),t.memoizedState=Su,Dl(null,a)):(or(t),Au(t,b))}var C=e.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(d)t.flags&256?(or(t),t.flags&=-257,t=ju(e,t,n)):t.memoizedState!==null?(ur(),t.child=e.child,t.flags|=128,t=null):(ur(),b=a.fallback,o=t.mode,a=ts({mode:"visible",children:a.children},o),b=Nr(b,o,n,null),b.flags|=2,a.return=t,b.return=t,a.sibling=b,t.child=a,Gr(t,e.child,null,n),a=t.child,a.memoizedState=_u(n),a.childLanes=Cu(e,m,n),t.memoizedState=Su,t=Dl(null,a));else if(or(t),ic(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var D=m.dgst;m=D,a=Error(s(419)),a.stack="",a.digest=m,_l({value:a,source:null,stack:null}),t=ju(e,t,n)}else if(it||_a(e,t,n,!1),m=(n&e.childLanes)!==0,it||m){if(m=Ie,m!==null&&(a=zd(m,n),a!==0&&a!==C.retryLane))throw C.retryLane=a,Dr(e,a),Lt(m,e,a),xu;lc(b)||cs(),t=ju(e,t,n)}else lc(b)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,We=ln(b.nextSibling),wt=t,Oe=!0,nr=null,rn=!1,e!==null&&kf(t,e),t=Au(t,a.children),t.flags|=4096);return t}return o?(ur(),b=a.fallback,o=t.mode,C=e.child,D=C.sibling,a=Nn(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,D!==null?b=Nn(D,b):(b=Nr(b,o,n,null),b.flags|=2),b.return=t,a.return=t,a.sibling=b,t.child=a,Dl(null,a),a=t.child,b=e.child.memoizedState,b===null?b=_u(n):(o=b.cachePool,o!==null?(C=at._currentValue,o=o.parent!==C?{parent:C,pool:C}:o):o=Df(),b={baseLanes:b.baseLanes|n,cachePool:o}),a.memoizedState=b,a.childLanes=Cu(e,m,n),t.memoizedState=Su,Dl(e.child,a)):(or(t),n=e.child,e=n.sibling,n=Nn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function Au(e,t){return t=ts({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ts(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function ju(e,t,n){return Gr(t,e.child,null,n),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Vo(e.return,t,n)}function Eu(e,t,n,a,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=n,m.tailMode=o,m.treeForkCount=d)}function Wh(e,t,n){var a=t.pendingProps,o=a.revealOrder,d=a.tail;a=a.children;var m=nt.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,L(nt,m),_t(e,t,a,n),a=Oe?Sl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jh(e,n,t);else if(e.tag===19)Jh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Gi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Eu(t,!1,o,n,d,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Gi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Eu(t,!0,n,null,d,a);break;case"together":Eu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(_a(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Di(e)))}function Xm(e,t,n){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),ar(t,at,e.memoizedState.cache),Ur();break;case 27:case 5:Rt(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:ar(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zo(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(or(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Kh(e,t,n):(or(t),e=qn(e,t,n),e!==null?e.sibling:null);or(t);break;case 19:var o=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(_a(e,t,n,!1),a=(n&t.childLanes)!==0),o){if(a)return Wh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),L(nt,nt.current),a)break;return null;case 22:return t.lanes=0,Vh(e,t,n,t.pendingProps);case 24:ar(t,at,e.memoizedState.cache)}return qn(e,t,n)}function Qh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Tu(e,n)&&(t.flags&128)===0)return it=!1,Xm(e,t,n);it=(e.flags&131072)!==0}else it=!1,Oe&&(t.flags&1048576)!==0&&Tf(t,Sl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Vr(t.elementType),t.type=e,typeof e=="function")Mo(e)?(a=Ir(e,a),t.tag=1,t=Ih(null,t,e,a,n)):(t.tag=0,t=wu(null,t,e,a,n));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=Lh(null,t,e,a,n);break e}else if(o===V){t.tag=14,t=Hh(null,t,e,a,n);break e}}throw t=me(e)||e,Error(s(306,t,""))}}return t;case 0:return wu(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,o=Ir(a,t.pendingProps),Ih(e,t,a,o,n);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var d=t.memoizedState;o=d.element,Jo(e,t),Rl(t,a,null,n);var m=t.memoizedState;if(a=m.cache,ar(t,at,a),a!==d.cache&&qo(t,[at],n,!0),kl(),a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Yh(e,t,a,n);break e}else if(a!==o){o=en(Error(s(424)),t),_l(o),t=Yh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(We=ln(e.firstChild),wt=t,Oe=!0,nr=null,rn=!0,n=Vf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ur(),a===o){t=qn(e,t,n);break e}_t(e,t,a,n)}t=t.child}return t;case 26:return es(e,t),e===null?(n=sg(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,a=ms(Z.current).createElement(n),a[xt]=t,a[zt]=e,Ct(a,n,e),pt(a),t.stateNode=a):t.memoizedState=sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Rt(t),e===null&&Oe&&(a=t.stateNode=ag(t.type,t.pendingProps,Z.current),wt=t,rn=!0,o=We,mr(t.type)?(sc=o,We=ln(a.firstChild)):We=o),_t(e,t,t.pendingProps.children,n),es(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=a=We)&&(a=Ev(a,t.type,t.pendingProps,rn),a!==null?(t.stateNode=a,wt=t,We=ln(a.firstChild),rn=!1,o=!0):o=!1),o||rr(t)),Rt(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,a=d.children,nc(o,d)?a=null:m!==null&&nc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=tu(e,t,qm,null,null,n),Ql._currentValue=o),es(e,t),_t(e,t,a,n),t.child;case 6:return e===null&&Oe&&((e=n=We)&&(n=Tv(n,t.pendingProps,rn),n!==null?(t.stateNode=n,wt=t,We=null,e=!0):e=!1),e||rr(t)),null;case 13:return Kh(e,t,n);case 4:return je(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Gr(t,null,a,n):_t(e,t,a,n),t.child;case 11:return Lh(e,t,t.type,t.pendingProps,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ar(t,t.type,a.value),_t(e,t,a.children,n),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Hr(t),o=St(o),a=a(o),t.flags|=1,_t(e,t,a,n),t.child;case 14:return Hh(e,t,t.type,t.pendingProps,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 19:return Wh(e,t,n);case 31:return Qm(e,t,n);case 22:return Vh(e,t,n,t.pendingProps);case 24:return Hr(t),a=St(at),e===null?(o=Io(),o===null&&(o=Ie,d=Go(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:a,cache:o},Ko(t),ar(t,at,o)):((e.lanes&n)!==0&&(Jo(e,t),Rl(t,null,null,n),kl()),o=e.memoizedState,d=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ar(t,at,a)):(a=d.cache,ar(t,at,a),a!==o.cache&&qo(t,[at],n,!0))),_t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Gn(e){e.flags|=4}function ku(e,t,n,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(_p())e.flags|=8192;else throw qr=Hi,Yo}else e.flags&=-16777217}function Xh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fg(t))if(_p())e.flags|=8192;else throw qr=Hi,Yo}function ns(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kd():536870912,e.lanes|=t,Da|=t)}function Nl(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Fm(e,t,n){var a=t.pendingProps;switch(Uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Hn(at),xe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sa(t)?Gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ho())),Qe(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(Gn(t),d!==null?(Qe(t),Xh(t,d)):(Qe(t),ku(t,o,null,a,n))):d?d!==e.memoizedState?(Gn(t),Qe(t),Xh(t,d)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Gn(t),Qe(t),ku(t,o,e,a,n)),null;case 27:if(Sn(t),n=Z.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}e=H.current,Sa(t)?Rf(t):(e=ag(o,a,n),t.stateNode=e,Gn(t))}return Qe(t),null;case 5:if(Sn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}if(d=H.current,Sa(t))Rf(t);else{var m=ms(Z.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?d.multiple=!0:a.size&&(d.size=a.size);break;default:d=typeof a.is=="string"?m.createElement(o,{is:a.is}):m.createElement(o)}}d[xt]=t,d[zt]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(Ct(d,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Gn(t)}}return Qe(t),ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=Z.current,Sa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,o=wt,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[xt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Kp(e.nodeValue,n)),e||rr(t,!0)}else e=ms(e).createTextNode(a),e[xt]=t,t.stateNode=e}return Qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Sa(t),n!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[xt]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else n=Ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Pt(t),t):(Pt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Qe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Sa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[xt]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else o=Ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Pt(t),t):(Pt(t),null)}return Pt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ns(t,t.updateQueue),Qe(t),null);case 4:return xe(),e===null&&Xu(t.stateNode.containerInfo),Qe(t),null;case 10:return Hn(t.type),Qe(t),null;case 19:if(_(nt),a=t.memoizedState,a===null)return Qe(t),null;if(o=(t.flags&128)!==0,d=a.rendering,d===null)if(o)Nl(a,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Gi(e),d!==null){for(t.flags|=128,Nl(a,!1),e=d.updateQueue,t.updateQueue=e,ns(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Af(n,e),n=n.sibling;return L(nt,nt.current&1|2),Oe&&Un(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&mt()>ss&&(t.flags|=128,o=!0,Nl(a,!1),t.lanes=4194304)}else{if(!o)if(e=Gi(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ns(t,e),Nl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Oe)return Qe(t),null}else 2*mt()-a.renderingStartTime>ss&&n!==536870912&&(t.flags|=128,o=!0,Nl(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(e=a.last,e!==null?e.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=mt(),e.sibling=null,n=nt.current,L(nt,o?n&1|2:n&1),Oe&&Un(t,a.treeForkCount),e):(Qe(t),null);case 22:case 23:return Pt(t),Fo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),n=t.updateQueue,n!==null&&ns(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&_($r),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hn(at),Qe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Zm(e,t){switch(Uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(at),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Sn(t),null;case 31:if(t.memoizedState!==null){if(Pt(t),t.alternate===null)throw Error(s(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _(nt),null;case 4:return xe(),null;case 10:return Hn(t.type),null;case 22:case 23:return Pt(t),Fo(),e!==null&&_($r),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(at),null;case 25:return null;default:return null}}function Fh(e,t){switch(Uo(t),t.tag){case 3:Hn(at),xe();break;case 26:case 27:case 5:Sn(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&Pt(t);break;case 13:Pt(t);break;case 19:_(nt);break;case 10:Hn(t.type);break;case 22:case 23:Pt(t),Fo(),e!==null&&_($r);break;case 24:Hn(at)}}function Ul(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var o=a.next;n=o;do{if((n.tag&e)===e){a=void 0;var d=n.create,m=n.inst;a=d(),m.destroy=a}n=n.next}while(n!==o)}}catch(b){$e(t,t.return,b)}}function cr(e,t,n){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){var m=a.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var C=n,D=b;try{D()}catch($){$e(o,C,$)}}}a=a.next}while(a!==d)}}catch($){$e(t,t.return,$)}}function Zh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Gf(t,n)}catch(a){$e(e,e.return,a)}}}function ep(e,t,n){n.props=Ir(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){$e(e,t,a)}}function Ll(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(o){$e(e,t,o)}}function kn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(o){$e(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){$e(e,t,o)}else n.current=null}function tp(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(o){$e(e,e.return,o)}}function Ru(e,t,n){try{var a=e.stateNode;wv(a,e.type,n,t),a[zt]=t}catch(o){$e(e,e.return,o)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bn));else if(a!==4&&(a===27&&mr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function rs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&mr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(rs(e,t,n),e=e.sibling;e!==null;)rs(e,t,n),e=e.sibling}function rp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ct(t,a,n),t[xt]=e,t[zt]=n}catch(d){$e(e,e.return,d)}}var Pn=!1,st=!1,Mu=!1,ap=typeof WeakSet=="function"?WeakSet:Set,gt=null;function ev(e,t){if(e=e.containerInfo,ec=Cs,e=yf(e),jo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var o=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,b=-1,C=-1,D=0,$=0,Y=e,N=null;t:for(;;){for(var U;Y!==n||o!==0&&Y.nodeType!==3||(b=m+o),Y!==d||a!==0&&Y.nodeType!==3||(C=m+a),Y.nodeType===3&&(m+=Y.nodeValue.length),(U=Y.firstChild)!==null;)N=Y,Y=U;for(;;){if(Y===e)break t;if(N===n&&++D===o&&(b=m),N===d&&++$===a&&(C=m),(U=Y.nextSibling)!==null)break;Y=N,N=Y.parentNode}Y=U}n=b===-1||C===-1?null:{start:b,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:e,selectionRange:n},Cs=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,a=n.stateNode;try{var ae=Ir(n.type,o);e=a.getSnapshotBeforeUpdate(ae,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(pe){$e(n,n.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ac(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ac(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function lp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n),a&4&&Ul(5,n);break;case 1:if(Yn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){$e(n,n.return,m)}else{var o=Ir(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){$e(n,n.return,m)}}a&64&&Zh(n),a&512&&Ll(n,n.return);break;case 3:if(Yn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Gf(e,t)}catch(m){$e(n,n.return,m)}}break;case 27:t===null&&a&4&&rp(n);case 26:case 5:Yn(e,n),t===null&&a&4&&tp(n),a&512&&Ll(n,n.return);break;case 12:Yn(e,n);break;case 31:Yn(e,n),a&4&&op(e,n);break;case 13:Yn(e,n),a&4&&up(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=uv.bind(null,n),kv(e,n))));break;case 22:if(a=n.memoizedState!==null||Pn,!a){t=t!==null&&t.memoizedState!==null||st,o=Pn;var d=st;Pn=a,(st=t)&&!d?Kn(e,n,(n.subtreeFlags&8772)!==0):Yn(e,n),Pn=o,st=d}break;case 30:break;default:Yn(e,n)}}function ip(e){var t=e.alternate;t!==null&&(e.alternate=null,ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Bt=!1;function In(e,t,n){for(n=n.child;n!==null;)sp(e,t,n),n=n.sibling}function sp(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(vt,n)}catch{}switch(n.tag){case 26:st||kn(n,t),In(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:st||kn(n,t);var a=Fe,o=Bt;mr(n.type)&&(Fe=n.stateNode,Bt=!1),In(e,t,n),Kl(n.stateNode),Fe=a,Bt=o;break;case 5:st||kn(n,t);case 6:if(a=Fe,o=Bt,Fe=null,In(e,t,n),Fe=a,Bt=o,Fe!==null)if(Bt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(d){$e(n,t,d)}else try{Fe.removeChild(n.stateNode)}catch(d){$e(n,t,d)}break;case 18:Fe!==null&&(Bt?(e=Fe,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ga(e)):Zp(Fe,n.stateNode));break;case 4:a=Fe,o=Bt,Fe=n.stateNode.containerInfo,Bt=!0,In(e,t,n),Fe=a,Bt=o;break;case 0:case 11:case 14:case 15:cr(2,n,t),st||cr(4,n,t),In(e,t,n);break;case 1:st||(kn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&ep(n,t,a)),In(e,t,n);break;case 21:In(e,t,n);break;case 22:st=(a=st)||n.memoizedState!==null,In(e,t,n),st=a;break;default:In(e,t,n)}}function op(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(n){$e(t,t.return,n)}}}function up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(n){$e(t,t.return,n)}}function tv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ap),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ap),t;default:throw Error(s(435,e.tag))}}function as(e,t){var n=tv(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var o=cv.bind(null,e,a);a.then(o,o)}})}function Dt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var o=n[a],d=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(mr(b.type)){Fe=b.stateNode,Bt=!1;break e}break;case 5:Fe=b.stateNode,Bt=!1;break e;case 3:case 4:Fe=b.stateNode.containerInfo,Bt=!0;break e}b=b.return}if(Fe===null)throw Error(s(160));sp(d,m,o),Fe=null,Bt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}var gn=null;function cp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Nt(e),a&4&&(cr(3,e,e.return),Ul(3,e),cr(5,e,e.return));break;case 1:Dt(t,e),Nt(e),a&512&&(st||n===null||kn(n,n.return)),a&64&&Pn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var o=gn;if(Dt(t,e),Nt(e),a&512&&(st||n===null||kn(n,n.return)),a&4){var d=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":d=o.getElementsByTagName("title")[0],(!d||d[dl]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(a),o.head.insertBefore(d,o.querySelector("head > title"))),Ct(d,a,n),d[xt]=e,pt(d),a=d;break e;case"link":var m=cg("link","href",o).get(a+(n.href||""));if(m){for(var b=0;b<m.length;b++)if(d=m[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(b,1);break t}}d=o.createElement(a),Ct(d,a,n),o.head.appendChild(d);break;case"meta":if(m=cg("meta","content",o).get(a+(n.content||""))){for(b=0;b<m.length;b++)if(d=m[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(b,1);break t}}d=o.createElement(a),Ct(d,a,n),o.head.appendChild(d);break;default:throw Error(s(468,a))}d[xt]=e,pt(d),a=d}e.stateNode=a}else dg(o,e.type,e.stateNode);else e.stateNode=ug(o,a,e.memoizedProps);else d!==a?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,a===null?dg(o,e.type,e.stateNode):ug(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ru(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dt(t,e),Nt(e),a&512&&(st||n===null||kn(n,n.return)),n!==null&&a&4&&Ru(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dt(t,e),Nt(e),a&512&&(st||n===null||kn(n,n.return)),e.flags&32){o=e.stateNode;try{fa(o,"")}catch(ae){$e(e,e.return,ae)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Ru(e,o,n!==null?n.memoizedProps:o)),a&1024&&(Mu=!0);break;case 6:if(Dt(t,e),Nt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ae){$e(e,e.return,ae)}}break;case 3:if(xs=null,o=gn,gn=vs(t.containerInfo),Dt(t,e),gn=o,Nt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(ae){$e(e,e.return,ae)}Mu&&(Mu=!1,dp(e));break;case 4:a=gn,gn=vs(e.stateNode.containerInfo),Dt(t,e),Nt(e),gn=a;break;case 12:Dt(t,e),Nt(e);break;case 31:Dt(t,e),Nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,as(e,a)));break;case 13:Dt(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(is=mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,as(e,a)));break;case 22:o=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,D=Pn,$=st;if(Pn=D||o,st=$||C,Dt(t,e),st=$,Pn=D,Nt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||C||Pn||st||Yr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(d=C.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=C.stateNode;var Y=C.memoizedProps.style,N=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(ae){$e(C,C.return,ae)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=o?"":C.memoizedProps}catch(ae){$e(C,C.return,ae)}}}else if(t.tag===18){if(n===null){C=t;try{var U=C.stateNode;o?eg(U,!0):eg(C.stateNode,!1)}catch(ae){$e(C,C.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,as(e,n))));break;case 19:Dt(t,e),Nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,as(e,a)));break;case 30:break;case 21:break;default:Dt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(np(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,d=Ou(e);rs(e,d,o);break;case 5:var m=n.stateNode;n.flags&32&&(fa(m,""),n.flags&=-33);var b=Ou(e);rs(e,b,m);break;case 3:case 4:var C=n.stateNode.containerInfo,D=Ou(e);zu(e,D,C);break;default:throw Error(s(161))}}catch($){$e(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lp(e,t.alternate,t),t=t.sibling}function Yr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cr(4,t,t.return),Yr(t);break;case 1:kn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ep(t,t.return,n),Yr(t);break;case 27:Kl(t.stateNode);case 26:case 5:kn(t,t.return),Yr(t);break;case 22:t.memoizedState===null&&Yr(t);break;case 30:Yr(t);break;default:Yr(t)}e=e.sibling}}function Kn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Kn(o,d,n),Ul(4,d);break;case 1:if(Kn(o,d,n),a=d,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){$e(a,a.return,D)}if(a=d,o=a.updateQueue,o!==null){var b=a.stateNode;try{var C=o.shared.hiddenCallbacks;if(C!==null)for(o.shared.hiddenCallbacks=null,o=0;o<C.length;o++)qf(C[o],b)}catch(D){$e(a,a.return,D)}}n&&m&64&&Zh(d),Ll(d,d.return);break;case 27:rp(d);case 26:case 5:Kn(o,d,n),n&&a===null&&m&4&&tp(d),Ll(d,d.return);break;case 12:Kn(o,d,n);break;case 31:Kn(o,d,n),n&&m&4&&op(o,d);break;case 13:Kn(o,d,n),n&&m&4&&up(o,d);break;case 22:d.memoizedState===null&&Kn(o,d,n),Ll(d,d.return);break;case 30:break;default:Kn(o,d,n)}t=t.sibling}}function Bu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Cl(n))}function Du(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cl(e))}function yn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(e,t,n,a),t=t.sibling}function fp(e,t,n,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,n,a),o&2048&&Ul(9,t);break;case 1:yn(e,t,n,a);break;case 3:yn(e,t,n,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cl(e)));break;case 12:if(o&2048){yn(e,t,n,a),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,b=d.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$e(t,t.return,C)}}else yn(e,t,n,a);break;case 31:yn(e,t,n,a);break;case 13:yn(e,t,n,a);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?yn(e,t,n,a):Hl(e,t):d._visibility&2?yn(e,t,n,a):(d._visibility|=2,za(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Bu(m,t);break;case 24:yn(e,t,n,a),o&2048&&Du(t.alternate,t);break;default:yn(e,t,n,a)}}function za(e,t,n,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,b=n,C=a,D=m.flags;switch(m.tag){case 0:case 11:case 15:za(d,m,b,C,o),Ul(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?za(d,m,b,C,o):Hl(d,m):($._visibility|=2,za(d,m,b,C,o)),o&&D&2048&&Bu(m.alternate,m);break;case 24:za(d,m,b,C,o),o&&D&2048&&Du(m.alternate,m);break;default:za(d,m,b,C,o)}t=t.sibling}}function Hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,o=a.flags;switch(a.tag){case 22:Hl(n,a),o&2048&&Bu(a.alternate,a);break;case 24:Hl(n,a),o&2048&&Du(a.alternate,a);break;default:Hl(n,a)}t=t.sibling}}var $l=8192;function Ma(e,t,n){if(e.subtreeFlags&$l)for(e=e.child;e!==null;)hp(e,t,n),e=e.sibling}function hp(e,t,n){switch(e.tag){case 26:Ma(e,t,n),e.flags&$l&&e.memoizedState!==null&&Vv(n,gn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,t,n);break;case 3:case 4:var a=gn;gn=vs(e.stateNode.containerInfo),Ma(e,t,n),gn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=$l,$l=16777216,Ma(e,t,n),$l=a):Ma(e,t,n));break;default:Ma(e,t,n)}}function pp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];gt=a,yp(a,e)}pp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ls(e)):Vl(e);break;default:Vl(e)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];gt=a,yp(a,e)}pp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cr(8,t,t.return),ls(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ls(t));break;default:ls(t)}e=e.sibling}}function yp(e,t){for(;gt!==null;){var n=gt;switch(n.tag){case 0:case 11:case 15:cr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Cl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,gt=a;else e:for(n=e;gt!==null;){a=gt;var o=a.sibling,d=a.return;if(ip(a),a===n){gt=null;break e}if(o!==null){o.return=d,gt=o;break e}gt=d}}}var nv={getCacheForType:function(e){var t=St(at),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return St(at).controller.signal}},rv=typeof WeakMap=="function"?WeakMap:Map,De=0,Ie=null,Ee=null,ke=0,He=0,It=null,dr=!1,Ba=!1,Nu=!1,Jn=0,tt=0,fr=0,Kr=0,Uu=0,Yt=0,Da=0,ql=null,Ut=null,Lu=!1,is=0,mp=0,ss=1/0,os=null,hr=null,dt=0,pr=null,Na=null,Wn=0,Hu=0,$u=null,vp=null,Gl=0,Vu=null;function Kt(){return(De&2)!==0&&ke!==0?ke&-ke:z.T!==null?Ku():Md()}function bp(){if(Yt===0)if((ke&536870912)===0||Oe){var e=hn;hn<<=1,(hn&3932160)===0&&(hn=262144),Yt=e}else Yt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Yt}function Lt(e,t,n){(e===Ie&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),gr(e,ke,Yt,!1)),cl(e,n),((De&2)===0||e!==Ie)&&(e===Ie&&((De&2)===0&&(Kr|=n),tt===4&&gr(e,ke,Yt,!1)),Rn(e))}function xp(e,t,n){if((De&6)!==0)throw Error(s(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ul(e,t),o=a?iv(e,t):Gu(e,t,!0),d=a;do{if(o===0){Ba&&!a&&gr(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!av(n)){o=Gu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=ql;var C=b.current.memoizedState.isDehydrated;if(C&&(Ua(b,m).flags|=256),m=Gu(b,m,!1),m!==2){if(Nu&&!C){b.errorRecoveryDisabledLanes|=d,Kr|=d,o=4;break e}d=Ut,Ut=o,d!==null&&(Ut===null?Ut=d:Ut.push.apply(Ut,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){Ua(e,0),gr(e,t,0,!0);break}e:{switch(a=e,d=o,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:gr(a,t,Yt,!dr);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=is+300-mt(),10<o)){if(gr(a,t,Yt,!dr),vi(a,0,!0)!==0)break e;Wn=t,a.timeoutHandle=Xp(wp.bind(null,a,n,Ut,os,Lu,t,Yt,Kr,Da,dr,d,"Throttled",-0,0),o);break e}wp(a,n,Ut,os,Lu,t,Yt,Kr,Da,dr,d,null,-0,0)}}break}while(!0);Rn(e)}function wp(e,t,n,a,o,d,m,b,C,D,$,Y,N,U){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},hp(t,d,Y);var ae=(d&62914560)===d?is-mt():(d&4194048)===d?mp-mt():0;if(ae=qv(Y,ae),ae!==null){Wn=d,e.cancelPendingCommit=ae(kp.bind(null,e,t,d,n,a,o,m,b,C,$,Y,null,N,U)),gr(e,d,m,!D);return}}kp(e,t,d,n,a,o,m,b,C)}function av(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var o=n[a],d=o.getSnapshot;o=o.value;try{if(!Vt(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t,n,a){t&=~Uu,t&=~Kr,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var d=31-Je(o),m=1<<d;a[d]=-1,o&=~m}n!==0&&Rd(e,n,t)}function us(){return(De&6)===0?(Pl(0),!1):!0}function qu(){if(Ee!==null){if(He===0)var e=Ee.return;else e=Ee,Ln=Lr=null,au(e),Ea=null,jl=0,e=Ee;for(;e!==null;)Fh(e.alternate,e),e=e.return;Ee=null}}function Ua(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Cv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Wn=0,qu(),Ie=e,Ee=n=Nn(e.current,null),ke=t,He=0,It=null,dr=!1,Ba=ul(e,t),Nu=!1,Da=Yt=Uu=Kr=fr=tt=0,Ut=ql=null,Lu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Je(a),d=1<<o;t|=e[o],a&=~d}return Jn=t,Ri(),n}function Sp(e,t){Ce=null,z.H=Bl,t===ja||t===Li?(t=Lf(),He=3):t===Yo?(t=Lf(),He=4):He=t===xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,Ee===null&&(tt=1,Fi(e,en(t,e.current)))}function _p(){var e=Gt.current;return e===null?!0:(ke&4194048)===ke?an===null:(ke&62914560)===ke||(ke&536870912)!==0?e===an:!1}function Cp(){var e=z.H;return z.H=Bl,e===null?Bl:e}function Ap(){var e=z.A;return z.A=nv,e}function cs(){tt=4,dr||(ke&4194048)!==ke&&Gt.current!==null||(Ba=!0),(fr&134217727)===0&&(Kr&134217727)===0||Ie===null||gr(Ie,ke,Yt,!1)}function Gu(e,t,n){var a=De;De|=2;var o=Cp(),d=Ap();(Ie!==e||ke!==t)&&(os=null,Ua(e,t)),t=!1;var m=tt;e:do try{if(He!==0&&Ee!==null){var b=Ee,C=It;switch(He){case 8:qu(),m=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var D=He;if(He=0,It=null,La(e,b,C,D),n&&Ba){m=0;break e}break;default:D=He,He=0,It=null,La(e,b,C,D)}}lv(),m=tt;break}catch($){Sp(e,$)}while(!0);return t&&e.shellSuspendCounter++,Ln=Lr=null,De=a,z.H=o,z.A=d,Ee===null&&(Ie=null,ke=0,Ri()),m}function lv(){for(;Ee!==null;)jp(Ee)}function iv(e,t){var n=De;De|=2;var a=Cp(),o=Ap();Ie!==e||ke!==t?(os=null,ss=mt()+500,Ua(e,t)):Ba=ul(e,t);e:do try{if(He!==0&&Ee!==null){t=Ee;var d=It;t:switch(He){case 1:He=0,It=null,La(e,t,d,1);break;case 2:case 9:if(Nf(d)){He=0,It=null,Ep(t);break}t=function(){He!==2&&He!==9||Ie!==e||(He=7),Rn(e)},d.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Nf(d)?(He=0,It=null,Ep(t)):(He=0,It=null,La(e,t,d,7));break;case 5:var m=null;switch(Ee.tag){case 26:m=Ee.memoizedState;case 5:case 27:var b=Ee;if(m?fg(m):b.stateNode.complete){He=0,It=null;var C=b.sibling;if(C!==null)Ee=C;else{var D=b.return;D!==null?(Ee=D,ds(D)):Ee=null}break t}}He=0,It=null,La(e,t,d,5);break;case 6:He=0,It=null,La(e,t,d,6);break;case 8:qu(),tt=6;break e;default:throw Error(s(462))}}sv();break}catch($){Sp(e,$)}while(!0);return Ln=Lr=null,z.H=a,z.A=o,De=n,Ee!==null?0:(Ie=null,ke=0,Ri(),tt)}function sv(){for(;Ee!==null&&!sl();)jp(Ee)}function jp(e){var t=Qh(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?ds(e):Ee=t}function Ep(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ph(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Ph(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:au(t);default:Fh(n,t),t=Ee=Af(t,Jn),t=Qh(n,t,Jn)}e.memoizedProps=e.pendingProps,t===null?ds(e):Ee=t}function La(e,t,n,a){Ln=Lr=null,au(t),Ea=null,jl=0;var o=t.return;try{if(Wm(e,o,t,n,ke)){tt=1,Fi(e,en(n,e.current)),Ee=null;return}}catch(d){if(o!==null)throw Ee=o,d;tt=1,Fi(e,en(n,e.current)),Ee=null;return}t.flags&32768?(Oe||a===1?e=!0:Ba||(ke&536870912)!==0?e=!1:(dr=e=!0,(a===2||a===9||a===3||a===6)&&(a=Gt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Tp(t,e)):ds(t)}function ds(e){var t=e;do{if((t.flags&32768)!==0){Tp(t,dr);return}e=t.return;var n=Fm(t.alternate,t,Jn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);tt===0&&(tt=5)}function Tp(e,t){do{var n=Zm(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);tt=6,Ee=null}function kp(e,t,n,a,o,d,m,b,C){e.cancelPendingCommit=null;do fs();while(dt!==0);if((De&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=Oo,$y(e,n,d,m,b,C),e===Ie&&(Ee=Ie=null,ke=0),Na=t,pr=e,Wn=n,Hu=d,$u=o,vp=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dv(ge,function(){return Bp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,o=W.p,W.p=2,m=De,De|=4;try{ev(e,t,n)}finally{De=m,W.p=o,z.T=a}}dt=1,Rp(),Op(),zp()}}function Rp(){if(dt===1){dt=0;var e=pr,t=Na,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var a=W.p;W.p=2;var o=De;De|=4;try{cp(t,e);var d=tc,m=yf(e.containerInfo),b=d.focusedElem,C=d.selectionRange;if(m!==b&&b&&b.ownerDocument&&gf(b.ownerDocument.documentElement,b)){if(C!==null&&jo(b)){var D=C.start,$=C.end;if($===void 0&&($=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min($,b.value.length);else{var Y=b.ownerDocument||document,N=Y&&Y.defaultView||window;if(N.getSelection){var U=N.getSelection(),ae=b.textContent.length,pe=Math.min(C.start,ae),Pe=C.end===void 0?pe:Math.min(C.end,ae);!U.extend&&pe>Pe&&(m=Pe,Pe=pe,pe=m);var R=pf(b,pe),T=pf(b,Pe);if(R&&T&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==T.node||U.focusOffset!==T.offset)){var B=Y.createRange();B.setStart(R.node,R.offset),U.removeAllRanges(),pe>Pe?(U.addRange(B),U.extend(T.node,T.offset)):(B.setEnd(T.node,T.offset),U.addRange(B))}}}}for(Y=[],U=b;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var P=Y[b];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Cs=!!ec,tc=ec=null}finally{De=o,W.p=a,z.T=n}}e.current=t,dt=2}}function Op(){if(dt===2){dt=0;var e=pr,t=Na,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var a=W.p;W.p=2;var o=De;De|=4;try{lp(e,t.alternate,t)}finally{De=o,W.p=a,z.T=n}}dt=3}}function zp(){if(dt===4||dt===3){dt=0,ol();var e=pr,t=Na,n=Wn,a=vp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Na=pr=null,Mp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(hr=null),io(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(vt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,o=W.p,W.p=2,z.T=null;try{for(var d=e.onRecoverableError,m=0;m<a.length;m++){var b=a[m];d(b.value,{componentStack:b.stack})}}finally{z.T=t,W.p=o}}(Wn&3)!==0&&fs(),Rn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Vu?Gl++:(Gl=0,Vu=e):Gl=0,Pl(0)}}function Mp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cl(t)))}function fs(){return Rp(),Op(),zp(),Bp()}function Bp(){if(dt!==5)return!1;var e=pr,t=Hu;Hu=0;var n=io(Wn),a=z.T,o=W.p;try{W.p=32>n?32:n,z.T=null,n=$u,$u=null;var d=pr,m=Wn;if(dt=0,Na=pr=null,Wn=0,(De&6)!==0)throw Error(s(331));var b=De;if(De|=4,gp(d.current),fp(d,d.current,m,n),De=b,Pl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(vt,d)}catch{}return!0}finally{W.p=o,z.T=a,Mp(e,t)}}function Dp(e,t,n){t=en(n,t),t=bu(e.stateNode,t,2),e=sr(e,t,2),e!==null&&(cl(e,2),Rn(e))}function $e(e,t,n){if(e.tag===3)Dp(e,e,n);else for(;t!==null;){if(t.tag===3){Dp(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hr===null||!hr.has(a))){e=en(n,e),n=Nh(2),a=sr(t,n,2),a!==null&&(Uh(n,a,t,e),cl(a,2),Rn(a));break}}t=t.return}}function Pu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new rv;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(n)||(Nu=!0,o.add(n),e=ov.bind(null,e,t,n),t.then(e,e))}function ov(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(ke&n)===n&&(tt===4||tt===3&&(ke&62914560)===ke&&300>mt()-is?(De&2)===0&&Ua(e,0):Uu|=n,Da===ke&&(Da=0)),Rn(e)}function Np(e,t){t===0&&(t=kd()),e=Dr(e,t),e!==null&&(cl(e,t),Rn(e))}function uv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Np(e,n)}function cv(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Np(e,n)}function dv(e,t){return dn(e,t)}var hs=null,Ha=null,Iu=!1,ps=!1,Yu=!1,yr=0;function Rn(e){e!==Ha&&e.next===null&&(Ha===null?hs=Ha=e:Ha=Ha.next=e),ps=!0,Iu||(Iu=!0,hv())}function Pl(e,t){if(!Yu&&ps){Yu=!0;do for(var n=!1,a=hs;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var d=0;else{var m=a.suspendedLanes,b=a.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=o&~(m&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,$p(a,d))}else d=ke,d=vi(a,a===Ie?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||ul(a,d)||(n=!0,$p(a,d));a=a.next}while(n);Yu=!1}}function fv(){Up()}function Up(){ps=Iu=!1;var e=0;yr!==0&&_v()&&(e=yr);for(var t=mt(),n=null,a=hs;a!==null;){var o=a.next,d=Lp(a,t);d===0?(a.next=null,n===null?hs=o:n.next=o,o===null&&(Ha=n)):(n=a,(e!==0||(d&3)!==0)&&(ps=!0)),a=o}dt!==0&&dt!==5||Pl(e),yr!==0&&(yr=0)}function Lp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Je(d),b=1<<m,C=o[m];C===-1?((b&n)===0||(b&a)!==0)&&(o[m]=Hy(b,t)):C<=t&&(e.expiredLanes|=b),d&=~b}if(t=Ie,n=ke,n=vi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Qt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ul(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Qt(a),io(n)){case 2:case 8:n=Xe;break;case 32:n=ge;break;case 268435456:n=ve;break;default:n=ge}return a=Hp.bind(null,e),n=dn(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Qt(a),e.callbackPriority=2,e.callbackNode=null,2}function Hp(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var a=ke;return a=vi(e,e===Ie?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xp(e,a,t),Lp(e,mt()),e.callbackNode!=null&&e.callbackNode===n?Hp.bind(null,e):null)}function $p(e,t){if(fs())return null;xp(e,t,!0)}function hv(){Av(function(){(De&6)!==0?dn(be,fv):Up()})}function Ku(){if(yr===0){var e=Ca;e===0&&(e=jn,jn<<=1,(jn&261888)===0&&(jn=256)),yr=e}return yr}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Si(""+e)}function qp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function pv(e,t,n,a,o){if(t==="submit"&&n&&n.stateNode===o){var d=Vp((o[zt]||null).action),m=a.submitter;m&&(t=(t=m[zt]||null)?Vp(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var b=new ji("action","action",null,a,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(yr!==0){var C=m?qp(o,m):new FormData(o);hu(n,{pending:!0,data:C,method:o.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=m?qp(o,m):new FormData(o),hu(n,{pending:!0,data:C,method:o.method,action:d},d,C))},currentTarget:o}]})}}for(var Ju=0;Ju<Ro.length;Ju++){var Wu=Ro[Ju],gv=Wu.toLowerCase(),yv=Wu[0].toUpperCase()+Wu.slice(1);pn(gv,"on"+yv)}pn(bf,"onAnimationEnd"),pn(xf,"onAnimationIteration"),pn(wf,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(zm,"onTransitionRun"),pn(Mm,"onTransitionStart"),pn(Bm,"onTransitionCancel"),pn(Sf,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Gp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var m=a.length-1;0<=m;m--){var b=a[m],C=b.instance,D=b.currentTarget;if(b=b.listener,C!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch($){ki($)}o.currentTarget=null,d=C}else for(m=0;m<a.length;m++){if(b=a[m],C=b.instance,D=b.currentTarget,b=b.listener,C!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch($){ki($)}o.currentTarget=null,d=C}}}}function Te(e,t){var n=t[so];n===void 0&&(n=t[so]=new Set);var a=e+"__bubble";n.has(a)||(Pp(t,e,2,!1),n.add(a))}function Qu(e,t,n){var a=0;t&&(a|=4),Pp(n,e,a,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[gs]){e[gs]=!0,Nd.forEach(function(n){n!=="selectionchange"&&(mv.has(n)||Qu(n,!1,e),Qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,Qu("selectionchange",!1,t))}}function Pp(e,t,n,a){switch(bg(t)){case 2:var o=Iv;break;case 8:o=Yv;break;default:o=fc}n=o.bind(null,t,n,e),o=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Fu(e,t,n,a,o){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var b=a.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=a.return;m!==null;){var C=m.tag;if((C===3||C===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=sa(b),m===null)return;if(C=m.tag,C===5||C===6||C===26||C===27){a=d=m;continue e}b=b.parentNode}}a=a.return}Jd(function(){var D=d,$=go(n),Y=[];e:{var N=_f.get(e);if(N!==void 0){var U=ji,ae=e;switch(e){case"keypress":if(Ci(n)===0)break e;case"keydown":case"keyup":U=cm;break;case"focusin":ae="focus",U=wo;break;case"focusout":ae="blur",U=wo;break;case"beforeblur":case"afterblur":U=wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=hm;break;case bf:case xf:case wf:U=tm;break;case Sf:U=gm;break;case"scroll":case"scrollend":U=Qy;break;case"wheel":U=mm;break;case"copy":case"cut":case"paste":U=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Zd;break;case"toggle":case"beforetoggle":U=bm}var pe=(t&4)!==0,Pe=!pe&&(e==="scroll"||e==="scrollend"),R=pe?N!==null?N+"Capture":null:N;pe=[];for(var T=D,B;T!==null;){var P=T;if(B=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||B===null||R===null||(P=hl(T,R),P!=null&&pe.push(Yl(T,P,B))),Pe)break;T=T.return}0<pe.length&&(N=new U(N,ae,null,n,$),Y.push({event:N,listeners:pe}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",N&&n!==po&&(ae=n.relatedTarget||n.fromElement)&&(sa(ae)||ae[ia]))break e;if((U||N)&&(N=$.window===$?$:(N=$.ownerDocument)?N.defaultView||N.parentWindow:window,U?(ae=n.relatedTarget||n.toElement,U=D,ae=ae?sa(ae):null,ae!==null&&(Pe=c(ae),pe=ae.tag,ae!==Pe||pe!==5&&pe!==27&&pe!==6)&&(ae=null)):(U=null,ae=D),U!==ae)){if(pe=Xd,P="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Zd,P="onPointerLeave",R="onPointerEnter",T="pointer"),Pe=U==null?N:fl(U),B=ae==null?N:fl(ae),N=new pe(P,T+"leave",U,n,$),N.target=Pe,N.relatedTarget=B,P=null,sa($)===D&&(pe=new pe(R,T+"enter",ae,n,$),pe.target=B,pe.relatedTarget=Pe,P=pe),Pe=P,U&&ae)t:{for(pe=vv,R=U,T=ae,B=0,P=R;P;P=pe(P))B++;P=0;for(var de=T;de;de=pe(de))P++;for(;0<B-P;)R=pe(R),B--;for(;0<P-B;)T=pe(T),P--;for(;B--;){if(R===T||T!==null&&R===T.alternate){pe=R;break t}R=pe(R),T=pe(T)}pe=null}else pe=null;U!==null&&Ip(Y,N,U,pe,!1),ae!==null&&Pe!==null&&Ip(Y,Pe,ae,pe,!0)}}e:{if(N=D?fl(D):window,U=N.nodeName&&N.nodeName.toLowerCase(),U==="select"||U==="input"&&N.type==="file")var Me=of;else if(lf(N))if(uf)Me=km;else{Me=Em;var oe=jm}else U=N.nodeName,!U||U.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?D&&ho(D.elementType)&&(Me=of):Me=Tm;if(Me&&(Me=Me(e,D))){sf(Y,Me,n,$);break e}oe&&oe(e,N,D),e==="focusout"&&D&&N.type==="number"&&D.memoizedProps.value!=null&&fo(N,"number",N.value)}switch(oe=D?fl(D):window,e){case"focusin":(lf(oe)||oe.contentEditable==="true")&&(ya=oe,Eo=D,wl=null);break;case"focusout":wl=Eo=ya=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,mf(Y,n,$);break;case"selectionchange":if(Om)break;case"keydown":case"keyup":mf(Y,n,$)}var Ae;if(_o)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ga?rf(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(ef&&n.locale!=="ko"&&(ga||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ga&&(Ae=Wd()):(er=$,vo="value"in er?er.value:er.textContent,ga=!0)),oe=ys(D,Re),0<oe.length&&(Re=new Fd(Re,e,null,n,$),Y.push({event:Re,listeners:oe}),Ae?Re.data=Ae:(Ae=af(n),Ae!==null&&(Re.data=Ae)))),(Ae=wm?Sm(e,n):_m(e,n))&&(Re=ys(D,"onBeforeInput"),0<Re.length&&(oe=new Fd("onBeforeInput","beforeinput",null,n,$),Y.push({event:oe,listeners:Re}),oe.data=Ae)),pv(Y,e,D,n,$)}Gp(Y,t)})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ys(e,t){for(var n=t+"Capture",a=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=hl(e,n),o!=null&&a.unshift(Yl(e,o,d)),o=hl(e,t),o!=null&&a.push(Yl(e,o,d))),e.tag===3)return a;e=e.return}return[]}function vv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ip(e,t,n,a,o){for(var d=t._reactName,m=[];n!==null&&n!==a;){var b=n,C=b.alternate,D=b.stateNode;if(b=b.tag,C!==null&&C===a)break;b!==5&&b!==26&&b!==27||D===null||(C=D,o?(D=hl(n,d),D!=null&&m.unshift(Yl(n,D,C))):o||(D=hl(n,d),D!=null&&m.push(Yl(n,D,C)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var bv=/\r\n?/g,xv=/\u0000|\uFFFD/g;function Yp(e){return(typeof e=="string"?e:""+e).replace(bv,`
`).replace(xv,"")}function Kp(e,t){return t=Yp(t),Yp(e)===t}function Ge(e,t,n,a,o,d){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||fa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&fa(e,""+a);break;case"className":xi(e,"class",a);break;case"tabIndex":xi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(e,n,a);break;case"style":Yd(e,a,d);break;case"data":if(t!=="object"){xi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Si(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Ge(e,t,"name",o.name,o,null),Ge(e,t,"formEncType",o.formEncType,o,null),Ge(e,t,"formMethod",o.formMethod,o,null),Ge(e,t,"formTarget",o.formTarget,o,null)):(Ge(e,t,"encType",o.encType,o,null),Ge(e,t,"method",o.method,o,null),Ge(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Si(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Bn);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Si(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),bi(e,"popover",a);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":bi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jy.get(n)||n,bi(e,n,a))}}function Zu(e,t,n,a,o,d){switch(n){case"style":Yd(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?fa(e,a):(typeof a=="number"||typeof a=="bigint")&&fa(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ud.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[zt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof a=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,o);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):bi(e,n,a)}}}function Ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var m=n[d];if(m!=null)switch(d){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ge(e,t,d,m,n,null)}}o&&Ge(e,t,"srcSet",n.srcSet,n,null),a&&Ge(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var b=d=m=o=null,C=null,D=null;for(a in n)if(n.hasOwnProperty(a)){var $=n[a];if($!=null)switch(a){case"name":o=$;break;case"type":m=$;break;case"checked":C=$;break;case"defaultChecked":D=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:Ge(e,t,a,$,n,null)}}qd(e,d,b,C,D,m,o,!1);return;case"select":Te("invalid",e),a=m=d=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":m=b;break;case"multiple":a=b;default:Ge(e,t,o,b,n,null)}t=d,n=m,e.multiple=!!a,t!=null?da(e,!!a,t,!1):n!=null&&da(e,!!a,n,!0);return;case"textarea":Te("invalid",e),d=o=a=null;for(m in n)if(n.hasOwnProperty(m)&&(b=n[m],b!=null))switch(m){case"value":a=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ge(e,t,m,b,n,null)}Pd(e,a,o,d);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(a=n[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ge(e,t,C,a,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<Il.length;a++)Te(Il[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(a=n[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ge(e,t,D,a,n,null)}return;default:if(ho(t)){for($ in n)n.hasOwnProperty($)&&(a=n[$],a!==void 0&&Zu(e,t,$,a,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(a=n[b],a!=null&&Ge(e,t,b,a,n,null))}function wv(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,b=null,C=null,D=null,$=null;for(U in n){var Y=n[U];if(n.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=Y;default:a.hasOwnProperty(U)||Ge(e,t,U,null,a,Y)}}for(var N in a){var U=a[N];if(Y=n[N],a.hasOwnProperty(N)&&(U!=null||Y!=null))switch(N){case"type":d=U;break;case"name":o=U;break;case"checked":D=U;break;case"defaultChecked":$=U;break;case"value":m=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:U!==Y&&Ge(e,t,N,U,a,Y)}}co(e,m,b,C,D,$,d,o);return;case"select":U=m=b=N=null;for(d in n)if(C=n[d],n.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":U=C;default:a.hasOwnProperty(d)||Ge(e,t,d,null,a,C)}for(o in a)if(d=a[o],C=n[o],a.hasOwnProperty(o)&&(d!=null||C!=null))switch(o){case"value":N=d;break;case"defaultValue":b=d;break;case"multiple":m=d;default:d!==C&&Ge(e,t,o,d,a,C)}t=b,n=m,a=U,N!=null?da(e,!!n,N,!1):!!a!=!!n&&(t!=null?da(e,!!n,t,!0):da(e,!!n,n?[]:"",!1));return;case"textarea":U=N=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ge(e,t,b,null,a,o)}for(m in a)if(o=a[m],d=n[m],a.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":N=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==d&&Ge(e,t,m,o,a,d)}Gd(e,N,U);return;case"option":for(var ae in n)if(N=n[ae],n.hasOwnProperty(ae)&&N!=null&&!a.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ge(e,t,ae,null,a,N)}for(C in a)if(N=a[C],U=n[C],a.hasOwnProperty(C)&&N!==U&&(N!=null||U!=null))switch(C){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ge(e,t,C,N,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in n)N=n[pe],n.hasOwnProperty(pe)&&N!=null&&!a.hasOwnProperty(pe)&&Ge(e,t,pe,null,a,N);for(D in a)if(N=a[D],U=n[D],a.hasOwnProperty(D)&&N!==U&&(N!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,t));break;default:Ge(e,t,D,N,a,U)}return;default:if(ho(t)){for(var Pe in n)N=n[Pe],n.hasOwnProperty(Pe)&&N!==void 0&&!a.hasOwnProperty(Pe)&&Zu(e,t,Pe,void 0,a,N);for($ in a)N=a[$],U=n[$],!a.hasOwnProperty($)||N===U||N===void 0&&U===void 0||Zu(e,t,$,N,a,U);return}}for(var R in n)N=n[R],n.hasOwnProperty(R)&&N!=null&&!a.hasOwnProperty(R)&&Ge(e,t,R,null,a,N);for(Y in a)N=a[Y],U=n[Y],!a.hasOwnProperty(Y)||N===U||N==null&&U==null||Ge(e,t,Y,N,a,U)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var o=n[a],d=o.transferSize,m=o.initiatorType,b=o.duration;if(d&&b&&Jp(m)){for(m=0,b=o.responseEnd,a+=1;a<n.length;a++){var C=n[a],D=C.startTime;if(D>b)break;var $=C.transferSize,Y=C.initiatorType;$&&Jp(Y)&&(C=C.responseEnd,m+=$*(C<b?1:(b-D)/(C-D)))}if(--a,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ec=null,tc=null;function ms(e){return e.nodeType===9?e:e.ownerDocument}function Wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rc=null;function _v(){var e=window.event;return e&&e.type==="popstate"?e===rc?!1:(rc=e,!0):(rc=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,Av=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(jv)}:Xp;function jv(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function Zp(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(o),Ga(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Kl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Kl(n);for(var d=n.firstChild;d;){var m=d.nextSibling,b=d.nodeName;d[dl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=m}}else n==="body"&&Kl(e.ownerDocument.body);n=o}while(n);Ga(t)}function eg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function ac(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ac(n),oo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ev(e,t,n,a){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[dl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function Tv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ln(e.nextSibling),e===null))return null;return e}function tg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ln(e.nextSibling),e===null))return null;return e}function lc(e){return e.data==="$?"||e.data==="$~"}function ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var sc=null;function ng(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ln(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ag(e,t,n){switch(t=ms(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Kl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oo(e)}var sn=new Map,lg=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=W.d;W.d={f:Rv,r:Ov,D:zv,C:Mv,L:Bv,m:Dv,X:Uv,S:Nv,M:Lv};function Rv(){var e=Qn.f(),t=us();return e||t}function Ov(e){var t=oa(e);t!==null&&t.tag===5&&t.type==="form"?Sh(t):Qn.r(e)}var $a=typeof document>"u"?null:document;function ig(e,t,n){var a=$a;if(a&&typeof t=="string"&&t){var o=Ft(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),lg.has(o)||(lg.add(o),e={rel:e,crossOrigin:n,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),Ct(t,"link",e),pt(t),a.head.appendChild(t)))}}function zv(e){Qn.D(e),ig("dns-prefetch",e,null)}function Mv(e,t){Qn.C(e,t),ig("preconnect",e,t)}function Bv(e,t,n){Qn.L(e,t,n);var a=$a;if(a&&e&&t){var o='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ft(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ft(n.imageSizes)+'"]')):o+='[href="'+Ft(e)+'"]';var d=o;switch(t){case"style":d=Va(e);break;case"script":d=qa(e)}sn.has(d)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sn.set(d,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(Jl(d))||t==="script"&&a.querySelector(Wl(d))||(t=a.createElement("link"),Ct(t,"link",e),pt(t),a.head.appendChild(t)))}}function Dv(e,t){Qn.m(e,t);var n=$a;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ft(a)+'"][href="'+Ft(e)+'"]',d=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(e)}if(!sn.has(d)&&(e=w({rel:"modulepreload",href:e},t),sn.set(d,e),n.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wl(d)))return}a=n.createElement("link"),Ct(a,"link",e),pt(a),n.head.appendChild(a)}}}function Nv(e,t,n){Qn.S(e,t,n);var a=$a;if(a&&e){var o=ua(a).hoistableStyles,d=Va(e);t=t||"default";var m=o.get(d);if(!m){var b={loading:0,preload:null};if(m=a.querySelector(Jl(d)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sn.get(d))&&oc(e,n);var C=m=a.createElement("link");pt(C),Ct(C,"link",e),C._p=new Promise(function(D,$){C.onload=D,C.onerror=$}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,bs(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(d,m)}}}function Uv(e,t){Qn.X(e,t);var n=$a;if(n&&e){var a=ua(n).hoistableScripts,o=qa(e),d=a.get(o);d||(d=n.querySelector(Wl(o)),d||(e=w({src:e,async:!0},t),(t=sn.get(o))&&uc(e,t),d=n.createElement("script"),pt(d),Ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Lv(e,t){Qn.M(e,t);var n=$a;if(n&&e){var a=ua(n).hoistableScripts,o=qa(e),d=a.get(o);d||(d=n.querySelector(Wl(o)),d||(e=w({src:e,async:!0,type:"module"},t),(t=sn.get(o))&&uc(e,t),d=n.createElement("script"),pt(d),Ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function sg(e,t,n,a){var o=(o=Z.current)?vs(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Va(n.href),n=ua(o).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Va(n.href);var d=ua(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(Jl(e)))&&!d._p&&(m.instance=d,m.state.loading=5),sn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sn.set(e,n),d||Hv(o,e,n,m.state))),t&&a===null)throw Error(s(528,""));return m}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(n),n=ua(o).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+Ft(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function og(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Hv(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ct(t,"link",n),pt(t),e.head.appendChild(t))}function qa(e){return'[src="'+Ft(e)+'"]'}function Wl(e){return"script[async]"+e}function ug(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ft(n.href)+'"]');if(a)return t.instance=a,pt(a),a;var o=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),pt(a),Ct(a,"style",o),bs(a,n.precedence,e),t.instance=a;case"stylesheet":o=Va(n.href);var d=e.querySelector(Jl(o));if(d)return t.state.loading|=4,t.instance=d,pt(d),d;a=og(n),(o=sn.get(o))&&oc(a,o),d=(e.ownerDocument||e).createElement("link"),pt(d);var m=d;return m._p=new Promise(function(b,C){m.onload=b,m.onerror=C}),Ct(d,"link",a),t.state.loading|=4,bs(d,n.precedence,e),t.instance=d;case"script":return d=qa(n.src),(o=e.querySelector(Wl(d)))?(t.instance=o,pt(o),o):(a=n,(o=sn.get(d))&&(a=w({},n),uc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),pt(o),Ct(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,bs(a,n.precedence,e));return t.instance}function bs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,d=o,m=0;m<a.length;m++){var b=a[m];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xs=null;function cg(e,t,n){if(xs===null){var a=new Map,o=xs=new Map;o.set(n,a)}else o=xs,a=o.get(n),a||(a=new Map,o.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[dl]||d[xt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var b=a.get(m);b?b.push(d):a.set(m,[d])}}return a}function dg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $v(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vv(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Va(a.href),d=t.querySelector(Jl(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ws.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,pt(d);return}d=t.ownerDocument||t,a=og(a),(o=sn.get(o))&&oc(a,o),d=d.createElement("link"),pt(d);var m=d;m._p=new Promise(function(b,C){m.onload=b,m.onerror=C}),Ct(d,"link",a),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ws.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cc=0;function qv(e,t){return e.stylesheets&&e.count===0&&_s(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&_s(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&cc===0&&(cc=62500*Sv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_s(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>cc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_s(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ss=null;function _s(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ss=new Map,t.forEach(Gv,e),Ss=null,ws.call(e))}function Gv(e,t){if(!(t.state.loading&4)){var n=Ss.get(e);if(n)var a=n.get(null);else{n=new Map,Ss.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),a=m)}a&&n.set(null,a)}o=t.instance,m=o.getAttribute("data-precedence"),d=n.get(m)||a,d===a&&n.set(null,o),n.set(m,o),this.count++,a=ws.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ql={$$typeof:q,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Pv(e,t,n,a,o,d,m,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function hg(e,t,n,a,o,d,m,b,C,D,$,Y){return e=new Pv(e,t,n,m,C,D,$,Y,b),t=1,d===!0&&(t|=24),d=qt(3,null,null,t),e.current=d,d.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:n,cache:t},Ko(d),e}function pg(e){return e?(e=ba,e):ba}function gg(e,t,n,a,o,d){o=pg(o),a.context===null?a.context=o:a.pendingContext=o,a=ir(t),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=sr(e,a,t),n!==null&&(Lt(n,e,t),Tl(n,e,t))}function yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dc(e,t){yg(e,t),(e=e.alternate)&&yg(e,t)}function mg(e){if(e.tag===13||e.tag===31){var t=Dr(e,67108864);t!==null&&Lt(t,e,67108864),dc(e,67108864)}}function vg(e){if(e.tag===13||e.tag===31){var t=Kt();t=lo(t);var n=Dr(e,t);n!==null&&Lt(n,e,t),dc(e,t)}}var Cs=!0;function Iv(e,t,n,a){var o=z.T;z.T=null;var d=W.p;try{W.p=2,fc(e,t,n,a)}finally{W.p=d,z.T=o}}function Yv(e,t,n,a){var o=z.T;z.T=null;var d=W.p;try{W.p=8,fc(e,t,n,a)}finally{W.p=d,z.T=o}}function fc(e,t,n,a){if(Cs){var o=hc(a);if(o===null)Fu(e,t,a,As,n),xg(e,a);else if(Jv(o,e,t,n,a))a.stopPropagation();else if(xg(e,a),t&4&&-1<Kv.indexOf(e)){for(;o!==null;){var d=oa(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=Rr(d.pendingLanes);if(m!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var C=1<<31-Je(m);b.entanglements[1]|=C,m&=~C}Rn(d),(De&6)===0&&(ss=mt()+500,Pl(0))}}break;case 31:case 13:b=Dr(d,2),b!==null&&Lt(b,d,2),us(),dc(d,2)}if(d=hc(a),d===null&&Fu(e,t,a,As,n),d===o)break;o=d}o!==null&&a.stopPropagation()}else Fu(e,t,a,null,n)}}function hc(e){return e=go(e),pc(e)}var As=null;function pc(e){if(As=null,e=sa(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return As=e,null}function bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case be:return 2;case Xe:return 8;case ge:case An:return 32;case ve:return 268435456;default:return 32}default:return 32}}var gc=!1,vr=null,br=null,xr=null,Xl=new Map,Fl=new Map,wr=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xg(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(t.pointerId)}}function Zl(e,t,n,a,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[o]},t!==null&&(t=oa(t),t!==null&&mg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Jv(e,t,n,a,o){switch(t){case"focusin":return vr=Zl(vr,e,t,n,a,o),!0;case"dragenter":return br=Zl(br,e,t,n,a,o),!0;case"mouseover":return xr=Zl(xr,e,t,n,a,o),!0;case"pointerover":var d=o.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,e,t,n,a,o)),!0;case"gotpointercapture":return d=o.pointerId,Fl.set(d,Zl(Fl.get(d)||null,e,t,n,a,o)),!0}return!1}function wg(e){var t=sa(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Bd(e.priority,function(){vg(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Bd(e.priority,function(){vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);po=a,n.target.dispatchEvent(a),po=null}else return t=oa(n),t!==null&&mg(t),e.blockedOn=n,!1;t.shift()}return!0}function Sg(e,t,n){js(e)&&n.delete(t)}function Wv(){gc=!1,vr!==null&&js(vr)&&(vr=null),br!==null&&js(br)&&(br=null),xr!==null&&js(xr)&&(xr=null),Xl.forEach(Sg),Fl.forEach(Sg)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,gc||(gc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wv)))}var Ts=null;function _g(e){Ts!==e&&(Ts=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ts===e&&(Ts=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(pc(a||n)===null)continue;break}var d=oa(n);d!==null&&(e.splice(t,3),t-=3,hu(d,{pending:!0,data:o,method:n.method,action:a},a,o))}}))}function Ga(e){function t(C){return Es(C,e)}vr!==null&&Es(vr,e),br!==null&&Es(br,e),xr!==null&&Es(xr,e),Xl.forEach(t),Fl.forEach(t);for(var n=0;n<wr.length;n++){var a=wr[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<wr.length&&(n=wr[0],n.blockedOn===null);)wg(n),n.blockedOn===null&&wr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var o=n[a],d=n[a+1],m=o[zt]||null;if(typeof d=="function")m||_g(n);else if(m){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[zt]||null)b=m.formAction;else if(pc(o)!==null)continue}else b=m.action;typeof b=="function"?n[a+1]=b:(n.splice(a,3),a-=3),_g(n)}}}function Cg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function yc(e){this._internalRoot=e}ks.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=Kt();gg(n,a,e,t,null,null)},ks.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gg(e.current,2,null,e,null,null),us(),t[ia]=null}};function ks(e){this._internalRoot=e}ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Md();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wr.length&&t!==0&&t<wr[n].priority;n++);wr.splice(n,0,e),n===0&&wg(e)}};var Ag=r.version;if(Ag!=="19.2.0")throw Error(s(527,Ag,"19.2.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Qv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{vt=Rs.inject(Qv),Le=Rs}catch{}}return ti.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,a="",o=zh,d=Mh,m=Bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=hg(e,1,!1,null,null,n,a,null,o,d,m,Cg),e[ia]=t.current,Xu(e),new yc(t)},ti.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var a=!1,o="",d=zh,m=Mh,b=Bh,C=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(C=n.formState)),t=hg(e,1,!0,t,n??null,a,o,C,d,m,b,Cg),t.context=pg(null),n=t.current,a=Kt(),a=lo(a),o=ir(a),o.callback=null,sr(n,o,a),n=a,t.current.lanes=n,cl(t,n),Rn(t),e[ia]=t.current,Xu(e),new ks(t)},ti.version="19.2.0",ti}var Ng;function ob(){if(Ng)return bc.exports;Ng=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),bc.exports=sb(),bc.exports}var ub=ob(),_c={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function cb(){if(Ug)return _e;Ug=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function j(v){return v===null||typeof v!="object"?null:(v=S&&v[S]||v["@@iterator"],typeof v=="function"?v:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,E={};function I(v,_,L){this.props=v,this.context=_,this.refs=E,this.updater=L||k}I.prototype.isReactComponent={},I.prototype.setState=function(v,_){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,_,"setState")},I.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=I.prototype;function q(v,_,L){this.props=v,this.context=_,this.refs=E,this.updater=L||k}var J=q.prototype=new O;J.constructor=q,M(J,I.prototype),J.isPureReactComponent=!0;var re=Array.isArray;function ee(){}var V={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function we(v,_,L){var H=L.ref;return{$$typeof:i,type:v,key:_,ref:H!==void 0?H:null,props:L}}function ne(v,_){return we(v.type,_,v.props)}function K(v){return typeof v=="object"&&v!==null&&v.$$typeof===i}function F(v){var _={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(L){return _[L]})}var se=/\/+/g;function me(v,_){return typeof v=="object"&&v!==null&&v.key!=null?F(""+v.key):_.toString(36)}function fe(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(ee,ee):(v.status="pending",v.then(function(_){v.status==="pending"&&(v.status="fulfilled",v.value=_)},function(_){v.status==="pending"&&(v.status="rejected",v.reason=_)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function z(v,_,L,H,Q){var Z=typeof v;(Z==="undefined"||Z==="boolean")&&(v=null);var le=!1;if(v===null)le=!0;else switch(Z){case"bigint":case"string":case"number":le=!0;break;case"object":switch(v.$$typeof){case i:case r:le=!0;break;case x:return le=v._init,z(le(v._payload),_,L,H,Q)}}if(le)return Q=Q(v),le=H===""?"."+me(v,0):H,re(Q)?(L="",le!=null&&(L=le.replace(se,"$&/")+"/"),z(Q,_,L,"",function(Rt){return Rt})):Q!=null&&(K(Q)&&(Q=ne(Q,L+(Q.key==null||v&&v.key===Q.key?"":(""+Q.key).replace(se,"$&/")+"/")+le)),_.push(Q)),1;le=0;var je=H===""?".":H+":";if(re(v))for(var xe=0;xe<v.length;xe++)H=v[xe],Z=je+me(H,xe),le+=z(H,_,L,Z,Q);else if(xe=j(v),typeof xe=="function")for(v=xe.call(v),xe=0;!(H=v.next()).done;)H=H.value,Z=je+me(H,xe++),le+=z(H,_,L,Z,Q);else if(Z==="object"){if(typeof v.then=="function")return z(fe(v),_,L,H,Q);throw _=String(v),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(v,_,L){if(v==null)return v;var H=[],Q=0;return z(v,H,"","",function(Z){return _.call(L,Z,Q++)}),H}function ie(v){if(v._status===-1){var _=v._result;_=_(),_.then(function(L){(v._status===0||v._status===-1)&&(v._status=1,v._result=L)},function(L){(v._status===0||v._status===-1)&&(v._status=2,v._result=L)}),v._status===-1&&(v._status=0,v._result=_)}if(v._status===1)return v._result.default;throw v._result}var he=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},X={map:W,forEach:function(v,_,L){W(v,function(){_.apply(this,arguments)},L)},count:function(v){var _=0;return W(v,function(){_++}),_},toArray:function(v){return W(v,function(_){return _})||[]},only:function(v){if(!K(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return _e.Activity=w,_e.Children=X,_e.Component=I,_e.Fragment=l,_e.Profiler=u,_e.PureComponent=q,_e.StrictMode=s,_e.Suspense=g,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,_e.__COMPILER_RUNTIME={__proto__:null,c:function(v){return V.H.useMemoCache(v)}},_e.cache=function(v){return function(){return v.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(v,_,L){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var H=M({},v.props),Q=v.key;if(_!=null)for(Z in _.key!==void 0&&(Q=""+_.key),_)!te.call(_,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&_.ref===void 0||(H[Z]=_[Z]);var Z=arguments.length-2;if(Z===1)H.children=L;else if(1<Z){for(var le=Array(Z),je=0;je<Z;je++)le[je]=arguments[je+2];H.children=le}return we(v.type,Q,H)},_e.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:c,_context:v},v},_e.createElement=function(v,_,L){var H,Q={},Z=null;if(_!=null)for(H in _.key!==void 0&&(Z=""+_.key),_)te.call(_,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Q[H]=_[H]);var le=arguments.length-2;if(le===1)Q.children=L;else if(1<le){for(var je=Array(le),xe=0;xe<le;xe++)je[xe]=arguments[xe+2];Q.children=je}if(v&&v.defaultProps)for(H in le=v.defaultProps,le)Q[H]===void 0&&(Q[H]=le[H]);return we(v,Z,Q)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(v){return{$$typeof:p,render:v}},_e.isValidElement=K,_e.lazy=function(v){return{$$typeof:x,_payload:{_status:-1,_result:v},_init:ie}},_e.memo=function(v,_){return{$$typeof:y,type:v,compare:_===void 0?null:_}},_e.startTransition=function(v){var _=V.T,L={};V.T=L;try{var H=v(),Q=V.S;Q!==null&&Q(L,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ee,he)}catch(Z){he(Z)}finally{_!==null&&L.types!==null&&(_.types=L.types),V.T=_}},_e.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},_e.use=function(v){return V.H.use(v)},_e.useActionState=function(v,_,L){return V.H.useActionState(v,_,L)},_e.useCallback=function(v,_){return V.H.useCallback(v,_)},_e.useContext=function(v){return V.H.useContext(v)},_e.useDebugValue=function(){},_e.useDeferredValue=function(v,_){return V.H.useDeferredValue(v,_)},_e.useEffect=function(v,_){return V.H.useEffect(v,_)},_e.useEffectEvent=function(v){return V.H.useEffectEvent(v)},_e.useId=function(){return V.H.useId()},_e.useImperativeHandle=function(v,_,L){return V.H.useImperativeHandle(v,_,L)},_e.useInsertionEffect=function(v,_){return V.H.useInsertionEffect(v,_)},_e.useLayoutEffect=function(v,_){return V.H.useLayoutEffect(v,_)},_e.useMemo=function(v,_){return V.H.useMemo(v,_)},_e.useOptimistic=function(v,_){return V.H.useOptimistic(v,_)},_e.useReducer=function(v,_,L){return V.H.useReducer(v,_,L)},_e.useRef=function(v){return V.H.useRef(v)},_e.useState=function(v){return V.H.useState(v)},_e.useSyncExternalStore=function(v,_,L){return V.H.useSyncExternalStore(v,_,L)},_e.useTransition=function(){return V.H.useTransition()},_e.version="19.2.0",_e}var Lg;function db(){return Lg||(Lg=1,_c.exports=cb()),_c.exports}var si=db();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,l,s)=>s?s.toUpperCase():l.toLowerCase()),Hg=i=>{const r=hb(i);return r.charAt(0).toUpperCase()+r.slice(1)},O0=(...i)=>i.filter((r,l,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===l).join(" ").trim(),pb=i=>{for(const r in i)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=si.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:u="",children:c,iconNode:h,...p},g)=>si.createElement("svg",{ref:g,...gb,width:r,height:r,stroke:i,strokeWidth:s?Number(l)*24/Number(r):l,className:O0("lucide",u),...!c&&!pb(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>si.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(i,r)=>{const l=si.forwardRef(({className:s,...u},c)=>si.createElement(yb,{ref:c,iconNode:r,className:O0(`lucide-${fb(Hg(i))}`,`lucide-${i}`,s),...u}));return l.displayName=Hg(i),l};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],vb=ze("arrow-down",mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jr=ze("arrow-left",bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cd=ze("arrow-right",xb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Sb=ze("arrow-up",wb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Cb=ze("bot",_b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],jb=ze("brain-circuit",Ab);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Os=ze("chevron-down",Eb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zs=ze("chevron-up",Tb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dd=ze("circle-check-big",kb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ob=ze("circle-question-mark",Rb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z0=ze("circle-x",zb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pc=ze("clock",Mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],nl=ze("dumbbell",Bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rl=ze("eye",Db);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],fd=ze("flame",Nb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],to=ze("footprints",Ub);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ic=ze("gamepad-2",Lb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],$g=ze("graduation-cap",Hb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vb=ze("info",$b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gb=ze("layers",qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ib=ze("log-out",Pb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yc=ze("lock",Yb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Jb=ze("play",Kb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],hd=ze("refresh-ccw",Wb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xb=ze("refresh-cw",Qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zb=ze("save",Fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],M0=ze("skull",e1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],B0=ze("square-pen",t1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cr=ze("star",n1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kc=ze("target",r1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],D0=ze("trending-up",a1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],i1=ze("trophy",l1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N0=ze("user",s1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pd=ze("x",o1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pi=ze("zap",u1),U0=i=>A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",...i},A.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},A.createElement("path",{d:"M1853 5109 c-78 -13 -178 -54 -253 -104 -90 -60 -198 -176 -243 -263 -33 -62 -40 -70 -79 -81 -136 -40 -285 -169 -351 -302 -43 -88 -67 -186 -67 -279 l0 -65 -48 -27 c-148 -84 -276 -259 -328 -449 -27 -99 -25 -274 4 -367 l23 -73 -65 -69 c-111 -118 -186 -305 -186 -463 0 -124 44 -289 105 -393 l25 -43 -30 -49 c-69 -112 -108 -282 -96 -413 12 -132 78 -290 162 -387 l37 -43 2 -122 c2 -95 7 -138 25 -192 69 -215 201 -370 393 -461 75 -35 185 -64 249 -64 33 0 41 -5 69 -47 101 -151 277 -276 458 -325 111 -30 288 -30 394 0 194 55 373 188 470 349 18 29 34 52 37 52 3 0 19 -23 37 -52 97 -161 276 -294 470 -349 106 -30 283 -30 394 0 181 49 357 174 458 325 28 42 36 47 69 47 69 0 177 30 260 70 184 91 316 249 382 455 18 55 23 97 25 191 l1 122 38 43 c52 61 104 156 134 247 21 64 26 96 26 192 0 138 -17 210 -78 331 l-43 86 23 39 c58 95 103 263 104 387 1 160 -74 348 -186 467 l-65 69 23 73 c29 93 31 268 4 367 -52 190 -180 365 -328 449 l-48 27 0 65 c0 93 -24 191 -67 279 -66 132 -217 262 -351 302 -39 11 -46 19 -79 81 -107 203 -340 358 -563 374 -238 17 -464 -102 -622 -326 l-18 -25 -17 25 c-174 245 -428 363 -690 319z m208 -203 c139 -32 282 -152 343 -287 54 -117 56 -140 56 -591 0 -230 -2 -418 -4 -418 -2 0 -25 10 -52 22 -34 15 -70 22 -117 22 -65 1 -70 -1 -98 -32 -61 -68 -21 -144 86 -163 71 -12 115 -39 153 -93 l27 -39 3 -985 2 -985 -64 60 c-112 105 -232 165 -396 199 -114 23 -176 16 -212 -25 -36 -41 -37 -81 0 -122 24 -27 36 -31 107 -40 173 -21 294 -78 400 -191 202 -214 218 -534 40 -783 -78 -110 -176 -183 -305 -227 -94 -33 -247 -32 -349 1 -144 47 -260 143 -343 284 -23 37 -50 73 -61 78 -10 6 -65 12 -121 13 -110 3 -153 15 -242 72 -175 110 -278 332 -246 528 7 40 9 81 6 92 -4 10 -34 48 -66 83 -105 115 -156 250 -145 386 5 69 34 163 61 200 13 18 16 17 74 -22 104 -69 240 -113 356 -113 30 0 45 7 72 34 46 46 46 86 2 130 -28 28 -42 34 -98 39 -220 20 -400 184 -455 415 -45 187 27 386 185 509 93 72 95 88 35 232 -80 192 -13 433 163 584 213 181 495 146 684 -84 64 -78 118 -222 118 -316 0 -55 39 -101 91 -109 31 -5 42 -1 70 24 34 30 34 31 33 114 -1 140 -60 294 -159 420 -134 171 -359 278 -559 265 l-78 -5 6 50 c43 321 403 465 654 261 69 -56 121 -61 166 -16 19 19 26 36 26 66 0 36 -6 47 -54 93 -57 55 -165 114 -248 135 -27 6 -48 16 -48 21 0 19 136 144 186 170 102 55 208 70 315 44z m1204 -1 c32 -9 81 -28 109 -43 50 -26 186 -151 186 -170 0 -5 -21 -15 -47 -21 -84 -21 -192 -80 -249 -135 -48 -46 -54 -57 -54 -93 0 -30 7 -47 26 -66 45 -45 97 -40 166 16 61 49 115 74 192 88 206 38 411 -101 455 -309 20 -94 22 -91 -66 -85 -354 23 -690 -291 -719 -671 -7 -81 -6 -83 22 -115 42 -46 91 -52 133 -15 28 26 33 38 42 104 25 205 122 354 290 444 166 90 360 67 508 -59 179 -153 247 -393 166 -586 -60 -144 -58 -160 35 -232 158 -123 230 -322 185 -509 -34 -143 -121 -267 -239 -343 -65 -41 -122 -61 -217 -74 -63 -8 -78 -14 -101 -41 -35 -39 -36 -79 -2 -119 32 -39 74 -46 169 -32 91 13 188 51 267 104 70 47 72 46 109 -52 64 -170 18 -362 -123 -516 -69 -75 -68 -70 -53 -215 17 -172 -68 -351 -221 -464 -92 -69 -151 -89 -270 -92 -56 -1 -111 -7 -121 -13 -11 -5 -38 -41 -61 -78 -83 -141 -199 -237 -343 -284 -102 -33 -255 -34 -349 -1 -212 73 -363 244 -414 469 -73 323 136 650 459 718 39 8 89 15 112 15 62 0 108 42 108 100 0 35 -6 47 -33 71 -39 35 -90 38 -209 13 -159 -32 -279 -93 -389 -197 l-64 -60 2 985 3 984 25 37 c37 54 88 87 150 94 74 9 115 45 115 103 0 35 -6 47 -34 72 -33 29 -37 30 -98 25 -35 -4 -84 -15 -110 -27 -25 -11 -47 -20 -49 -20 -2 0 -4 188 -4 418 0 345 3 428 15 477 42 160 127 274 264 352 107 61 214 77 326 48z"}),A.createElement("path",{d:"M2024 4280 c-32 -13 -64 -59 -64 -91 0 -40 46 -88 91 -95 31 -5 42 -1 70 24 28 25 34 37 34 72 0 35 -6 47 -33 71 -33 29 -60 35 -98 19z"}),A.createElement("path",{d:"M1125 3451 c-11 -5 -28 -18 -39 -29 -46 -52 -24 -222 50 -372 85 -172 260 -317 437 -363 33 -9 61 -18 64 -21 10 -9 -9 -47 -47 -95 -46 -59 -117 -96 -210 -110 -81 -13 -115 -42 -115 -100 0 -49 33 -88 81 -97 46 -8 167 18 239 52 111 53 216 180 255 310 12 40 13 41 84 57 89 21 216 83 278 137 70 60 75 123 14 172 -38 31 -80 23 -161 -33 -90 -61 -166 -89 -260 -96 -278 -20 -535 215 -535 488 0 33 -7 48 -34 75 -34 34 -61 41 -101 25z"}),A.createElement("path",{d:"M1860 2023 c-252 -27 -503 -179 -646 -392 -35 -52 -44 -74 -44 -109 0 -56 35 -92 89 -92 47 0 72 18 120 88 65 97 169 186 273 236 105 50 155 63 265 73 64 5 81 11 107 34 25 22 31 35 31 69 0 35 -6 47 -33 71 -33 30 -58 33 -162 22z"}),A.createElement("path",{d:"M1125 1221 c-91 -38 -74 -171 24 -186 132 -21 164 -30 223 -63 144 -81 230 -194 273 -357 8 -32 15 -78 15 -102 0 -55 39 -101 91 -109 31 -5 42 -1 70 24 34 30 34 31 33 114 -2 189 -105 395 -263 527 -135 112 -373 189 -466 152z"}),A.createElement("path",{d:"M3024 4280 c-32 -13 -64 -59 -64 -91 0 -40 46 -88 91 -95 31 -5 42 -1 70 24 28 25 34 37 34 72 0 35 -6 47 -33 71 -33 29 -60 35 -98 19z"}),A.createElement("path",{d:"M3924 3450 c-37 -15 -64 -59 -64 -104 0 -109 -63 -251 -151 -338 -67 -68 -172 -122 -268 -140 -123 -23 -274 17 -398 105 -57 41 -104 48 -139 19 -61 -49 -56 -112 14 -172 62 -54 189 -116 280 -137 72 -17 72 -18 83 -57 47 -174 197 -313 379 -352 98 -21 125 -18 162 15 27 24 33 36 33 70 0 61 -35 92 -117 103 -89 12 -161 50 -208 109 -38 48 -57 86 -47 95 3 3 31 12 64 21 177 46 352 191 437 363 51 105 82 233 73 309 -8 75 -70 117 -133 91z"}),A.createElement("path",{d:"M3124 2021 c-32 -14 -64 -60 -64 -92 0 -17 11 -41 28 -59 25 -28 36 -32 132 -45 58 -7 128 -21 155 -30 141 -48 284 -156 366 -277 48 -70 73 -88 120 -88 54 0 89 36 89 92 0 35 -9 57 -45 110 -119 178 -317 317 -523 368 -92 22 -229 33 -258 21z"}),A.createElement("path",{d:"M3820 1214 c-86 -18 -216 -83 -291 -145 -152 -127 -250 -317 -265 -513 -7 -81 -6 -83 22 -115 42 -46 91 -52 133 -15 28 26 33 38 42 104 19 157 77 273 184 372 74 70 214 127 307 128 57 0 103 45 103 100 0 35 -6 47 -33 71 -27 25 -40 29 -85 28 -28 0 -81 -7 -117 -15z"}))),G={bg:"linear-gradient(145deg, #201d55ff 0%, #161146ff 100%)",surface:"rgba(30, 41, 59, 0.94)",text:"#f1f5f9",subtext:"#a8b2d1",accentPink:"#f472b6",accentViolet:"#a78bfa",accentCyan:"#67e8f9",accentBlue:"#5C6CFF",easyGreen:"#34D399",normalYellow:"#FBBF24",hardRed:"#F87171",playBtnFrom:"#5b21b6",playBtnTo:"#7e22ce",borderColor:"rgba(255,255,255,0.14)",shadow:"0 10px 30px rgba(0,0,0,0.45)"},c1="/MazeMind-TFG/assets/bg-CWbwpWtr.mp3",d1="/MazeMind-TFG/assets/tick-BauwulXa.mp3",f1="/MazeMind-TFG/assets/tick_final-BTyZbypb.mp3",h1="/MazeMind-TFG/assets/start-CBlbqM98.mp3",p1="/MazeMind-TFG/assets/thud-CRrKTc_2.mp3",g1="data:audio/mpeg;base64,//uQyAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAIAAAJrQBNTU1NTU1NTU1NTU1ubm5ubm5ubm5ubm6VlZWVlZWVlZWVlZWVtbW1tbW1tbW1tbW11dXV1dXV1dXV1dXV1ebm5ubm5ubm5ubm5vPz8/Pz8/Pz8/Pz8/P///////////////8AAABOTEFNRTMuOThyA7oAAAAAAAAAAPQgJAfhQQAB4AAACa2B7zefAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uwyAAACthxTnWEAAaowiV3P+AAIAJcuUDTHSHTHWO/cEIYGIhzicWmcKC7E3/jcvtoiSLg3AXBufX/82iECgoYnoifwiC54Pv/rB8HwcBAEAQd/UCAPg+D8o7/BAEDnwTB/8/8oCAIHP+ngcDgcDgcDgcCgQAgAAxoUtcMxTQGBGAmGAgg2o4AMmAIAZh5MZPMchC41GHyFP5iDQH+YWMSOGGeghZlUJBAY+SQZGBOADYOAGgEBFK0mWwrGaoHT5f8wLhYQCBUYbgrRs5o3GEOAoDhFTC7AzLgslMIEAqs3UwLAczCzKEMsFWsygh6WtmAmAWYZoFSB7WjBCAaMGcAJ+TBtDwMRsSAw8xujLIIwMgEJS/SCEBkiC+L1beAQACmB2ABKQgDpaQ6B2YCgZRkvCMmDsCTM31VDAQBCa3J9RIEATAIC2gtgYBlG4Qg8GEQFuYGQBrj1sG6AwCoDADSqVRTxAAYnbFPmFVy8hgYBMGAuAmDQBi5QJAOAoFY8GKjkDACkfamqrnAYBVmulTzmdZwAwAiM95zJrI0Bcg6mK6TDhUAIvlLsWlpBxax2A1B0wcdtwRpm6tinUBu8+k+ZVXVkfV/X1kafbq71bexdXVA2a0t245DlSLVNDDSbl9aEvs6mFyQN9z3cdam1qXXYjF2zf//////////////9mUQzGv///////////////7rjS6+gAAAAAAKku9avjKZQ6wFaGh2mmIlkkWl/Zbx//9z4AXBRstf////DT5wGVGt////fcNmYXtt///+kSG3T1r///4b+PAbFFGt//83u/ncHJhe23/6avuHaK+3Wv//+2DILgBTHZtRvaeAClC0afG4mbjxmG/3AgwpH1v/ulLw9wIdJ4MW28U/pA1EjzPt1rX3vfFM7raR9vPpApS0SW0GSesXGMYpTN6SZ1C3Bqo1QAAwACLqzW7klTeM2jjfxxdb/rtgefw6o0mBGhHCliJL/qJgcgWEgTGzfpk2RMnCLG36mJsnyMJUni8bf/22BYUAVbOf45MmDjwgJOJJT/lkCCBMxMiRI7n2Iw844sjMzm+2IStEls1uQ0GYmegk5EjMGWnphZxeHTkve+HRSIwlWZU2myk4SNpyzXtPoRcJzGrWrOAAMAAACnLvGY1zs4FSs9NcBQtK7cVj1Szc/5sLAAL/+3DID4ASJZtNrajRChUwqb24GXkCU1bD/uJADAFMEEx/0FQaiFOVvzyYEJCSM//9z1hBMBEq//7kCxwSUSW/9+MJlFovla+tDoJqJJVWv+xA1IjBIibDP4QPLhJzZhu56SCaJyT28+7KmjtRl3l7xMw+CTmmnHQg6SC5LRgqmhGy6ltlRAfAAAAAAAAAuSbyqZ/+GEzI1Mr1y5TUpa6IZHAlEGPt9blETsTxt+tMmyHE8Xr+tMvmYSRn//wZiwCEkc//hAskaRJJP78OTLgkSS3P+YpNE4lVdoiHo1pme0Rlu2zM4za2XlPM1btE1J2HHVviLdnljqZl6q403CjS3pp3KbXLeqmNEGxUdQE5Jd+8vzrLjSJcwQDZJL6epb3/0KgYOCYte////qOG3Z+u5//4BAkGSf/9//tgyBYBD+V/SG2YdUoNpCfdtRnh7cBhiT7n/exAlJq3PzCBwSAiRJJ+8EFE1EiRJ+93ZRcAQCU/RTY1XPKk5Cj83QnlRjlpvCNYqqqQnQmqqpG9ljVbbYrLGzNyIyNVEsIaq5YtcwTAAE3NdTS2XOKYKRnpxBEjNRn69yZs/EwaGhAa8qK3KhLAJEY9+o/C4FsWUf4MIgwVv/8GBBMAhKLdogEIgxIlP8eEE0Xytz8w02Dq+fwtBI0ijjO9lGsSqqbnrQSIosxzSmYXCW1WZdKWFgqBOQmCqOzooqiJkDYGPQhNma2HzXXKXZVAAAMPKS3X/45c6WLV6wm/+GZYWU+gVSgk//tgyAyADm0VSayox6m8Iuf9NJodj8a/YwSdlf/wCApqNf/sYcWRbf/zziyKq/uCziyKLd4QLOPIkc2Ggs6yKM/tD1ZptW+w7eapZ+mFlWSSSSPdiyoSSCg+mYKoTkJgqhPVECqNcm/9c//+r9/9QAAAAwJIrbtvhdEgQHgInckD7eTInYPnHYX+suAYTXn+WuNEzX+V5iA/BF67QQHgFX/aMWChOz/BaQBIkkn/PONya17souDUW22i0CJFHNbLURRlGGncnG6OXsm5SWluVL5SQ0MrRJgr9DfttjoragASoSldZAxrR0lDHZWCQ6M1l2mAF8Wmr8wHqOYxb1GI9SVV+UCg//sgyBMACgC/LU00x+j4EGR08KWEFX/ewIWExv7niBzEt+9MgAiSX9/cOS3PcrI5Tzt5Rsmm9qiiv1C1l9X7AATKV1mzYAFoK8HeS0sL7OPdsJ070/8LEz4Nf9pxE3kspsUmdv+MBSIWbuO5N6eePcmQotbHtyRGpR5S2hQgF2qAAP/7EMgCg0JIDSTgBEAgOo3dTAAIvRGAt//oBV1ueYKhRHql1Gioik6LZ/KYKDp/tNVMQU1FMy45OC4yVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQyBuDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",y1="/MazeMind-TFG/assets/reveal-CGSCSWDT.mp3",m1="/MazeMind-TFG/assets/toggle_on-BHTAYZGm.mp3",v1="/MazeMind-TFG/assets/toggle_off-Mx7awV3T.mp3",b1="/MazeMind-TFG/assets/win-wz0UrQrh.wav",x1="/MazeMind-TFG/assets/fail-BxnXAJS1.mp3",w1="/MazeMind-TFG/assets/play-mK8qUHIr.wav",S1="/MazeMind-TFG/assets/slide2-DqiafzHX.wav",_1="/MazeMind-TFG/assets/hover2-Cp587VMP.mp3",Jc="mazeMindSettings",Cc={backgroundColor:G.bg,textColor:G.text,subtextColor:G.subtext,surfaceColor:G.surface,borderColor:G.borderColor,accentColor1:G.playBtnFrom,accentColor2:G.playBtnTo,easyColor:G.easyGreen,normalColor:G.normalYellow,hardColor:G.hardRed,mazePathColor:"#EEF2FF",mazeWallColor:"#3B82F6",mazePlayerColor:"#111",mazeExitColor:"#F59E0B",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#E11D48"},Vg={visuals:{home:{...Cc},levelSelect:{...Cc},levelScreen:{...Cc}},game:{soundEffects:!0,backgroundMusic:!0,keyMoveUp:"w",keyMoveDown:"s",keyMoveLeft:"a",keyMoveRight:"d",keyHelpReveal:"h",keyHelpPath:"j",keyHelpCrash:"k"}},qg={"Per Defecte":{backgroundColor:G.bg,textColor:G.text,subtextColor:G.subtext,surfaceColor:G.surface,borderColor:G.borderColor,accentColor1:G.playBtnFrom,accentColor2:G.playBtnTo,easyColor:G.easyGreen,normalColor:G.normalYellow,hardColor:G.hardRed,mazePathColor:"#EEF2FF",mazeWallColor:"#3B82F6",mazePlayerColor:"#111",mazeExitColor:"#F59E0B",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#E11D48"},Fosc:{backgroundColor:"radial-gradient(1200px 600px at 20% 0%, rgba(86,180,233,0.12), transparent 60%), linear-gradient(145deg, #0B1021 0%, #141A32 100%)",textColor:"#FFFFFF",subtextColor:"rgba(255,255,255,0.85)",surfaceColor:"#131A33",borderColor:"rgba(255,255,255,0.18)",accentColor1:"#56B4E9",accentColor2:"#0072B2",easyColor:"#34D399",normalColor:"#FBBF24",hardColor:"#F87171",mazePathColor:"#EEF2FF",mazeWallColor:"#2D6CDF",mazePlayerColor:"#0B1021",mazeExitColor:"#F0B429",mazeWallThickness:3,playerPathColor:"#22D3EE",crashHelpColor:"#E11D48"},Clar:{backgroundColor:"linear-gradient(180deg, #F7FAFF 0%, #EAF1FF 100%)",textColor:"#0B1021",subtextColor:"#334155",surfaceColor:"#FFFFFF",borderColor:"rgba(2,6,23,0.12)",accentColor1:"#4C6FFF",accentColor2:"#CC79A7",easyColor:"#22C55E",normalColor:"#F59E0B",hardColor:"#EF4444",mazePathColor:"#FFFFFF",mazeWallColor:"#2F3A8A",mazePlayerColor:"#0B1021",mazeExitColor:"#D55E00",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#EF4444"},"Alt Contrast":{backgroundColor:"#000000",textColor:"#FFFFFF",subtextColor:"#FFFFFF",surfaceColor:"#000000",borderColor:"#FFFFFF",accentColor1:"#2563eb",accentColor2:"#2563eb",easyColor:"#39FF14",normalColor:"#FFFF00",hardColor:"#FF3131",mazePathColor:"#383838ff",mazeWallColor:"#FFFFFF",mazePlayerColor:"#2563eb",mazeExitColor:"#2563eb",mazeWallThickness:4,playerPathColor:"#39FF14",crashHelpColor:"#FF3131"}};function C1(){try{const i=localStorage.getItem(Jc);if(i){const r=JSON.parse(i);return gd(Vg,r)}}catch(i){console.error("Error al carregar configuraci:",i),localStorage.removeItem(Jc)}return L0(Vg)}function Gg(i){try{localStorage.setItem(Jc,JSON.stringify(i))}catch(r){console.error("Error al guardar configuraci:",r)}}function L0(i){return JSON.parse(JSON.stringify(i))}function Ac(i){return i&&typeof i=="object"&&!Array.isArray(i)}function gd(i,r){const l=L0(i);return Ac(i)&&Ac(r)&&Object.keys(r).forEach(s=>{Ac(r[s])?s in i?l[s]=gd(i[s],r[s]):Object.assign(l,{[s]:r[s]}):Object.assign(l,{[s]:r[s]})}),l}var Wc=function(i,r){return Wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u])},Wc(i,r)};function H0(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Wc(i,r);function l(){this.constructor=i}i.prototype=r===null?Object.create(r):(l.prototype=r.prototype,new l)}var Js=function(){return Js=Object.assign||function(r){for(var l,s=1,u=arguments.length;s<u;s++){l=arguments[s];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}return r},Js.apply(this,arguments)};function ll(i,r){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&r.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(i);u<s.length;u++)r.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(i,s[u])&&(l[s[u]]=i[s[u]]);return l}function $0(i,r,l,s){var u=arguments.length,c=u<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,l):s,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(i,r,l,s);else for(var p=i.length-1;p>=0;p--)(h=i[p])&&(c=(u<3?h(c):u>3?h(r,l,c):h(r,l))||c);return u>3&&c&&Object.defineProperty(r,l,c),c}function V0(i,r){return function(l,s){r(l,s,i)}}function q0(i,r,l,s,u,c){function h(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var p=s.kind,g=p==="getter"?"get":p==="setter"?"set":"value",y=!r&&i?s.static?i:i.prototype:null,x=r||(y?Object.getOwnPropertyDescriptor(y,s.name):{}),w,S=!1,j=l.length-1;j>=0;j--){var k={};for(var M in s)k[M]=M==="access"?{}:s[M];for(var M in s.access)k.access[M]=s.access[M];k.addInitializer=function(I){if(S)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(I||null))};var E=(0,l[j])(p==="accessor"?{get:x.get,set:x.set}:x[g],k);if(p==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(w=h(E.get))&&(x.get=w),(w=h(E.set))&&(x.set=w),(w=h(E.init))&&u.unshift(w)}else(w=h(E))&&(p==="field"?u.unshift(w):x[g]=w)}y&&Object.defineProperty(y,s.name,x),S=!0}function G0(i,r,l){for(var s=arguments.length>2,u=0;u<r.length;u++)l=s?r[u].call(i,l):r[u].call(i);return s?l:void 0}function P0(i){return typeof i=="symbol"?i:"".concat(i)}function I0(i,r,l){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:l?"".concat(l," ",r):r})}function Y0(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function ue(i,r,l,s){function u(c){return c instanceof l?c:new l(function(h){h(c)})}return new(l||(l=Promise))(function(c,h){function p(x){try{y(s.next(x))}catch(w){h(w)}}function g(x){try{y(s.throw(x))}catch(w){h(w)}}function y(x){x.done?c(x.value):u(x.value).then(p,g)}y((s=s.apply(i,r||[])).next())})}function K0(i,r){var l={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(x){return g([y,x])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(l=0)),l;)try{if(s=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,u=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(c=l.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){l.label=y[1];break}if(y[0]===6&&l.label<c[1]){l.label=c[1],c=y;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(y);break}c[2]&&l.ops.pop(),l.trys.pop();continue}y=r.call(i,l)}catch(x){y=[6,x],u=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var no=Object.create?(function(i,r,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(r,l);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[l]}}),Object.defineProperty(i,s,u)}):(function(i,r,l,s){s===void 0&&(s=l),i[s]=r[l]});function J0(i,r){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(r,l)&&no(r,i,l)}function Ws(i){var r=typeof Symbol=="function"&&Symbol.iterator,l=r&&i[r],s=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function yd(i,r){var l=typeof Symbol=="function"&&i[Symbol.iterator];if(!l)return i;var s=l.call(i),u,c=[],h;try{for(;(r===void 0||r-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(p){h={error:p}}finally{try{u&&!u.done&&(l=s.return)&&l.call(s)}finally{if(h)throw h.error}}return c}function W0(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(yd(arguments[r]));return i}function Q0(){for(var i=0,r=0,l=arguments.length;r<l;r++)i+=arguments[r].length;for(var s=Array(i),u=0,r=0;r<l;r++)for(var c=arguments[r],h=0,p=c.length;h<p;h++,u++)s[u]=c[h];return s}function X0(i,r,l){if(l||arguments.length===2)for(var s=0,u=r.length,c;s<u;s++)(c||!(s in r))&&(c||(c=Array.prototype.slice.call(r,0,s)),c[s]=r[s]);return i.concat(c||Array.prototype.slice.call(r))}function al(i){return this instanceof al?(this.v=i,this):new al(i)}function F0(i,r,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(i,r||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(j){return function(k){return Promise.resolve(k).then(j,w)}}function p(j,k){s[j]&&(u[j]=function(M){return new Promise(function(E,I){c.push([j,M,E,I])>1||g(j,M)})},k&&(u[j]=k(u[j])))}function g(j,k){try{y(s[j](k))}catch(M){S(c[0][3],M)}}function y(j){j.value instanceof al?Promise.resolve(j.value.v).then(x,w):S(c[0][2],j)}function x(j){g("next",j)}function w(j){g("throw",j)}function S(j,k){j(k),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Z0(i){var r,l;return r={},s("next"),s("throw",function(u){throw u}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(u,c){r[u]=i[u]?function(h){return(l=!l)?{value:al(i[u](h)),done:!1}:c?c(h):h}:c}}function ey(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],l;return r?r.call(i):(i=typeof Ws=="function"?Ws(i):i[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(c){l[c]=i[c]&&function(h){return new Promise(function(p,g){h=i[c](h),u(p,g,h.done,h.value)})}}function u(c,h,p,g){Promise.resolve(g).then(function(y){c({value:y,done:p})},h)}}function ty(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var A1=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},Qc=function(i){return Qc=Object.getOwnPropertyNames||function(r){var l=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[l.length]=s);return l},Qc(i)};function ny(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var l=Qc(i),s=0;s<l.length;s++)l[s]!=="default"&&no(r,i,l[s]);return A1(r,i),r}function ry(i){return i&&i.__esModule?i:{default:i}}function ay(i,r,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(i):s?s.value:r.get(i)}function ly(i,r,l,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!u:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(i,l):u?u.value=l:r.set(i,l),l}function iy(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function sy(i,r,l){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,u;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],l&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),i.stack.push({value:r,dispose:s,async:l})}else l&&i.stack.push({async:!0});return r}var j1=typeof SuppressedError=="function"?SuppressedError:function(i,r,l){var s=new Error(l);return s.name="SuppressedError",s.error=i,s.suppressed=r,s};function oy(i){function r(c){i.error=i.hasError?new j1(c,i.error,"An error was suppressed during disposal."):c,i.hasError=!0}var l,s=0;function u(){for(;l=i.stack.pop();)try{if(!l.async&&s===1)return s=0,i.stack.push(l),Promise.resolve().then(u);if(l.dispose){var c=l.dispose.call(l.value);if(l.async)return s|=2,Promise.resolve(c).then(u,function(h){return r(h),u()})}else s|=1}catch(h){r(h)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return u()}function uy(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,s,u,c,h){return s?r?".jsx":".js":u&&(!c||!h)?l:u+c+"."+h.toLowerCase()+"js"}):i}const E1={__extends:H0,__assign:Js,__rest:ll,__decorate:$0,__param:V0,__esDecorate:q0,__runInitializers:G0,__propKey:P0,__setFunctionName:I0,__metadata:Y0,__awaiter:ue,__generator:K0,__createBinding:no,__exportStar:J0,__values:Ws,__read:yd,__spread:W0,__spreadArrays:Q0,__spreadArray:X0,__await:al,__asyncGenerator:F0,__asyncDelegator:Z0,__asyncValues:ey,__makeTemplateObject:ty,__importStar:ny,__importDefault:ry,__classPrivateFieldGet:ay,__classPrivateFieldSet:ly,__classPrivateFieldIn:iy,__addDisposableResource:sy,__disposeResources:oy,__rewriteRelativeImportExtension:uy},T1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sy,get __assign(){return Js},__asyncDelegator:Z0,__asyncGenerator:F0,__asyncValues:ey,__await:al,__awaiter:ue,__classPrivateFieldGet:ay,__classPrivateFieldIn:iy,__classPrivateFieldSet:ly,__createBinding:no,__decorate:$0,__disposeResources:oy,__esDecorate:q0,__exportStar:J0,__extends:H0,__generator:K0,__importDefault:ry,__importStar:ny,__makeTemplateObject:ty,__metadata:Y0,__param:V0,__propKey:P0,__read:yd,__rest:ll,__rewriteRelativeImportExtension:uy,__runInitializers:G0,__setFunctionName:I0,__spread:W0,__spreadArray:X0,__spreadArrays:Q0,__values:Ws,default:E1},Symbol.toStringTag,{value:"Module"})),k1=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class md extends Error{constructor(r,l="FunctionsError",s){super(r),this.name=l,this.context=s}}class Pg extends md{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ig extends md{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Yg extends md{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Xc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Xc||(Xc={}));class R1{constructor(r,{headers:l={},customFetch:s,region:u=Xc.Any}={}){this.url=r,this.headers=l,this.region=u,this.fetch=k1(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return ue(this,arguments,void 0,function*(l,s={}){var u;try{const{headers:c,method:h,body:p,signal:g}=s;let y={},{region:x}=s;x||(x=this.region);const w=new URL(`${this.url}/${l}`);x&&x!=="any"&&(y["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let S;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(y["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(y["Content-Type"]="application/json",S=JSON.stringify(p)):S=p;const j=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:S,signal:g}).catch(I=>{throw I.name==="AbortError"?I:new Pg(I)}),k=j.headers.get("x-relay-error");if(k&&k==="true")throw new Ig(j);if(!j.ok)throw new Yg(j);let M=((u=j.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),E;return M==="application/json"?E=yield j.json():M==="application/octet-stream"||M==="application/pdf"?E=yield j.blob():M==="text/event-stream"?E=j:M==="multipart/form-data"?E=yield j.formData():E=yield j.text(),{data:E,error:null,response:j}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Pg(c)}:{data:null,error:c,response:c instanceof Yg||c instanceof Ig?c.context:void 0}}})}}var Tt={};const il=Zv(T1);var Ms={},Bs={},Ds={},Ns={},Us={},Ls={},Kg;function cy(){if(Kg)return Ls;Kg=1,Object.defineProperty(Ls,"__esModule",{value:!0});class i extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Ls.default=i,Ls}var Jg;function dy(){if(Jg)return Us;Jg=1,Object.defineProperty(Us,"__esModule",{value:!0});const r=il.__importDefault(cy());class l{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,x,w,S;let j=null,k=null,M=null,E=g.status,I=g.statusText;if(g.ok){if(this.method!=="HEAD"){const re=await g.text();re===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?k=re:k=JSON.parse(re))}const q=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),J=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");q&&J&&J.length>1&&(M=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(j={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,M=null,E=406,I="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const q=await g.text();try{j=JSON.parse(q),Array.isArray(j)&&g.status===404&&(k=[],j=null,E=200,I="OK")}catch{g.status===404&&q===""?(E=204,I="No Content"):j={message:q}}if(j&&this.isMaybeSingle&&(!((S=j?.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,E=200,I="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:k,count:M,status:E,statusText:I}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,x,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(x=g?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Us.default=l,Us}var Wg;function fy(){if(Wg)return Ns;Wg=1,Object.defineProperty(Ns,"__esModule",{value:!0});const r=il.__importDefault(dy());class l extends r.default{select(u){let c=!1;const h=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",x=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${x?`${x},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var x;const w=[u?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${S}"; options=${w};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return Ns.default=l,Ns}var Qg;function vd(){if(Qg)return Ds;Qg=1,Object.defineProperty(Ds,"__esModule",{value:!0});const r=il.__importDefault(fy()),l=new RegExp("[,()]");class s extends r.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(g=>typeof g=="string"&&l.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const x=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${x}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return Ds.default=s,Ds}var Xg;function hy(){if(Xg)return Bs;Xg=1,Object.defineProperty(Bs,"__esModule",{value:!0});const r=il.__importDefault(vd());class l{constructor(u,{headers:c={},schema:h,fetch:p}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(u,c){const{head:h=!1,count:p}=c??{},g=h?"HEAD":"GET";let y=!1;const x=(u??"*").split("").map(w=>/\s/.test(w)&&!y?"":(w==='"'&&(y=!y),w)).join("");return this.url.searchParams.set("select",x),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(y.length>0){const x=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var y;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const w=u.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(w.length>0){const S=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",S.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Bs.default=l,Bs}var Fg;function O1(){if(Fg)return Ms;Fg=1,Object.defineProperty(Ms,"__esModule",{value:!0});const i=il,r=i.__importDefault(hy()),l=i.__importDefault(vd());class s{constructor(c,{headers:h={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(c){const h=new URL(`${this.url}/${c}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:g=!1,count:y}={}){var x;let w;const S=new URL(`${this.url}/rpc/${c}`);let j;p||g?(w=p?"HEAD":"GET",Object.entries(h).filter(([M,E])=>E!==void 0).map(([M,E])=>[M,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([M,E])=>{S.searchParams.append(M,E)})):(w="POST",j=h);const k=new Headers(this.headers);return y&&k.set("Prefer",`count=${y}`),new l.default({method:w,url:S,headers:k,schema:this.schemaName,body:j,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Ms.default=s,Ms}var Zg;function z1(){if(Zg)return Tt;Zg=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const i=il,r=i.__importDefault(O1());Tt.PostgrestClient=r.default;const l=i.__importDefault(hy());Tt.PostgrestQueryBuilder=l.default;const s=i.__importDefault(vd());Tt.PostgrestFilterBuilder=s.default;const u=i.__importDefault(fy());Tt.PostgrestTransformBuilder=u.default;const c=i.__importDefault(dy());Tt.PostgrestBuilder=c.default;const h=i.__importDefault(cy());return Tt.PostgrestError=h.default,Tt.default={PostgrestClient:r.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},Tt}var py=z1();const gy=R0(py),M1=Fv({__proto__:null,default:gy},[py]),{PostgrestClient:B1,PostgrestQueryBuilder:L2,PostgrestFilterBuilder:H2,PostgrestTransformBuilder:$2,PostgrestBuilder:V2,PostgrestError:q2}=gy||M1;class D1{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const s=l.node,u=parseInt(s.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let l=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(l+=`

Suggested solution: ${r.workaround}`),new Error(l)}static createWebSocket(r,l){const s=this.getWebSocketConstructor();return new s(r,l)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const N1="2.80.0",U1=`realtime-js/${N1}`,L1="1.0.0",Fc=1e4,H1=1e3,$1=100;var oi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(oi||(oi={}));var ft;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ft||(ft={}));var wn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(wn||(wn={}));var Zc;(function(i){i.websocket="websocket"})(Zc||(Zc={}));var ea;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ea||(ea={}));class V1{constructor(){this.HEADER_LENGTH=1}decode(r,l){return r.constructor===ArrayBuffer?l(this._binaryDecode(r)):l(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const l=new DataView(r),s=new TextDecoder;return this._decodeBroadcast(r,l,s)}_decodeBroadcast(r,l,s){const u=l.getUint8(1),c=l.getUint8(2);let h=this.HEADER_LENGTH+2;const p=s.decode(r.slice(h,h+u));h=h+u;const g=s.decode(r.slice(h,h+c));h=h+c;const y=JSON.parse(s.decode(r.slice(h,r.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class yy{constructor(r,l){this.callback=r,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ke||(Ke={}));const e0=(i,r,l={})=>{var s;const u=(s=l.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=q1(h,i,r,u),c),{}):{}},q1=(i,r,l,s)=>{const u=r.find(p=>p.name===i),c=u?.type,h=l[i];return c&&!s.includes(c)?my(c,h):ed(h)},my=(i,r)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Y1(r,l)}switch(i){case Ke.bool:return G1(r);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return P1(r);case Ke.json:case Ke.jsonb:return I1(r);case Ke.timestamp:return K1(r);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return ed(r);default:return ed(r)}},ed=i=>i,G1=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},P1=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},I1=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},Y1=(i,r)=>{if(typeof i!="string")return i;const l=i.length-1,s=i[l];if(i[0]==="{"&&s==="}"){let c;const h=i.slice(1,l);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>my(r,p))}return i},K1=i=>typeof i=="string"?i.replace(" ","T"):i,vy=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class jc{constructor(r,l,s={},u=Fc){this.channel=r,this.event=l,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,l){var s;return this._hasReceived(r)&&l((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:l}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(l))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var t0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(t0||(t0={}));class ui{constructor(r,l){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,u,c,h),this.pendingDiffs.forEach(g=>{this.state=ui.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ui.syncDiff(this.state,u,c,h),p())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,l,s,u){const c=this.cloneDeep(r),h=this.transformState(l),p={},g={};return this.map(c,(y,x)=>{h[y]||(g[y]=x)}),this.map(h,(y,x)=>{const w=c[y];if(w){const S=x.map(E=>E.presence_ref),j=w.map(E=>E.presence_ref),k=x.filter(E=>j.indexOf(E.presence_ref)<0),M=w.filter(E=>S.indexOf(E.presence_ref)<0);k.length>0&&(p[y]=k),M.length>0&&(g[y]=M)}else p[y]=x}),this.syncDiff(c,{joins:p,leaves:g},s,u)}static syncDiff(r,l,s,u){const{joins:c,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var y;const x=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(g),x.length>0){const w=r[p].map(j=>j.presence_ref),S=x.filter(j=>w.indexOf(j.presence_ref)<0);r[p].unshift(...S)}s(p,x,g)}),this.map(h,(p,g)=>{let y=r[p];if(!y)return;const x=g.map(w=>w.presence_ref);y=y.filter(w=>x.indexOf(w.presence_ref)<0),r[p]=y,u(p,y,g),y.length===0&&delete r[p]}),r}static map(r,l){return Object.getOwnPropertyNames(r).map(s=>l(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((l,s)=>{const u=r[s];return"metas"in u?l[s]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):l[s]=u,l},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(n0||(n0={}));var ci;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(ci||(ci={}));var Xn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class bd{constructor(r,l={config:{}},s){var u,c;if(this.topic=r,this.params=l,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new ui(this),this.broadcastEndpointURL=vy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,l=this.timeout){var s,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,y=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(j=>j.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[ci.PRESENCE]&&this.bindings[ci.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},S={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>r?.(Xn.CHANNEL_ERROR,j)),this._onClose(()=>r?.(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:j})=>{var k;if(this.socket.setAuth(),j===void 0){r?.(Xn.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,E=(k=M?.length)!==null&&k!==void 0?k:0,I=[];for(let O=0;O<E;O++){const q=M[O],{filter:{event:J,schema:re,table:ee,filter:V}}=q,te=j&&j[O];if(te&&te.event===J&&te.schema===re&&te.table===ee&&te.filter===V)I.push(Object.assign(Object.assign({},q),{id:te.id}));else{this.unsubscribe(),this.state=ft.errored,r?.(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(Xn.SUBSCRIBED);return}}).receive("error",j=>{this.state=ft.errored,r?.(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r?.(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,l={}){return await this.send({type:"presence",event:"track",payload:r},l.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,l,s){return this.state===ft.joined&&r===ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,l,s)}async httpSend(r,l,s={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:l,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,l={}){var s,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=l.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,g;const y=this._push(r.type,r,l.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ft.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new jc(this,wn.leave,{},r),s.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(r,l,s){const u=new AbortController,c=setTimeout(()=>u.abort(),s),h=await this.socket.fetch(r,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(c),h}_push(r,l,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,r,l,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>$1){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(r,l,s){return l}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,l,s){var u,c;const h=r.toLocaleLowerCase(),{close:p,error:g,leave:y,join:x}=wn;if(s&&[p,g,y,x].indexOf(h)>=0&&s!==this._joinRef())return;let S=this._onMessage(h,l,s);if(l&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(j=>{var k,M,E;return((k=j.filter)===null||k===void 0?void 0:k.event)==="*"||((E=(M=j.filter)===null||M===void 0?void 0:M.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===h}).map(j=>j.callback(S,s)):(c=this.bindings[h])===null||c===void 0||c.filter(j=>{var k,M,E,I,O,q;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const J=j.id,re=(k=j.filter)===null||k===void 0?void 0:k.event;return J&&((M=l.ids)===null||M===void 0?void 0:M.includes(J))&&(re==="*"||re?.toLocaleLowerCase()===((E=l.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const J=(O=(I=j?.filter)===null||I===void 0?void 0:I.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return J==="*"||J===((q=l?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof S=="object"&&"ids"in S){const k=S.data,{schema:M,table:E,commit_timestamp:I,type:O,errors:q}=k;S=Object.assign(Object.assign({},{schema:M,table:E,commit_timestamp:I,eventType:O,new:{},old:{},errors:q}),this._getPayloadRecords(k))}j.callback(S,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,l,s){const u=r.toLocaleLowerCase(),c={type:u,filter:l,callback:s};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,l){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&bd.isEqual(u.filter,l))})),this}static isEqual(r,l){if(Object.keys(r).length!==Object.keys(l).length)return!1;for(const s in r)if(r[s]!==l[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(wn.close,{},r)}_onError(r){this._on(wn.error,{},l=>r(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const l={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(l.new=e0(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(l.old=e0(r.columns,r.old_record)),l}}const Ec=()=>{},Hs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J1=[1e3,2e3,5e3,1e4],W1=1e4,Q1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X1{constructor(r,l){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fc,this.transport=null,this.heartbeatIntervalMs=Hs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ec,this.ref=0,this.reconnectTimer=null,this.logger=Ec,this.conn=null,this.sendBuffer=[],this.serializer=new V1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((s=l?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${r}/${Zc.websocket}`,this.httpEndpoint=vy(r),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D1.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const l=r.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L1}))}disconnect(r,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},r?this.conn.close(r,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const l=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const r=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,l,s){this.logger(r,l,s)}connectionState(){switch(this.conn&&this.conn.readyState){case oi.connecting:return ea.Connecting;case oi.open:return ea.Open;case oi.closing:return ea.Closing;default:return ea.Closed}}isConnected(){return this.connectionState()===ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,l={config:{}}){const s=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===s);if(u)return u;{const c=new bd(`realtime:${r}`,l,this);return this.channels.push(c),c}}push(r){const{topic:l,event:s,payload:u,ref:c}=r,h=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${l} ${s} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(H1,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Hs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let l=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${r}"`),l.unsubscribe())}_remove(r){this.channels=this.channels.filter(l=>l.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:u,payload:c,ref:h}=l,p=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${s} ${u} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(s)).forEach(y=>y._trigger(u,c,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(r){var l;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var l;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(wn.error))}_appendParams(r,l){if(Object.keys(l).length===0)return r;const s=r.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${r}${s}${u}`}_workerObjectUrl(r){let l;if(r)l=r;else{const s=new Blob([Q1],{type:"application/javascript"});l=URL.createObjectURL(s)}return l}_setConnectionState(r,l=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(r=null){let l;r?l=r:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(s=>{const u={access_token:l,version:U1};l&&s.updateJoinPayload(u),s.joinedOnce&&s._isJoined()&&s._push(wn.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${r}`,l)})}_triggerStateCallbacks(r,l){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(l)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new yy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var l,s,u,c,h,p,g,y,x;if(this.transport=(l=r?.transport)!==null&&l!==void 0?l:null,this.timeout=(s=r?.timeout)!==null&&s!==void 0?s:Fc,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:Hs.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:Ec,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(w=>J1[w-1]||W1),this.encode=(y=r?.encode)!==null&&y!==void 0?y:((w,S)=>S(JSON.stringify(w))),this.decode=(x=r?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class xd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ze(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class F1 extends xd{constructor(r,l,s){super(r),this.name="StorageApiError",this.status=l,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class td extends xd{constructor(r,l){super(r),this.name="StorageUnknownError",this.originalError=l}}const wd=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Z1=()=>Response,nd=i=>{if(Array.isArray(i))return i.map(l=>nd(l));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([l,s])=>{const u=l.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=nd(s)}),r},ex=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Tc=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},tx=(i,r,l)=>ue(void 0,void 0,void 0,function*(){const s=yield Z1();i instanceof s&&!l?.noResolveJson?i.json().then(u=>{const c=i.status||500,h=u?.statusCode||c+"";r(new F1(Tc(u),c,h))}).catch(u=>{r(new td(Tc(u),u))}):r(new td(Tc(i),i))}),nx=(i,r,l,s)=>{const u={method:i,headers:r?.headers||{}};return i==="GET"||!s?u:(ex(s)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(s)):u.body=s,r?.duplex&&(u.duplex=r.duplex),Object.assign(Object.assign({},u),l))};function gi(i,r,l,s,u,c){return ue(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(l,nx(r,s,u,c)).then(g=>{if(!g.ok)throw g;return s?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>tx(g,p,s))})})}function di(i,r,l,s){return ue(this,void 0,void 0,function*(){return gi(i,"GET",r,l,s)})}function xn(i,r,l,s,u){return ue(this,void 0,void 0,function*(){return gi(i,"POST",r,s,u,l)})}function rd(i,r,l,s,u){return ue(this,void 0,void 0,function*(){return gi(i,"PUT",r,s,u,l)})}function rx(i,r,l,s){return ue(this,void 0,void 0,function*(){return gi(i,"HEAD",r,Object.assign(Object.assign({},l),{noResolveJson:!0}),s)})}function Sd(i,r,l,s,u){return ue(this,void 0,void 0,function*(){return gi(i,"DELETE",r,s,u,l)})}class ax{constructor(r,l){this.downloadFn=r,this.shouldThrowOnError=l}then(r,l){return this.execute().then(r,l)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}var by;class lx{constructor(r,l){this.downloadFn=r,this.shouldThrowOnError=l,this[by]="BlobDownloadBuilder",this.promise=null}asStream(){return new ax(this.downloadFn,this.shouldThrowOnError)}then(r,l){return this.getPromise().then(r,l)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}by=Symbol.toStringTag;const ix={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sx{constructor(r,l={},s,u){this.shouldThrowOnError=!1,this.url=r,this.headers=l,this.bucketId=s,this.fetch=wd(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,l,s,u){return ue(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},r0),u);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const y=this._removeEmptyFolders(l),x=this._getFinalPath(y),w=yield(r=="PUT"?rd:xn)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}upload(r,l,s){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,l,s)})}uploadToSignedUrl(r,l,s,u){return ue(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",l);try{let g;const y=Object.assign({upsert:r0.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType);const w=yield rd(this.fetch,p.toString(),g,{headers:x});return{data:{path:c,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ze(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,l){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const u=Object.assign({},this.headers);l?.upsert&&(u["x-upsert"]="true");const c=yield xn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:u}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new xd("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:p},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}update(r,l,s){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,l,s)})}move(r,l,s){return ue(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}copy(r,l,s){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}createSignedUrl(r,l,s){return ue(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),c=yield xn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:l},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}createSignedUrls(r,l,s){return ue(this,void 0,void 0,function*(){try{const u=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:r},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}download(r,l){const u=typeof l?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(l?.transform||{}),h=c?`?${c}`:"",p=this._getFinalPath(r),g=()=>di(this.fetch,`${this.url}/${u}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new lx(g,this.shouldThrowOnError)}info(r){return ue(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{const s=yield di(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:nd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}exists(r){return ue(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{return yield rx(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s)&&s instanceof td){const u=s.originalError;if([400,404].includes(u?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,l){const s=this._getFinalPath(r),u=[],c=l?.download?`download=${l.download===!0?"":l.download}`:"";c!==""&&u.push(c);const p=typeof l?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(l?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${y}`)}}}remove(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Sd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}list(r,l,s){return ue(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},ix),l),{prefix:r||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},s),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}listV2(r,l){return ue(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},l),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const l=[];return r.width&&l.push(`width=${r.width}`),r.height&&l.push(`height=${r.height}`),r.resize&&l.push(`resize=${r.resize}`),r.format&&l.push(`format=${r.format}`),r.quality&&l.push(`quality=${r.quality}`),l.join("&")}}const xy="2.80.0",wy={"X-Client-Info":`storage-js/${xy}`};class ox{constructor(r,l={},s,u){this.shouldThrowOnError=!1;const c=new URL(r);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wy),l),this.fetch=wd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return ue(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(r);return{data:yield di(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}getBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}createBucket(r){return ue(this,arguments,void 0,function*(l,s={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}updateBucket(r,l){return ue(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}emptyBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}deleteBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Sd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(r){const l={};return r&&("limit"in r&&(l.limit=String(r.limit)),"offset"in r&&(l.offset=String(r.offset)),r.search&&(l.search=r.search),r.sortColumn&&(l.sortColumn=r.sortColumn),r.sortOrder&&(l.sortOrder=r.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}class ux{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wy),l),this.fetch=wd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}listBuckets(r){return ue(this,void 0,void 0,function*(){try{const l=new URLSearchParams;r?.limit!==void 0&&l.set("limit",r.limit.toString()),r?.offset!==void 0&&l.set("offset",r.offset.toString()),r?.sortColumn&&l.set("sortColumn",r.sortColumn),r?.sortOrder&&l.set("sortOrder",r.sortOrder),r?.search&&l.set("search",r.search);const s=l.toString(),u=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield di(this.fetch,u,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}deleteBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Sd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}}const _d={"X-Client-Info":`storage-js/${xy}`,"Content-Type":"application/json"};class Sy extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class kc extends Sy{constructor(r,l,s){super(r),this.name="StorageVectorsApiError",this.status=l,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cx extends Sy{constructor(r,l){super(r),this.name="StorageVectorsUnknownError",this.originalError=l}}var a0;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(a0||(a0={}));const Cd=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),dx=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},l0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),fx=(i,r,l)=>ue(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const u=i.status||500,c=i;if(typeof c.json=="function")c.json().then(h=>{const p=h?.statusCode||h?.code||u+"";r(new kc(l0(h),u,p))}).catch(()=>{const h=u+"",p=c.statusText||`HTTP ${u} error`;r(new kc(p,u,h))});else{const h=u+"",p=c.statusText||`HTTP ${u} error`;r(new kc(p,u,h))}}else r(new cx(l0(i),i))}),hx=(i,r,l,s)=>{const u={method:i,headers:r?.headers||{}};return s?(dx(s)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(s)):u.body=s,Object.assign(Object.assign({},u),l)):u};function px(i,r,l,s,u,c){return ue(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(l,hx(r,s,u,c)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>fx(g,p,s))})})}function Wt(i,r,l,s,u){return ue(this,void 0,void 0,function*(){return px(i,"POST",r,s,u,l)})}class gx{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_d),l),this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}getIndex(r,l){return ue(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:l},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}listIndexes(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}deleteIndex(r,l){return ue(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:l},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}}class yx{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_d),l),this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return ue(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}getVectors(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}listVectors(r){return ue(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield Wt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}queryVectors(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}deleteVectors(r){return ue(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}}class mx{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_d),l),this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}getBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}listBuckets(){return ue(this,arguments,void 0,function*(r={}){try{return{data:yield Wt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}deleteBucket(r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}})}}class vx extends mx{constructor(r,l={}){super(r,l.headers||{},l.fetch)}from(r){return new bx(this.url,this.headers,r,this.fetch)}}class bx extends gx{constructor(r,l,s,u){super(r,l,u),this.vectorBucketName=s}createIndex(r){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(l={}){return r.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new xx(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class xx extends yx{constructor(r,l,s,u,c){super(r,l,c),this.vectorBucketName=s,this.indexName=u}putVectors(r){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(l={}){return r.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wx extends ox{constructor(r,l={},s,u){super(r,l,s,u)}from(r){return new sx(this.url,this.headers,r,this.fetch)}get vectors(){return new vx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ux(this.url+"/iceberg",this.headers,this.fetch)}}const Sx="2.80.0";let ii="";typeof Deno<"u"?ii="deno":typeof document<"u"?ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ii="react-native":ii="node";const _x={"X-Client-Info":`supabase-js-${ii}/${Sx}`},Cx={headers:_x},Ax={schema:"public"},jx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ex={},Tx=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),kx=()=>Headers,Rx=(i,r,l)=>{const s=Tx(l),u=kx();return async(c,h)=>{var p;const g=(p=await r())!==null&&p!==void 0?p:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),s(c,Object.assign(Object.assign({},h),{headers:y}))}};function Ox(i){return i.endsWith("/")?i:i+"/"}function zx(i,r){var l,s;const{db:u,auth:c,realtime:h,global:p}=i,{db:g,auth:y,realtime:x,global:w}=r,S={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(l=w?.headers)!==null&&l!==void 0?l:{}),(s=p?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return i.accessToken?S.accessToken=i.accessToken:delete S.accessToken,S}function Mx(i){const r=i?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ox(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _y="2.80.0",Fa=30*1e3,ad=3,Rc=ad*Fa,Bx="http://localhost:9999",Dx="supabase.auth.token",Nx={"X-Client-Info":`gotrue-js/${_y}`},ld="X-Supabase-Api-Version",Cy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ux=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lx=600*1e3;class fi extends Error{constructor(r,l,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=s}}function ce(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Hx extends fi{constructor(r,l,s){super(r,l,s),this.name="AuthApiError",this.status=l,this.code=s}}function $x(i){return ce(i)&&i.name==="AuthApiError"}class ta extends fi{constructor(r,l){super(r),this.name="AuthUnknownError",this.originalError=l}}class Er extends fi{constructor(r,l,s,u){super(r,s,u),this.name=l,this.status=s}}class vn extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vx(i){return ce(i)&&i.name==="AuthSessionMissingError"}class Pa extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends Er{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends Er{constructor(r,l=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qx(i){return ce(i)&&i.name==="AuthImplicitGrantRedirectError"}class i0 extends Er{constructor(r,l=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class id extends Er{constructor(r,l){super(r,"AuthRetryableFetchError",l,void 0)}}function Oc(i){return ce(i)&&i.name==="AuthRetryableFetchError"}class s0 extends Er{constructor(r,l,s){super(r,"AuthWeakPasswordError",l,"weak_password"),this.reasons=s}}class sd extends Er{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o0=` 	
\r=`.split(""),Gx=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<o0.length;r+=1)i[o0[r].charCodeAt(0)]=-2;for(let r=0;r<Qs.length;r+=1)i[Qs[r].charCodeAt(0)]=r;return i})();function u0(i,r,l){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;l(Qs[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;l(Qs[s]),r.queuedBits-=6}}function Ay(i,r,l){const s=Gx[i];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)l(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function c0(i){const r=[],l=h=>{r.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{Yx(h,s,l)};for(let h=0;h<i.length;h+=1)Ay(i.charCodeAt(h),u,c);return r.join("")}function Px(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Ix(i,r){for(let l=0;l<i.length;l+=1){let s=i.charCodeAt(l);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(i.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}Px(s,r)}}function Yx(i,r,l){if(r.utf8seq===0){if(i<=127){l(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&l(r.codepoint)}}function el(i){const r=[],l={queue:0,queuedBits:0},s=u=>{r.push(u)};for(let u=0;u<i.length;u+=1)Ay(i.charCodeAt(u),l,s);return new Uint8Array(r)}function Kx(i){const r=[];return Ix(i,l=>r.push(l)),new Uint8Array(r)}function ra(i){const r=[],l={queue:0,queuedBits:0},s=u=>{r.push(u)};return i.forEach(u=>u0(u,l,s)),u0(null,l,s),r.join("")}function Jx(i){return Math.round(Date.now()/1e3)+i}function Wx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const r=Math.random()*16|0;return(i=="x"?r:r&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},jy=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function Qx(i){const r={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return l.searchParams.forEach((s,u)=>{r[u]=s}),r}const Ey=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Xx=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Za=async(i,r,l)=>{await i.setItem(r,JSON.stringify(l))},Wr=async(i,r)=>{const l=await i.getItem(r);if(!l)return null;try{return JSON.parse(l)}catch{return l}},_r=async(i,r)=>{await i.removeItem(r)};class ro{constructor(){this.promise=new ro.promiseConstructor((r,l)=>{this.resolve=r,this.reject=l})}}ro.promiseConstructor=Promise;function zc(i){const r=i.split(".");if(r.length!==3)throw new sd("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!Ux.test(r[s]))throw new sd("JWT not in base64url format");return{header:JSON.parse(c0(r[0])),payload:JSON.parse(c0(r[1])),signature:el(r[2]),raw:{header:r[0],payload:r[1]}}}async function Fx(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function Zx(i,r){return new Promise((s,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!r(c,null,h)){s(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function ew(i){return("0"+i.toString(16)).substr(-2)}function tw(){const r=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=l.length;let u="";for(let c=0;c<56;c++)u+=l.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(r),Array.from(r,ew).join("")}async function nw(i){const l=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(s);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function rw(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await nw(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ia(i,r,l=!1){const s=tw();let u=s;l&&(u+="/PASSWORD_RECOVERY"),await Za(i,`${r}-code-verifier`,u);const c=await rw(s);return[c,s===c?"plain":"s256"]}const aw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lw(i){const r=i.headers.get(ld);if(!r||!r.match(aw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function iw(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function sw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ow=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ya(i){if(!ow.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mc(){const i={};return new Proxy(i,{get:(r,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const s=l.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uw(i,r){return new Proxy(i,{get:(l,s,u)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,s,u)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(l,s,u)}})}function d0(i){return JSON.parse(JSON.stringify(i))}const Zr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),cw=[502,503,504];async function f0(i){var r;if(!Xx(i))throw new id(Zr(i),0);if(cw.includes(i.status))throw new id(Zr(i),i.status);let l;try{l=await i.json()}catch(c){throw new ta(Zr(c),c)}let s;const u=lw(i);if(u&&u.getTime()>=Cy["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?s=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(s=l.error_code),s){if(s==="weak_password")throw new s0(Zr(l),i.status,((r=l.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new vn}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new s0(Zr(l),i.status,l.weak_password.reasons);throw new Hx(Zr(l),i.status||500,s)}const dw=(i,r,l,s)=>{const u={method:i,headers:r?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),l))};async function ye(i,r,l,s){var u;const c=Object.assign({},s?.headers);c[ld]||(c[ld]=Cy["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const h=(u=s?.query)!==null&&u!==void 0?u:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await fw(i,r,l+p,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function fw(i,r,l,s,u,c){const h=dw(r,s,u,c);let p;try{p=await i(l,Object.assign({},h))}catch(g){throw console.error(g),new id(Zr(g),0)}if(p.ok||await f0(p),s?.noResolveJson)return p;try{return await p.json()}catch(g){await f0(g)}}function bn(i){var r;let l=null;gw(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=Jx(i.expires_in)));const s=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:l,user:s},error:null}}function h0(i){const r=bn(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0)&&(r.data.weak_password=i.weak_password),r}function Ar(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function hw(i){return{data:i,error:null}}function pw(i){const{action_link:r,email_otp:l,hashed_token:s,redirect_to:u,verification_type:c}=i,h=ll(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:l,hashed_token:s,redirect_to:u,verification_type:c},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function p0(i){return i}function gw(i){return i.access_token&&i.refresh_token&&i.expires_in}const Bc=["global","local","others"];class yw{constructor({url:r="",headers:l={},fetch:s}){this.url=r,this.headers=l,this.fetch=Ey(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,l=Bc[0]){if(Bc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,l={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Ar})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:l}=r,s=ll(r,["options"]),u=Object.assign(Object.assign({},s),l);return"newEmail"in s&&(u.new_email=s?.newEmail,delete u.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:pw,redirectTo:l?.redirectTo})}catch(l){if(ce(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ar})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async listUsers(r){var l,s,u,c,h,p,g;try{const y={nextPage:null,lastPage:0,total:0},x=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:p0});if(x.error)throw x.error;const w=await x.json(),S=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(k=>{const M=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);y[`${E}Page`]=M}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(ce(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Ya(r);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ar})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async updateUserById(r,l){Ya(r);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:l,headers:this.headers,xform:Ar})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,l=!1){Ya(r);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:l},xform:Ar})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){Ya(r.userId);try{const{data:l,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:s}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _deleteFactor(r){Ya(r.userId),Ya(r.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _listOAuthClients(r){var l,s,u,c,h,p,g;try{const y={nextPage:null,lastPage:0,total:0},x=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:p0});if(x.error)throw x.error;const w=await x.json(),S=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(k=>{const M=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);y[`${E}Page`]=M}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(ce(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _getOAuthClient(r){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _updateOAuthClient(r,l){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:l,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}}function g0(i={}){return{getItem:r=>i[r]||null,setItem:(r,l)=>{i[r]=l},removeItem:r=>{delete i[r]}}}const Ka={debug:!!(globalThis&&jy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ty extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class mw extends Ty{}async function vw(i,r,l){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await l()}finally{Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(r===0)throw Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new mw(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ka.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function bw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ky(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function xw(i){return parseInt(i,16)}function ww(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function Sw(i){var r;const{chainId:l,domain:s,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:g,resources:y,scheme:x,uri:w,version:S}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const j=ky(i.address),k=x?`${x}://${s}`:s,M=i.statement?`${i.statement}
`:"",E=`${k} wants you to sign in with your Ethereum account:
${j}

${M}`;let I=`URI: ${w}
Version: ${S}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(I+=`
Expiration Time: ${u.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),g&&(I+=`
Request ID: ${g}`),y){let O=`
Resources:`;for(const q of y){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);O+=`
- ${q}`}I+=O}return`${E}
${I}`}class ot extends Error{constructor({message:r,code:l,cause:s,name:u}){var c;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=u??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=l}}class Xs extends ot{constructor(r,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:r}),this.name="WebAuthnUnknownError",this.originalError=l}}function _w({error:i,options:r}){var l,s,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ot({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(Ry(h)){if(c.rp.id!==h)return new ot({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Cw({error:i,options:r}){const{publicKey:l}=r;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ot({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(Ry(s)){if(l.rpId!==s)return new ot({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Aw{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const jw=new Aw;function Ew(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:l,excludeCredentials:s}=i,u=ll(i,["challenge","user","excludeCredentials"]),c=el(r).buffer,h=Object.assign(Object.assign({},l),{id:el(l.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:h});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const y=s[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:el(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function Tw(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:l}=i,s=ll(i,["challenge","allowCredentials"]),u=el(r).buffer,c=Object.assign(Object.assign({},s),{challenge:u});if(l&&l.length>0){c.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const p=l[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:el(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function kw(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:ra(new Uint8Array(i.response.attestationObject)),clientDataJSON:ra(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=l.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Rw(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,s=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ra(new Uint8Array(u.authenticatorData)),clientDataJSON:ra(new Uint8Array(u.clientDataJSON)),signature:ra(new Uint8Array(u.signature)),userHandle:u.userHandle?ra(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=l.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Ry(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function y0(){var i,r;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Ow(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Xs("Browser returned unexpected credential type",r)}:{data:null,error:new Xs("Empty credential response",r)}}catch(r){return{data:null,error:_w({error:r,options:i})}}}async function zw(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Xs("Browser returned unexpected credential type",r)}:{data:null,error:new Xs("Empty credential response",r)}}catch(r){return{data:null,error:Cw({error:r,options:i})}}}const Mw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Bw={userVerification:"preferred",hints:["security-key"]};function Fs(...i){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of i)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))s[c]=h;else if(l(h))s[c]=h;else if(r(h)){const p=s[c];r(p)?s[c]=Fs(p,h):s[c]=Fs(h)}else s[c]=h}return s}function Dw(i,r){return Fs(Mw,i,r||{})}function Nw(i,r){return Fs(Bw,i,r||{})}class Uw{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:l,friendlyName:s,signal:u},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:l});if(!h)return{data:null,error:p};const g=u??jw.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${s}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Dw(h.webauthn.credential_options.publicKey,c?.create),{data:x,error:w}=await Ow({publicKey:y,signal:g});return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const y=Nw(h.webauthn.credential_options.publicKey,c?.request),{data:x,error:w}=await zw(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new ta("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:l,webauthn:s}){return this.client.mfa.verify({factorId:l,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}},c){if(!l)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!y0())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:l,rpOrigins:s},signal:u},{request:c});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:l,rpOrigins:s,credential_response:g.credential_response}})}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new ta("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u},c){if(!l)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!y0())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===r&&S.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:s},signal:u},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:l,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new ta("Unexpected error in register",h)}}}}bw();const Lw={url:Bx,storageKey:Dx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function m0(i,r,l){return await l()}const Ja={};class hi{get jwks(){var r,l;return(l=(r=Ja[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(r){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,l;return(l=(r=Ja[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{cachedAt:r})}constructor(r){var l,s,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Lw),r);if(this.storageKey=c.storageKey,this.instanceID=(l=hi.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&kt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new yw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Ey(c.fetch),this.lock=c.lock||m0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:kt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=vw:this.lock=m0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:jy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=g0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=g0(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_y}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let l={},s="none";if(kt()&&(l=Qx(window.location.href),this._isImplicitGrantCallback(l)?s="implicit":await this._isPKCECallback(l)&&(s="pkce")),kt()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:c}=await this._getSessionFromURL(l,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),qx(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ce(l)?this._returnResult({error:l}):this._returnResult({error:new ta("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var l,s,u;try{const c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(l=r?.options)===null||l===void 0?void 0:l.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:bn}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var l,s,u;try{let c;if("email"in r){const{email:x,password:w,options:S}=r;let j=null,k=null;this.flowType==="pkce"&&([j,k]=await Ia(this.storage,this.storageKey)),c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:x,password:w,data:(l=S?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:j,code_challenge_method:k},xform:bn})}else if("phone"in r){const{phone:x,password:w,options:S}=r;c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(s=S?.data)!==null&&s!==void 0?s:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:bn})}else throw new $s("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let l;if("email"in r){const{email:c,password:h,options:p}=r;l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:h0})}else if("phone"in r){const{phone:c,password:h,options:p}=r;l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:h0})}else throw new $s("You must provide either an email or phone number and a password");const{data:s,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s||!s.session||!s.user){const c=new Pa;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(r){var l,s,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(l=r.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:l}=r;switch(l){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(r){var l,s,u,c,h,p,g,y,x,w,S;let j,k;if("message"in r)j=r.message,k=r.signature;else{const{chain:M,wallet:E,statement:I,options:O}=r;let q;if(kt())if(typeof E=="object")q=E;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")q=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=E}const J=new URL((l=O?.url)!==null&&l!==void 0?l:window.location.href),re=await q.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!re||re.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=ky(re[0]);let V=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!V){const we=await q.request({method:"eth_chainId"});V=xw(we)}const te={domain:J.host,address:ee,statement:I,uri:J.href,version:"1",chainId:V,nonce:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=O?.signInWithEthereum)===null||x===void 0?void 0:x.resources};j=Sw(te),k=await q.request({method:"personal_sign",params:[ww(j),ee]})}try{const{data:M,error:E}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:k},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:bn});if(E)throw E;if(!M||!M.session||!M.user){const I=new Pa;return this._returnResult({data:{user:null,session:null},error:I})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:E})}catch(M){if(ce(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async signInWithSolana(r){var l,s,u,c,h,p,g,y,x,w,S,j;let k,M;if("message"in r)k=r.message,M=r.signature;else{const{chain:E,wallet:I,statement:O,options:q}=r;let J;if(kt())if(typeof I=="object")J=I;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))J=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=I}const re=new URL((l=q?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in J&&J.signIn){const ee=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:re.host,uri:re.href}),O?{statement:O}:null));let V;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")V=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)V=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)k=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),M=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${re.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${re.href}`,`Issued At: ${(u=(s=q?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=q?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((h=q?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((g=q?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((w=(x=q?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...q.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const ee=await J.signMessage(new TextEncoder().encode(k),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=ee}}try{const{data:E,error:I}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ra(M)},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:bn});if(I)throw I;if(!E||!E.session||!E.user){const O=new Pa;return this._returnResult({data:{user:null,session:null},error:O})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:I})}catch(E){if(ce(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(r){const l=await Wr(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(l??"").split("/");try{const{data:c,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:bn});if(await _r(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new Pa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:l,provider:s,token:u,access_token:c,nonce:h}=r,p=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:bn}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const x=new Pa;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(r){var l,s,u,c,h;try{if("email"in r){const{email:p,options:g}=r;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Ia(this.storage,this.storageKey));const{error:w}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:g}=r,{data:y,error:x}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:x})}throw new $s("You must provide either an email or phone number.")}catch(p){if(ce(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var l,s;try{let u,c;"options"in r&&(u=(l=r.options)===null||l===void 0?void 0:l.redirectTo,c=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:p}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:bn});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var l,s,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Ia(this.storage,this.storageKey));const p=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(l=r.options)===null||l===void 0?void 0:l.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:hw});return this._returnResult(p)}catch(c){if(ce(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:l},error:s}=r;if(s)throw s;if(!l)throw new vn;const{error:u}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const l=`${this.url}/resend`;if("email"in r){const{email:s,type:u,options:c}=r,{error:h}=await ye(this.fetch,"POST",l,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:s,type:u,options:c}=r,{data:h,error:p}=await ye(this.fetch,"POST",l,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new $s("You must provide either an email or phone number and a type")}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(r,l){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=l();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await r(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const l=await Wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?r=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<Rc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const h=await Wr(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=Mc()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=uw(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ar}):await this._useSession(async l=>{var s,u,c;const{data:h,error:p}=l;if(p)throw p;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ar})})}catch(l){if(ce(l))return Vx(l)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(r,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,l))}async _updateUser(r,l={}){try{return await this._useSession(async s=>{const{data:u,error:c}=s;if(c)throw c;if(!u.session)throw new vn;const h=u.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await Ia(this.storage,this.storageKey));const{data:y,error:x}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:Ar});if(x)throw x;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(ce(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vn;const l=Date.now()/1e3;let s=l,u=!0,c=null;const{payload:h}=zc(r.access_token);if(h.exp&&(s=h.exp,u=s<=l),u){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:s-l,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(l){if(ce(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async l=>{var s;if(!r){const{data:h,error:p}=l;if(p)throw p;r=(s=h.session)!==null&&s!==void 0?s:void 0}if(!r?.refresh_token)throw new vn;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(r,l){try{if(!kt())throw new Vs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Vs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new i0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new i0("No code detected.");const{data:O,error:q}=await this._exchangeCodeForSession(r.code);if(q)throw q;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:p,expires_at:g,token_type:y}=r;if(!c||!p||!h||!y)throw new Vs("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(p);let S=x+w;g&&(S=parseInt(g));const j=S-x;j*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const k=S-w;x-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,S,x):x-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,S,x);const{data:M,error:E}=await this._getUser(c);if(E)throw E;const I={provider_token:s,provider_refresh_token:u,access_token:c,expires_in:w,expires_at:S,refresh_token:h,token_type:y,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const l=await Wr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&l)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async l=>{var s;const{data:u,error:c}=l;if(c)return this._returnResult({error:c});const h=(s=u.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!($x(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const l=Wx(),s={id:l,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async l=>{var s,u;try{const{data:{session:c},error:h}=l;if(h)throw h;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,l={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ia(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(c){if(ce(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:l,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=l.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var l;try{const{data:s,error:u}=await this._useSession(async c=>{var h,p,g,y,x;const{data:w,error:S}=c;if(S)throw S;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",j,{headers:this.headers,jwt:(x=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return kt()&&!(!((l=r.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:r.provider,url:s?.url},error:null})}catch(s){if(ce(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async l=>{var s;try{const{error:u,data:{session:c}}=l;if(u)throw u;const{options:h,provider:p,token:g,access_token:y,nonce:x}=r,w=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:g,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:bn}),{data:S,error:j}=w;return j?this._returnResult({data:{user:null,session:null},error:j}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Pa}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:j}))}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async l=>{var s,u;const{data:c,error:h}=l;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(r){const l=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{const s=Date.now();return await Zx(async u=>(u>0&&await Fx(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:bn})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Oc(c)&&Date.now()+h-s<Fa})}catch(s){if(this._debug(l,"error",s),ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(l,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,l){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",l,"url",s),kt()&&!l.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,l;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await Wr(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Za(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h?.user)!==null&&r!==void 0?r:Mc()}else if(u&&!u.user&&!u.user){const h=await Wr(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await _r(this.storage,this.storageKey+"-user"),await Za(this.storage,this.storageKey,u)):u.user=Mc()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const c=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Rc;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Rc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Oc(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var l,s;if(!r)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ro;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new vn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ce(c)){const h={data:null,error:c};return Oc(c)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,l,s=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",l,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:l});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,l)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const l=Object.assign({},r),s=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&l.user&&await Za(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const c=d0(u);await Za(this.storage,this.storageKey,c)}else{const u=d0(l);await Za(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async l=>{const{data:{session:s}}=l;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-r)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Fa}ms, refresh threshold is ${ad} ticks`),u<=ad&&await this._callRefreshToken(s.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Ty)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const l=`#_onVisibilityChanged(${r})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,l,s){const u=[`provider=${encodeURIComponent(l)}`];if(s?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,h]=await Ia(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);u.push(c.toString())}return s?.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async l=>{var s;const{data:u,error:c}=l;return c?this._returnResult({data:null,error:c}):await ye(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(r){try{return await this._useSession(async l=>{var s,u;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:u,error:c}=l;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?kw(r.webauthn.credential_response):Rw(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:u,error:c}=l;if(c)return this._returnResult({data:null,error:c});const h=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ew(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Tw(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(r){const{data:l,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:l.id,code:r.code})}async _listFactors(){var r;const{data:{user:l},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=l?.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,l;const{data:{session:s},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=zc(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((l=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async l=>{const{data:{session:s},error:u}=l;return u?this._returnResult({data:null,error:u}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new vn})})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(r,l){try{return await this._useSession(async s=>{const{data:{session:u},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new vn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&kt()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,l){try{return await this._useSession(async s=>{const{data:{session:u},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new vn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&kt()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,l={keys:[]}){let s=l.keys.find(p=>p.kid===r);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(p=>p.kid===r),s&&this.jwks_cached_at+Lx>u)return s;const{data:c,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,s=c.keys.find(p=>p.kid===r),!s)?null:s}async getClaims(r,l={}){try{let s=r;if(!s){const{data:j,error:k}=await this.getSession();if(k||!j.session)return this._returnResult({data:null,error:k});s=j.session.access_token}const{header:u,payload:c,signature:h,raw:{header:p,payload:g}}=zc(s);l?.allowExpired||iw(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:j}=await this.getUser(s);if(j)throw j;return{data:{claims:c,header:u,signature:h},error:null}}const x=sw(u.alg),w=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,h,Kx(`${p}.${g}`)))throw new sd("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}}hi.nextInstanceID={};const Hw=hi;class $w extends Hw{constructor(r){super(r)}}class Vw{constructor(r,l,s){var u,c,h;this.supabaseUrl=r,this.supabaseKey=l;const p=Mx(r);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:Ax,realtime:Ex,auth:Object.assign(Object.assign({},jx),{storageKey:g}),global:Cx},x=zx(s??{},y);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=x.auth)!==null&&h!==void 0?h:{},this.headers,x.global.fetch),this.fetch=Rx(l,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new B1(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new wx(this.storageUrl.href,this.headers,this.fetch,s?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new R1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,l={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,l,s)}channel(r,l={config:{}}){return this.realtime.channel(r,l)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,l;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(l=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:l,detectSessionInUrl:s,storage:u,userStorage:c,storageKey:h,flowType:p,lock:g,debug:y,throwOnError:x},w,S){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $w({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),w),storageKey:h,autoRefreshToken:r,persistSession:l,detectSessionInUrl:s,storage:u,userStorage:c,flowType:p,lock:g,debug:y,throwOnError:x,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new X1(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,s)=>{this._handleTokenChanged(l,"CLIENT",s?.access_token)})}_handleTokenChanged(r,l,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qw=(i,r,l)=>new Vw(i,r,l);function Gw(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Gw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jt=qw("https://xhrufumfqgnwbgyfzowt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhocnVmdW1mcWdud2JneWZ6b3d0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0ODQ5OTYsImV4cCI6MjA3ODA2MDk5Nn0.JqnMUm0zW6Sr3TRjc3TptsOhiLnIl5OodJmnypbaKRg",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});async function Pw(i){const{data:r,error:l}=await jt.from("user_settings").select("settings, updated_at").eq("user_id",i).maybeSingle();return l?(console.warn("fetchCloudSettings error",l),{settings:null,updatedAt:null}):{settings:r?.settings??null,updatedAt:r?.updated_at??null}}async function v0(i,r){const{error:l}=await jt.from("user_settings").upsert({user_id:i,settings:r,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(l)throw l}const Zs="mazeMindUser",Iw=()=>{if(typeof window>"u")return null;try{const i=window.localStorage.getItem(Zs);return i?JSON.parse(i):null}catch(i){return console.error("Error parsing stored user",i),window.localStorage.removeItem(Zs),null}},b0=i=>i?{id:i.id,email:i.email??""}:null,Yw=()=>{if(typeof window>"u")return!1;const i=window.location.search??"";if(i&&new URLSearchParams(i).get("type")==="recovery")return!0;const r=window.location.hash??"";if(!r)return!1;const l=r.startsWith("#")?r.slice(1):r;return new URLSearchParams(l).get("type")==="recovery"},Oy=A.createContext(void 0);function Kw({children:i}){const r=A.useMemo(()=>{const x=Yw();return{isRecovery:x,user:x?null:Iw()}},[]),[l,s]=A.useState(r.isRecovery),[u,c]=A.useState(r.user),h=A.useRef(l),p=async()=>{try{await jt.auth.signOut({scope:"global"})}catch(x){console.warn("signOut failed, continuing with local cleanup",x)}finally{c(null);try{typeof window<"u"&&window.localStorage.removeItem("mazeMindUser")}catch{}}};A.useEffect(()=>{h.current=l},[l]),A.useEffect(()=>{typeof window>"u"||(u?window.localStorage.setItem(Zs,JSON.stringify(u)):window.localStorage.removeItem(Zs))},[u]);const g=async x=>{try{const{error:w}=await jt.from("profiles").upsert({id:x.id,email:x.email??""},{onConflict:"id"});w&&console.error("Error upserting profile:",w)}catch(w){console.error("Unexpected error upserting profile:",w)}};A.useEffect(()=>{let x=!0;(async()=>{try{const{data:j,error:k}=await jt.auth.getSession();if(k){console.error("Error getting Supabase session",k);return}if(!x)return;const M=j.session?.user??null;if(!M){h.current&&s(!1),c(null);return}if(h.current){c(null);return}const E=b0(M);c(E),M&&await g(M)}catch(j){console.error("Unexpected Supabase session error",j)}})();const{data:S}=jt.auth.onAuthStateChange(async(j,k)=>{const M=k?.user??null;if(j==="PASSWORD_RECOVERY"){s(!0),c(null);return}if(j==="SIGNED_OUT"){s(!1),c(null);return}if((j==="SIGNED_IN"||j==="TOKEN_REFRESHED")&&s(!1),h.current){c(null);return}c(b0(M)),M&&j==="SIGNED_IN"&&await g(M)});return()=>{x=!1,S.subscription.unsubscribe()}},[]);const y=A.useMemo(()=>({user:u,setUser:c,logout:p,isRecoverySession:l}),[u,l]);return f.jsx(Oy.Provider,{value:y,children:i})}const yi=()=>{const i=A.useContext(Oy);if(!i)throw new Error("useUser must be used within a UserProvider");return i},zy=A.createContext(void 0),Jw=({children:i})=>{const{user:r}=yi(),[l,s]=A.useState(()=>C1()),u=A.useRef(null),c=A.useRef(l);A.useEffect(()=>{c.current=l},[l]),A.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),A.useEffect(()=>{if(!r?.id){u.current&&(clearTimeout(u.current),u.current=null);return}let x=!1;return(async()=>{try{const S=c.current,{settings:j}=await Pw(r.id);if(x)return;if(!j){await v0(r.id,S);return}const k=gd(S,j);s(k),Gg(k)}catch(S){console.warn("No s'ha pogut hidratar settings del nvol",S)}})(),()=>{x=!0}},[r?.id]);const h=A.useCallback((x,w)=>{const S=()=>{v0(x,w).catch(j=>console.warn("upsertCloudSettings failed",j)),u.current=null};if(u.current&&clearTimeout(u.current),typeof window>"u"){S();return}u.current=window.setTimeout(S,400)},[]),p=A.useCallback(x=>{s(x),Gg(x),r?.id&&h(r.id,x)},[h,r?.id]),g=A.useCallback(x=>l.visuals[x]||l.visuals.home,[l]),y=A.useMemo(()=>({settings:l,updateSettings:p,getVisualSettings:g}),[l,p,g]);return f.jsx(zy.Provider,{value:y,children:i})},yt=()=>{const i=A.useContext(zy);if(i===void 0)throw new Error("useSettings must be used within a SettingsProvider");return i},x0={music:{src:c1,loop:!0,volume:.5},tick:{src:d1,volume:.7},tickFinal:{src:f1,volume:.8},start:{src:h1,volume:.7},crash:{src:p1,volume:.7},starLoss:{src:g1,volume:.7},reveal:{src:y1,volume:.7},toggleOn:{src:m1,volume:.7},toggleOff:{src:v1,volume:.7},win:{src:b1,volume:.8},fail:{src:x1,volume:.7},playBtn:{src:w1,volume:.7},slide:{src:S1,volume:.8},hover:{src:_1,volume:.5}},Qr=i=>{i&&(i.currentTime=0,i.play().catch(r=>console.error("Error en reproduir udio:",r)))},Wa=i=>{if(!i)return;const r=i.cloneNode(!0);r.volume=i.volume,r.play().catch(l=>console.error("Error en reproduir udio:",l))},on=()=>{const{settings:i}=yt(),{soundEffects:r,backgroundMusic:l}=i.game,s=A.useMemo(()=>{if(typeof window>"u")return new Map;const u=new Map;for(const c in x0){const h=c,p=x0[h],g=new Audio(p.src);g.loop=!!p.loop,g.volume=p.volume??1,g.preload="auto",g.load(),u.set(h,g)}return u},[]);return{playTick:A.useCallback(()=>{r&&Qr(s.get("tick"))},[s,r]),playTickFinal:A.useCallback(()=>{r&&Qr(s.get("tickFinal"))},[s,r]),playStart:A.useCallback(()=>{r&&Qr(s.get("start"))},[s,r]),playCrash:A.useCallback(()=>{r&&Qr(s.get("crash"))},[s,r]),playStarLoss:A.useCallback(()=>{r&&Qr(s.get("starLoss"))},[s,r]),playReveal:A.useCallback(()=>{r&&Qr(s.get("reveal"))},[s,r]),playToggleOn:A.useCallback(()=>{r&&Wa(s.get("toggleOn"))},[s,r]),playToggleOff:A.useCallback(()=>{r&&Wa(s.get("toggleOff"))},[s,r]),playWin:A.useCallback(()=>{r&&Qr(s.get("win"))},[s,r]),playFail:A.useCallback(()=>{r&&Wa(s.get("fail"))},[s,r]),playBtnSound:A.useCallback(()=>{r&&Wa(s.get("playBtn"))},[s,r]),playSlide:A.useCallback(()=>{r&&Wa(s.get("slide"))},[s,r]),playHover:A.useCallback(()=>{r&&Wa(s.get("hover"))},[s,r]),startMusic:A.useCallback(()=>{if(!l){const c=s.get("music");c&&(c.pause(),c.currentTime=0);return}const u=s.get("music");u&&u.play().catch(c=>{console.error("Error al reproduir msica:",c);const h=()=>{u.play().catch(()=>{}),window.removeEventListener("pointerdown",h),window.removeEventListener("keydown",h)};window.addEventListener("pointerdown",h,{once:!0}),window.addEventListener("keydown",h,{once:!0})})},[s,l]),stopMusic:A.useCallback(()=>{const u=s.get("music");u&&(u.pause(),u.currentTime=0)},[s])}},od="mazeMindProgress",Ww={levels:{},highestUnlocked:{easy:1,normal:1,hard:1}};function Qw(i){return Object.values(i.levels).filter(r=>r.stars>0).length}function Xw(i){return Object.values(i.levels).reduce((r,l)=>r+l.stars,0)}function Fw(i){return Object.values(i.levels).filter(r=>r.stars===3).length}function aa(){try{const i=localStorage.getItem(od);if(i){const r=JSON.parse(i);return{levels:r.levels||{},highestUnlocked:{easy:r.highestUnlocked?.easy||1,normal:r.highestUnlocked?.normal||1,hard:r.highestUnlocked?.hard||1}}}}catch(i){console.error("Error al carregar progrs:",i),localStorage.removeItem(od)}return{...Ww}}function Zw(i,r,l,s,u,c){const h=c?.baseProgress??aa(),p={levels:{...h.levels},highestUnlocked:{...h.highestUnlocked}},g=`${i}-${r}`,y=p.levels[g],x=y?.bestTime??null,w=y?.bestPoints??null,S=y?.stars??0,j=x===null||s<x?s:x,k=w===null||u>w?u:w,M=Math.max(S,l);p.levels[g]={stars:M,bestTime:j,bestPoints:k};const E=r+1;if(E<=15&&E>p.highestUnlocked[i]&&(p.highestUnlocked[i]=E),c?.persist??!0)try{localStorage.setItem(od,JSON.stringify(p)),localStorage.setItem("mazeMindLocalProgressPending","1")}catch(O){console.error("Error al guardar progrs:",O)}return p}function eS(i,r,l){const s=`${r}-${l}`;return i.levels[s]||null}function tS({user:i,onNavigate:r,onUserClick:l,onLogout:s,onSettingsClick:u,progress:c}){const{getVisualSettings:h}=yt(),p=h("home"),g=A.useMemo(()=>[{icon:"",label:"Nivells Superats",value:Qw(c)},{icon:"",label:"Estrelles",value:Xw(c)},{icon:"",label:"Nivells Perfectes",value:Fw(c)}],[c]),[y,x]=A.useState(!1),w=async()=>{if(i){if(y)return;x(!0);try{await s()}finally{x(!1)}}else l()},S=on(),[j,k]=A.useState(!1),[M,E]=A.useState(!1),I=()=>{S.playFail(),r()},O=()=>{S.playFail(),u()},q=()=>{S.playFail(),w()},J=A.useMemo(()=>({page:{minHeight:"100svh",width:"100vw",margin:0,background:p.backgroundColor,color:p.textColor,display:"grid",placeItems:"center",padding:24,boxSizing:"border-box"},userButton:{position:"absolute",top:"clamp(16px, 3vw, 24px)",right:"clamp(16px, 3vw, 24px)",background:p.surfaceColor,border:`1px solid ${p.borderColor}`,color:p.subtextColor,borderRadius:"50%",width:"48px",height:"48px",display:"grid",placeItems:"center",cursor:"pointer",boxShadow:G.shadow,zIndex:10,transition:"background 0.2s ease"},container:{width:"min(1100px, 100%)",display:"grid",justifyItems:"center",textAlign:"center",gap:24,paddingInline:"min(4vw, 40px)"},logoSvg:{width:80,height:80,filter:"brightness(0) invert(1)"},logoWrap:{background:`linear-gradient(135deg, ${p.accentColor1}, ${p.accentColor2})`,borderRadius:32,padding:24,marginBottom:16,boxShadow:G.shadow,fontSize:40,lineHeight:1,display:"grid",placeItems:"center"},title:{fontSize:"clamp(42px, 6vw, 68px)",fontWeight:900,margin:0,letterSpacing:"-0.02em",textShadow:"0 2px 0 rgba(0,0,0,.25)",color:p.textColor},subtitle:{fontSize:"clamp(16px, 1.6vw, 20px)",margin:0,maxWidth:760,color:p.subtextColor,marginInline:"auto"},statsGrid:{listStyle:"none",padding:0,margin:"8px 0 0 0",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,width:"80%"},statCard:{background:p.surfaceColor,border:`1px solid ${p.borderColor}`,borderRadius:16,padding:"16px 20px",display:"grid",justifyItems:"center",alignContent:"center",gap:8,boxShadow:G.shadow},statIcon:{fontSize:22,lineHeight:1},statValue:{fontSize:28,fontWeight:800,letterSpacing:"0.02em",color:p.textColor},statLabel:{fontSize:14,color:p.subtextColor},actionsCol:{display:"grid",gridTemplateColumns:"1fr",gap:12,width:"min(420px, 100%)",marginTop:8},playBtn:{padding:"16px",borderRadius:12,border:"2px solid transparent",background:`linear-gradient(90deg, ${p.accentColor1}, ${p.accentColor2})`,color:p.textColor,fontSize:18,fontWeight:800,cursor:"pointer",boxShadow:G.shadow,transition:"transform .05s ease",outline:"3px solid transparent"},secondaryBtn:{padding:"16px",borderRadius:12,border:`2px solid ${p.borderColor}`,background:"rgba(255,255,255,0.06)",color:p.textColor,fontSize:18,fontWeight:700,cursor:"pointer",transition:"transform .05s ease",outline:"3px solid transparent"},welcomeMessage:{color:p.subtextColor,fontSize:16,marginBottom:8}}),[p]);return f.jsxs("main",{role:"main",style:J.page,children:[f.jsx("button",{style:J.userButton,onClick:q,disabled:y,"aria-busy":y?"true":"false",onMouseEnter:()=>S.playHover(),"aria-label":i?`Compte de ${i.email}. Tancar sessi.`:"Iniciar sessi o registrar-se",children:i?f.jsx(Ib,{size:24}):f.jsx(N0,{size:24})}),f.jsxs("div",{style:J.container,"aria-labelledby":"title",children:[f.jsx("div",{style:J.logoWrap,role:"img","aria-label":"Logotip de MazeMind",children:f.jsx(U0,{style:J.logoSvg})}),f.jsx("h1",{id:"title",style:J.title,children:"MazeMind"}),f.jsx("p",{style:J.subtitle,children:"Entrena la teva memria visoespacial resolent laberints"}),f.jsx("ul",{style:J.statsGrid,"aria-label":"Estadstiques de progrs",children:g.map(re=>f.jsxs("li",{style:J.statCard,children:[f.jsx("div",{"aria-hidden":"true",style:J.statIcon,children:re.icon}),f.jsx("div",{style:J.statValue,"aria-live":"polite",children:re.value}),f.jsx("div",{style:J.statLabel,children:re.label})]},re.label))}),f.jsxs("nav",{id:"actions","aria-label":"Accions",style:J.actionsCol,children:[f.jsxs("button",{type:"button",style:{...J.playBtn,...j?{outline:`3px solid ${p.accentColor1}`,transform:"translateY(-1px) scale(1.01)"}:{}},onClick:I,onMouseEnter:()=>S.playHover(),onFocus:()=>{k(!0),S.playHover()},onBlur:()=>k(!1),"aria-label":"Jugar a MazeMind",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Jugar"]}),f.jsxs("button",{type:"button",style:{...J.secondaryBtn,...M?{outline:`3px solid ${p.accentColor2}`,transform:"translateY(-1px) scale(1.01)"}:{}},onClick:O,onMouseEnter:()=>S.playHover(),onFocus:()=>{E(!0),S.playHover()},onBlur:()=>E(!1),"aria-label":"Obrir configuraci",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Configuraci"]})]})]})]})}function nS(i){if(i===null)return null;const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}function rS({index:i,unlocked:r,difficulty:l,stars:s,bestTime:u,onPlay:c}){const h=on(),p=l.charAt(0).toUpperCase()+l.slice(1),{getVisualSettings:g}=yt(),y=g("levelSelect"),x={easy:{icon:f.jsx(nl,{size:18}),accent:y.easyColor,badgeBg:`${y.easyColor}26`},normal:{icon:f.jsx(pi,{size:18}),accent:y.normalColor,badgeBg:`${y.normalColor}26`},hard:{icon:f.jsx(fd,{size:18}),accent:y.hardColor,badgeBg:`${y.hardColor}26`}},w=`Jugar el nivell ${i} en dificultat ${p}`,S=`Nivell ${i} (Bloquejat)`,j=()=>{const E=[];for(let I=0;I<3;I++)E.push(f.jsx(Cr,{size:14,fill:I<s?G.normalYellow:"none",color:I<s?G.normalYellow:G.subtext+"80"},I));return E},k=nS(u),M={cardBase:{background:y.surfaceColor,border:`1px solid ${y.borderColor}`,borderRadius:16,padding:8,width:"100%",aspectRatio:"1/1",boxShadow:G.shadow,transition:"transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease",display:"flex"},cardLocked:{borderColor:y.borderColor,boxShadow:"none",opacity:.6},cardInner:{flexGrow:1,borderRadius:12,background:"linear-gradient(180deg, rgba(255,255,255,0.08), transparent)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"clamp(8px, 2vw, 12px)"},badge:{background:"rgba(255,255,255,.1)",borderRadius:"999px",padding:"4px 8px",fontSize:16,lineHeight:1},levelNum:{fontSize:32,fontWeight:800,color:y.textColor},stars:{color:y.subtextColor},starsContainer:{display:"flex",gap:"2px",margin:"4px 0"},bestTime:{display:"flex",alignItems:"center",gap:"4px",fontSize:12,color:y.subtextColor,margin:"0 0 8px 0"},playBtnBase:{width:"100%",padding:"10px 12px",border:"none",borderRadius:10,color:y.textColor,fontWeight:700,cursor:"pointer",fontSize:16,transition:"transform 0.1s ease"},lockedIcon:{flexGrow:1,display:"grid",placeItems:"center",fontSize:28}};return f.jsx("div",{style:{...M.cardBase,borderColor:r?x[l].accent+"60":y.borderColor,...r?{}:M.cardLocked},"aria-label":r?`Nivell ${i}`:S,"aria-disabled":!r,children:f.jsxs("div",{style:M.cardInner,children:[f.jsx("div",{style:{...M.badge,background:x[l].badgeBg,color:x[l].accent},children:x[l].icon}),f.jsx("div",{style:M.levelNum,children:i}),r?f.jsxs(f.Fragment,{children:[f.jsx("div",{style:M.starsContainer,"aria-label":`Puntuaci: ${s} de 3 estrelles`,children:j()}),k&&f.jsxs("div",{style:M.bestTime,"aria-label":`Millor temps: ${k}`,children:[f.jsx(Pc,{size:12})," ",k]}),f.jsxs("button",{style:{...M.playBtnBase,background:x[l].accent,color:G.bg},onClick:c,onMouseEnter:()=>h.playHover(),"aria-label":w,children:[f.jsx(Jb,{size:16})," Jugar"]})]}):f.jsx("div",{style:{...M.lockedIcon,color:x[l].accent+"90"},children:f.jsx(Yc,{size:28})})]})})}function Ne(i,r){const l=Math.max(0,Math.min(1,r));if(typeof i!="string"||i.includes("gradient"))return i;if(i.startsWith("#")){let u=i.slice(1);if(u.length===3&&(u=u.split("").map(c=>c+c).join("")),u.length===6||u.length===8){const c=parseInt(u.slice(0,2),16),h=parseInt(u.slice(2,4),16),p=parseInt(u.slice(4,6),16);return`rgba(${c}, ${h}, ${p}, ${l})`}}const s=i.match(/rgba?\(([^)]+)\)/);if(s){const u=s[1].split(",").map(c=>c.trim());if(u.length>=3){const[c,h,p]=u;return`rgba(${c}, ${h}, ${p}, ${l})`}}return i}const mn=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i,aS=i=>{const r=i.accentColor1,l=i.accentColor2,s=i.easyColor,u=i.normalColor,c=i.hardColor,h=Ne(i.textColor,.06),p=Ne(i.textColor,.16);return{styles:{overlay:{position:"fixed",inset:0,background:Ne(i.textColor,.75),display:"grid",placeItems:"center",zIndex:50,padding:"16px",backdropFilter:"blur(8px)"},modalContent:{background:i.surfaceColor,color:i.textColor,borderRadius:"16px",border:`1px solid ${i.borderColor}`,maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative"},header:{padding:"16px 24px",borderBottom:`1px solid ${i.borderColor}`,display:"flex",alignItems:"center",gap:"12px"},title:{fontSize:"1.5rem",fontWeight:700,margin:0},closeButton:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:i.subtextColor,cursor:"pointer",padding:"4px",borderRadius:"50%"},body:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},section:{display:"flex",flexDirection:"column",gap:"12px"},sectionTitle:{fontSize:"1.1rem",fontWeight:600,margin:0,display:"flex",alignItems:"center",gap:"8px",color:i.textColor},card:{background:h,borderRadius:"8px",padding:"16px",border:`1px solid ${i.borderColor}`},cardTitle:{fontWeight:600,marginBottom:"8px",color:i.textColor},cardText:{fontSize:"0.9rem",color:i.subtextColor,margin:0},stepItem:{display:"flex",alignItems:"start",gap:"12px"},stepNumber:{width:"32px",height:"32px",background:Ne(r,.2),borderRadius:"50%",display:"grid",placeItems:"center",fontWeight:700,color:r,flexShrink:0},keyDisplay:{background:p,padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace",fontSize:"0.8rem"},starRow:{display:"flex",alignItems:"center",gap:"8px"},controlsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},controlItem:{display:"flex",alignItems:"center",gap:"8px"},tutorialCard:{background:`linear-gradient(100deg, ${Ne(s,.15)}, ${Ne(l,.15)})`,border:`1px solid ${s}`,padding:"20px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"16px",textAlign:"left"},tutorialIconWrapper:{width:"64px",height:"64px",background:`linear-gradient(135deg, ${s}, ${l})`,borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},tutorialContent:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},tutorialButton:{background:`linear-gradient(90deg, ${s}, ${l})`,color:"#0A192F",border:"none",padding:"10px 16px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap",flexShrink:0},list:{paddingLeft:"20px",listStyle:"disc",color:i.subtextColor,fontSize:"0.9rem",marginTop:"8px"}},colors:{accentPrimary:r,accentSecondary:l,successColor:s,warningColor:u,dangerColor:c}}};function lS({open:i,onClose:r,onStartTutorial:l}){const{settings:s,getVisualSettings:u}=yt(),c=s.game,h=u("levelSelect"),{styles:p,colors:g}=A.useMemo(()=>aS(h),[h]);return i?f.jsx("div",{style:p.overlay,onClick:r,children:f.jsxs("div",{style:p.modalContent,onClick:y=>y.stopPropagation(),children:[f.jsx("button",{style:p.closeButton,onClick:r,"aria-label":"Tancar",children:f.jsx(pd,{size:24})}),f.jsxs("div",{style:p.header,children:[f.jsx(Kc,{size:28,color:g.accentSecondary}),f.jsx("h2",{style:p.title,children:"Com Jugar a MazeMind"})]}),f.jsxs("div",{style:p.body,children:[f.jsx("section",{style:p.section,children:f.jsxs("div",{style:p.card,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.accentSecondary,marginBottom:"8px"},children:[f.jsx(i1,{size:20})," Objectiu"]}),f.jsx("p",{style:p.cardText,children:"Entrena la teva memria visoespacial navegant per laberints invisibles. Memoritza el cam, desprs troba la sortida sense veure les parets!"})]})}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.accentPrimary},children:[f.jsx(Ic,{size:20,color:g.accentPrimary})," Com Jugar"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx("div",{style:p.stepNumber,children:"1"}),f.jsxs("div",{style:{flex:1},children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:" Fase de Memoritzaci"}),f.jsx("p",{style:p.cardText,children:"Veurs el laberint complet durant uns segons. Memoritza el cam des de l'inici (cercle) fins a la sortida (quadrat)."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx("div",{style:p.stepNumber,children:"2"}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Les Parets Desapareixen"}),f.jsx("p",{style:p.cardText,children:"Quan acabi el temps, les parets es tornaran invisibles. Ara has de recordar el cam!"})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx("div",{style:p.stepNumber,children:"3"}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Navega fins la Sortida"}),f.jsxs("p",{style:p.cardText,children:["Usa les Fletxes o les tecles "," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveUp)})," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveLeft)})," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveDown)})," ",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyMoveRight)})," per moure't."]})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.successColor},children:[f.jsx(Ic,{size:20,color:g.successColor})," Controls"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.controlsGrid,children:[f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(Sb,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveUp)]}),f.jsx("span",{children:"Amunt"})]}),f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(vb,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveDown)]}),f.jsx("span",{children:"Avall"})]}),f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(jr,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveLeft)]}),f.jsx("span",{children:"Esquerra"})]}),f.jsxs("div",{style:p.controlItem,children:[f.jsxs("kbd",{style:p.keyDisplay,children:[f.jsx(cd,{size:12,style:{marginBottom:-1}})," ",mn(c.keyMoveRight)]}),f.jsx("span",{children:"Dreta"})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.warningColor},children:[f.jsx(Cr,{size:20,color:g.warningColor})," Sistema d'Estrelles"]}),f.jsxs("div",{style:p.card,children:[f.jsx("p",{style:p.cardText,children:"Comences amb 1000 punts. Els punts disminueixen amb el temps i si uses ajudes. Les estrelles es basen en els punts finals:"}),f.jsxs("ul",{style:p.list,children:[f.jsx("li",{children:": 800+ punts"}),f.jsx("li",{children:": 400-799 punts"}),f.jsx("li",{children:": 1-399 punts"})]})]})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:{...p.sectionTitle,color:g.accentPrimary},children:[f.jsx(pi,{size:20,color:g.accentPrimary})," Ajudes Disponibles"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(rl,{size:20,color:g.accentPrimary,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Revelar (",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyHelpReveal)}),")"]}),f.jsx("p",{style:p.cardText,children:"Mostra el laberint durant 0.5 segons. 3 usos per nivell. Cost: 50 punts."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(to,{size:20,color:g.successColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Mostrar Cam (",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyHelpPath)}),")"]}),f.jsx("p",{style:p.cardText,children:"Mostra el cam que has recorregut. Activable/desactivable. Cost: +2 punts/segon mentre est activat."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(M0,{size:20,color:g.dangerColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Ajuda Xoc (",f.jsx("kbd",{style:p.keyDisplay,children:mn(c.keyHelpCrash)}),")"]}),f.jsx("p",{style:p.cardText,children:"Si xoques, mostra les parets properes. Activable/desactivable. Cost: 20 punts per xoc."})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:p.sectionTitle,children:[f.jsx(Gb,{size:20})," Modes de Joc"]}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(Kc,{size:20,color:g.accentPrimary,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Clssic"}),f.jsx("p",{style:p.cardText,children:"Supera els nivells predefinits en dificultats Fcil, Normal i Difcil. Guanya estrelles i desbloqueja el segent nivell."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(nl,{size:20,color:g.successColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Prctica IA"}),f.jsx("p",{style:p.cardText,children:"Entrena sense pressi. Juga laberints aleatoris adaptats al teu nivell a partir de la IA."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(D0,{size:20,color:g.warningColor,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Prctica Score"}),f.jsx("p",{style:p.cardText,children:"Juga laberints aleatoris que van pujant de dificultat i consegueix la puntuaci ms alta (mida, temps)."})]})]})}),f.jsx("div",{style:p.card,children:f.jsxs("div",{style:p.stepItem,children:[f.jsx(B0,{size:20,color:g.accentSecondary,style:{flexShrink:0}}),f.jsxs("div",{children:[f.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Lliure / Creador"}),f.jsx("p",{style:p.cardText,children:"Defineix la mida del laberint, el temps de memoritzaci, mode de dificultat i juga al teu gust."})]})]})})]}),f.jsxs("section",{style:p.section,children:[f.jsxs("h3",{style:p.sectionTitle,children:[f.jsx(Vb,{size:20})," Consells"]}),f.jsx("div",{style:p.card,children:f.jsxs("ul",{style:p.list,children:[f.jsx("li",{children:"Centra't en recordar els girs principals."}),f.jsx("li",{children:"Visualitza mentalment el recorregut mentre memoritzes."}),f.jsx("li",{children:"No tinguis por d'utilitzar les ajudes al principi."})]})})]}),f.jsxs("div",{style:p.tutorialCard,children:[f.jsx("div",{style:p.tutorialIconWrapper,children:f.jsx($g,{size:32,color:"#fff"})}),f.jsxs("div",{style:p.tutorialContent,children:[f.jsx("h3",{style:{...p.cardTitle,fontSize:"1.1rem",margin:0},children:"Primera vegada jugant?"}),f.jsx("p",{style:{...p.cardText,fontSize:"0.9rem",margin:"4px 0 0 0"},children:"Comena amb el segent tutorial guiat pas a pas i aprn jugant."})]}),f.jsxs("button",{style:p.tutorialButton,onClick:()=>{r(),l()},children:[f.jsx($g,{size:18})," Comenar Tutorial"]})]})]})]})}):null}const My="mazeMindPracticeBestScore";function iS(i){const r=la(),l=Math.max(r,i);try{localStorage.setItem(My,JSON.stringify(l))}catch(s){console.error("Error guardant best practice score:",s)}return l}function la(){try{const i=localStorage.getItem(My);if(!i)return 0;const r=JSON.parse(i);return typeof r=="number"&&!Number.isNaN(r)?r:0}catch{return 0}}const sS=i=>{const r=Ne(i.textColor,.7),l=Ne(i.textColor,.06);return{overlay:{position:"fixed",inset:0,background:r,backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:60,padding:"16px"},modalContent:{background:i.surfaceColor,color:i.textColor,borderRadius:"16px",border:`1px solid ${i.borderColor}`,maxWidth:"500px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative"},header:{padding:"16px 24px",borderBottom:`1px solid ${i.borderColor}`,display:"flex",alignItems:"center",gap:"12px"},title:{fontSize:"1.5rem",fontWeight:700,margin:0},closeButton:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:i.subtextColor,cursor:"pointer",padding:"4px",borderRadius:"50%"},body:{padding:"24px",display:"flex",flexDirection:"column",gap:"16px"},card:{background:l,border:`1px solid ${i.borderColor}`,borderRadius:"12px",padding:"20px",display:"flex",alignItems:"center",gap:"16px",cursor:"pointer",transition:"all 0.2s ease"},cardIcon:{width:"48px",height:"48px",borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},cardTitle:{fontWeight:600,fontSize:"1.1rem",margin:0},cardText:{fontSize:"0.9rem",color:i.subtextColor,margin:"4px 0 0 0"},bestScoreText:{fontSize:"0.8rem",opacity:.9}}};function oS({open:i,onClose:r,onStartIA:l,onStartNormal:s,onStartFree:u}){const c=on(),{getVisualSettings:h}=yt(),p=h("levelSelect"),g=A.useMemo(()=>sS(p),[p]),[y,x]=A.useState(0);if(A.useEffect(()=>{i&&x(la())},[i]),!i)return null;const w=S=>{c.playBtnSound(),S(),r()};return f.jsx("div",{style:g.overlay,onClick:r,children:f.jsxs("div",{style:g.modalContent,onClick:S=>S.stopPropagation(),children:[f.jsx("button",{style:g.closeButton,onClick:r,"aria-label":"Tancar",children:f.jsx(pd,{size:24})}),f.jsx("div",{style:g.header,children:f.jsx("h2",{style:g.title,children:"Modes de Prctica"})}),f.jsxs("div",{style:g.body,children:[f.jsxs("div",{style:g.card,onClick:()=>w(l),onMouseEnter:()=>c.playHover(),children:[f.jsx("div",{style:{...g.cardIcon,background:Ne(p.accentColor2,.2)},children:f.jsx(jb,{size:24,color:p.accentColor2})}),f.jsxs("div",{children:[f.jsx("h3",{style:g.cardTitle,children:"Prctica IA"}),f.jsx("p",{style:g.cardText,children:"Juga laberints aleatoris adaptats al teu nivell."})]})]}),f.jsxs("div",{style:g.card,onClick:()=>w(s),onMouseEnter:()=>c.playHover(),children:[f.jsx("div",{style:{...g.cardIcon,background:Ne(p.normalColor,.2)},children:f.jsx(D0,{size:24,color:p.normalColor})}),f.jsxs("div",{children:[f.jsx("h3",{style:g.cardTitle,children:"Prctica Score"}),f.jsxs("p",{style:g.cardText,children:["Juga laberints aleatoris que pugen de dificultat.",f.jsx("br",{}),f.jsxs("span",{style:g.bestScoreText,children:["Millor puntuaci: ",f.jsx("strong",{children:Math.round(y)})]})]})]})]}),f.jsxs("div",{style:g.card,onClick:()=>w(u),onMouseEnter:()=>c.playHover(),children:[f.jsx("div",{style:{...g.cardIcon,background:Ne(p.easyColor,.2)},children:f.jsx(B0,{size:24,color:p.easyColor})}),f.jsxs("div",{children:[f.jsx("h3",{style:g.cardTitle,children:"Mode Lliure / Creaci"}),f.jsx("p",{style:g.cardText,children:"Defineix la mida, temps i dificultat al teu gust."})]})]})]})]})})}const w0={easy:"Fcil",normal:"Normal",hard:"Difcil"},uS={easy:f.jsx(nl,{size:16}),normal:f.jsx(pi,{size:16}),hard:f.jsx(fd,{size:16})};function cS({onPlayLevel:i,onBack:r,onStartTutorial:l,progress:s,selectedDifficulty:u,onDifficultyChange:c,onStartPracticeIA:h,onStartPracticeNormal:p,onStartPracticeFree:g}){const y=on(),{getVisualSettings:x}=yt(),w=x("levelSelect"),S=A.useMemo(()=>({easy:w.easyColor,normal:w.normalColor,hard:w.hardColor}),[w]),j=u,[k,M]=A.useState(!1),[E,I]=A.useState(!1),O=A.useRef(null),[q,J]=A.useState({});A.useEffect(()=>{if(!O.current)return;const K=O.current.querySelectorAll("button"),se=["easy","normal","hard"].indexOf(j),me=K[se];J(me?{left:`${me.offsetLeft}px`,width:`${me.offsetWidth}px`,background:S[j],opacity:1}:{opacity:0})},[j,S]);const re=Array.from({length:15},(K,F)=>F+1),ee=s.highestUnlocked[j]||0,V=A.useCallback(()=>{y.playFail(),r()},[r,y]),te=A.useCallback((K,F)=>{y.playFail(),i(K,F)},[i,y]),we=A.useCallback(()=>{y.playFail(),I(!0)},[y]),ne=A.useMemo(()=>({page:{background:w.backgroundColor,color:w.textColor,minHeight:"100svh",width:"100vw",padding:"clamp(16px, 4vw, 32px)",boxSizing:"border-box"},container:{maxWidth:960,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,gap:16},title:{margin:0,fontSize:"clamp(24px, 5vw, 32px)"},backBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${w.borderColor}`,background:w.surfaceColor,color:w.textColor,cursor:"pointer",fontSize:16,width:100},diffBarContainer:{position:"relative",display:"flex",justifyContent:"center",background:w.surfaceColor,borderRadius:999,padding:"6px",marginBottom:32,boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"},diffTab:{flexGrow:1,padding:"10px 16px",borderRadius:999,border:"none",background:"transparent",color:w.subtextColor,fontWeight:600,cursor:"pointer",transition:"color 0.3s ease",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},diffIndicator:{position:"absolute",top:"6px",bottom:"6px",borderRadius:999,boxShadow:G.shadow,transition:"left 0.3s ease, width 0.3s ease, background 0.3s ease",zIndex:1,opacity:0},diffBar:{display:"flex",justifyContent:"center",gap:12,marginBottom:24},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"clamp(12px, 2vw, 20px)"},footer:{display:"flex",justifyContent:"center",marginTop:32},practiceBtn:{padding:"12px 20px",borderRadius:12,border:`1px solid ${w.borderColor}`,background:w.surfaceColor,color:w.textColor,fontSize:16,cursor:"pointer"}}),[w]);return f.jsxs(f.Fragment,{children:[f.jsx("main",{style:ne.page,children:f.jsxs("div",{style:ne.container,children:[f.jsxs("header",{style:ne.header,children:[f.jsxs("button",{style:ne.backBtn,onMouseEnter:()=>y.playHover(),onClick:V,"aria-label":"Tornar a la pantalla d'inici",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Inici"]}),f.jsx("div",{style:{textAlign:"center"},children:f.jsx("h1",{style:ne.title,children:"Selecciona el Nivell"})}),f.jsx("div",{style:{width:100}})]}),f.jsxs("div",{role:"tablist","aria-label":"Selector de dificultat",style:ne.diffBarContainer,ref:O,children:[f.jsx("div",{style:{...ne.diffIndicator,...q}}),["easy","normal","hard"].map(K=>f.jsxs("button",{role:"tab",onClick:()=>{y.playSlide(),c(K)},"aria-selected":j===K,style:{...ne.diffTab,color:j===K?w.textColor:w.subtextColor},children:[uS[K],w0[K]]},K))]}),f.jsx("section",{"aria-label":`Nivells de dificultat ${w0[j]}`,children:f.jsx("div",{style:ne.grid,children:re.map(K=>{const F=eS(s,j,K);return f.jsx(rS,{index:K,unlocked:K<=ee,difficulty:j,stars:F?.stars??0,bestTime:F?.bestTime??null,onPlay:()=>te(K,j)},`${j}-${K}`)})})}),f.jsxs("footer",{style:ne.footer,children:[f.jsxs("button",{style:ne.practiceBtn,onMouseEnter:()=>y.playHover(),onClick:we,children:[f.jsx(nl,{size:18,style:{marginBottom:-1}})," Mode Prctica"]}),f.jsx("div",{style:{width:12}}),f.jsxs("button",{style:ne.practiceBtn,onMouseEnter:()=>y.playHover(),onClick:()=>{y.playBtnSound(),M(!0)},children:[f.jsx(Ob,{size:18,style:{marginBottom:-2}})," Com Jugar"]})]})]})}),f.jsx(lS,{open:k,onClose:()=>M(!1),onStartTutorial:l}),f.jsx(oS,{open:E,onClose:()=>I(!1),onStartIA:h,onStartNormal:p,onStartFree:g})]})}function Ad({level:i,phase:r="memorize",playerPos:l,settings:s={},showReveal:u=!1,showPlayerPath:c=!1,crashPosition:h=null,forcePathHistory:p}){const g=A.useRef(null),y=A.useRef([]),x={path_color:"#EEF2FF",wall_color:"#3B82F6",wall_thickness:3,exit_color:"#F59E0B",player_color:"#111",player_path_color:"rgba(0, 0, 0, 0.4)",crash_help_color:"#E11D48",...s};return A.useEffect(()=>{const w=g.current;if(!w)return;r==="memorize"&&(y.current=[]);let S=[];if(p)S=p;else{if(r==="memorize"&&(y.current=[]),l){const k=y.current[y.current.length-1];(!k||k.x!==l.x||k.y!==l.y)&&y.current.push(l)}S=y.current}const j=()=>{const k=w.parentElement,M=Math.min(k.clientWidth,k.clientHeight);w.width=M,w.height=M;const E=w.getContext("2d"),I=Math.max(i.width,i.height),O=M/I,q=i.width*O,J=i.height*O,re=(M-q)/2,ee=(M-J)/2;E.fillStyle=x.path_color,E.fillRect(0,0,M,M);const V=re+i.exit.x*O,te=ee+i.exit.y*O,we=O*.7,ne=(O-we)/2;if(E.fillStyle=x.exit_color,E.roundRect?.(V+ne,te+ne,we,we,O*.15)??E.fillRect(V+ne,te+ne,we,we),E.fill(),r==="playing"&&c&&S.length>1){E.strokeStyle=x.player_path_color,E.lineWidth=x.wall_thickness,E.globalAlpha=.4,E.beginPath();const K=S[0];E.moveTo(re+K.x*O+O/2,ee+K.y*O+O/2);for(const F of S.slice(1))E.lineTo(re+F.x*O+O/2,ee+F.y*O+O/2);E.stroke(),E.globalAlpha=1}if(r==="memorize"||u){E.strokeStyle=x.wall_color,E.lineWidth=x.wall_thickness,E.lineCap="round",E.lineJoin="round";for(let K=0;K<i.height;K++)for(let F=0;F<i.width;F++){const se=i.maze[K][F],me=re+F*O,fe=ee+K*O;E.beginPath(),se.walls.top&&(E.moveTo(me,fe),E.lineTo(me+O,fe)),se.walls.right&&(E.moveTo(me+O,fe),E.lineTo(me+O,fe+O)),se.walls.bottom&&(E.moveTo(me,fe+O),E.lineTo(me+O,fe+O)),se.walls.left&&(E.moveTo(me,fe),E.lineTo(me,fe+O)),E.stroke()}}if(r==="playing"&&h){E.strokeStyle=x.crash_help_color,E.lineWidth=x.wall_thickness+2,E.lineCap="round",E.lineJoin="round";const{x:K,y:F}=h;for(let se=F-1;se<=F+1;se++)for(let me=K-1;me<=K+1;me++){if(me<0||se<0||me>=i.width||se>=i.height)continue;const fe=i.maze[se][me],z=re+me*O,W=ee+se*O;E.beginPath(),fe.walls.top&&(E.moveTo(z,W),E.lineTo(z+O,W)),fe.walls.right&&(E.moveTo(z+O,W),E.lineTo(z+O,W+O)),fe.walls.bottom&&(E.moveTo(z,W+O),E.lineTo(z+O,W+O)),fe.walls.left&&(E.moveTo(z,W),E.lineTo(z,W+O)),E.stroke()}}if((r==="playing"||r==="memorize")&&l){const K=re+l.x*O+O/2,F=ee+l.y*O+O/2,se=O*.3;E.fillStyle=x.player_color,E.beginPath(),E.arc(K,F,se,0,2*Math.PI),E.fill()}};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[i,r,l,u,c,h,x.path_color,x.wall_color,x.wall_thickness,x.exit_color,x.player_color,x.player_path_color,x.crash_help_color,p]),f.jsx("canvas",{ref:g,style:{width:"100%",height:"100%",borderRadius:12}})}function dS(i){const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}function fS(i){return i>=800?"":i>=400?"":i>0?"":""}const Qa=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function hS({gameTime:i,points:r,revealCharges:l,isPathHelpActive:s,isCrashHelpActive:u,onRevealHelp:c,onTogglePathHelp:h,onToggleCrashHelp:p,lives:g,difficulty:y}){const{getVisualSettings:x,settings:w}=yt(),S=x("levelScreen"),{game:j}=w,k={container:{display:"flex",flexWrap:"wrap",gap:"12px",width:"100%",alignItems:"stretch"},card:{background:S.surfaceColor,border:`1px solid ${S.borderColor}`,borderRadius:14,padding:"12px 16px",color:S.textColor,display:"flex",flexDirection:"column",gap:"4px",flexGrow:1,flexBasis:"180px"},helpsCard:{flexDirection:"row",flexWrap:"wrap",gap:"8px",flexBasis:"300px",justifyContent:"center",alignItems:"center"},label:{fontSize:14,color:S.subtextColor,display:"flex",alignItems:"center",gap:"4px",fontWeight:500},valueLarge:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:700,lineHeight:1},valueSmall:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:700,lineHeight:1},pointsStars:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",gap:"8px"},stars:{fontSize:18,color:S.normalColor,lineHeight:1.2},helpButton:{background:"rgba(255,255,255,0.08)",border:`1px solid ${S.borderColor}`,color:S.subtextColor,padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:13,fontWeight:600,flexGrow:1},helpActive:{background:S.easyColor,color:"#000",borderColor:"transparent"},livesText:{fontSize:"clamp(20px, 4vw, 28px)",fontWeight:700,lineHeight:1,letterSpacing:"0.1em"}};return f.jsxs("div",{style:k.container,children:[f.jsxs("div",{style:k.card,children:[f.jsx("span",{style:k.label,children:" Temps"}),f.jsx("span",{style:k.valueLarge,children:dS(i)})]}),y==="hard"&&f.jsxs("div",{style:k.card,children:[f.jsx("span",{style:k.label,children:" Vides"}),f.jsxs("span",{style:k.livesText,"aria-label":`${g} vides restants`,children:["".repeat(g),"".repeat(Math.max(0,3-g))]})]}),f.jsxs("div",{style:k.card,children:[f.jsx("span",{style:k.label,children:" Objectiu"}),f.jsxs("div",{style:k.pointsStars,children:[f.jsxs("span",{style:k.valueSmall,children:[r," pts"]}),f.jsx("span",{style:k.stars,children:fS(r)})]})]}),f.jsxs("div",{style:{...k.card,...k.helpsCard},children:[f.jsxs("button",{style:k.helpButton,onClick:c,disabled:l===0,title:`Mostra el laberint (${Qa(j.keyHelpReveal)}) | Cost: 50 pts`,children:[f.jsx(rl,{size:18}),f.jsxs("span",{children:["Revelar (",l,")"]}),f.jsx("kbd",{children:Qa(j.keyHelpReveal)})]}),f.jsxs("button",{style:{...k.helpButton,...s?k.helpActive:{}},onClick:h,title:`Mostra el cam recorregut (${Qa(j.keyHelpPath)}) | Cost: -2 pts/s`,children:[f.jsx(to,{size:18}),f.jsx("span",{children:"Cam"}),f.jsx("kbd",{children:Qa(j.keyHelpPath)})]}),y!=="hard"&&f.jsxs("button",{style:{...k.helpButton,...u?k.helpActive:{}},onClick:p,title:`Mostra parets properes al xocar (${Qa(j.keyHelpCrash)}) | Cost: -20 pts`,children:[f.jsx(M0,{size:18}),f.jsx("span",{children:"Ajuda Xoc"}),f.jsx("kbd",{children:Qa(j.keyHelpCrash)})]})]})]})}function pS(i){const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}function gS(i){return"".repeat(i)+"".repeat(3-i)}const yS=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Ne(i.textColor,.08);return{overlay:{position:"fixed",inset:0,background:Ne(i.surfaceColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:i.easyColor},results:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"16px",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:i.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600,color:i.textColor},starsValue:{color:i.normalColor},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function mS({levelNumber:i,stars:r,time:l,points:s,onRetry:u,onBack:c}){const h=on(),{getVisualSettings:p}=yt(),g=p("levelScreen"),y=A.useMemo(()=>yS(g),[g]);return f.jsx("div",{style:y.overlay,children:f.jsxs("div",{style:y.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsxs("h2",{id:"modalTitle",style:y.title,children:["Nivell ",i," Superat!"]}),f.jsxs("div",{style:y.results,children:[f.jsxs("div",{style:y.resultItem,children:[f.jsx("span",{style:y.resultLabel,children:"Estrelles"}),f.jsx("span",{style:{...y.resultValue,...y.starsValue},children:gS(r)})]}),f.jsxs("div",{style:y.resultItem,children:[f.jsx("span",{style:y.resultLabel,children:"Temps"}),f.jsx("span",{style:y.resultValue,children:pS(l)})]}),f.jsxs("div",{style:y.resultItem,children:[f.jsx("span",{style:y.resultLabel,children:"Punts"}),f.jsx("span",{style:y.resultValue,children:s})]})]}),f.jsxs("div",{style:y.actions,children:[f.jsxs("button",{onMouseEnter:()=>h.playHover(),style:y.retryButton,onClick:u,children:[f.jsx(hd,{size:18})," Tornar a Jugar"]}),f.jsxs("button",{onMouseEnter:()=>h.playHover(),style:y.backButton,onClick:c,children:[f.jsx(jr,{size:18})," Tornar als Nivells"]})]})]})})}const vS=i=>{const r=Ne(i.textColor,.08),l=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`;return{overlay:{position:"fixed",inset:0,background:Ne(i.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(400px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"16px"},iconWrapper:{lineHeight:1,marginTop:"8px",color:i.hardColor},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:i.hardColor},subtitle:{fontSize:16,color:i.subtextColor,margin:"-8px 0 8px 0"},results:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"16px 0",marginTop:4},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:12,color:i.subtextColor,textTransform:"uppercase",letterSpacing:"0.08em"},resultValue:{fontSize:"clamp(18px, 4vw, 24px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",marginTop:"8px"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:l,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:r,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function By({onRetry:i,onBack:r,score:l,bestScore:s,isPracticeScoreMode:u}){const c=on(),{getVisualSettings:h}=yt(),p=h("levelScreen"),g=A.useMemo(()=>vS(p),[p]),y=typeof l=="number"?Math.round(l):void 0,x=typeof s=="number"?Math.round(s):void 0;return f.jsx("div",{style:g.overlay,children:f.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsx("div",{style:g.iconWrapper,children:f.jsx(z0,{size:64})}),f.jsx("h2",{id:"modalTitle",style:g.title,children:u?"Game Over":"Has Perdut!"}),f.jsx("p",{style:g.subtitle,children:"T'has quedat sense vides."}),typeof y=="number"&&typeof x=="number"&&f.jsxs("div",{style:g.results,children:[f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Score Actual"}),f.jsx("span",{style:g.resultValue,children:y})]}),f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Millor score"}),f.jsx("span",{style:g.resultValue,children:x})]})]}),f.jsxs("div",{style:g.actions,children:[f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.retryButton,onClick:i,children:[f.jsx(hd,{size:18})," Tornar a Intentar"]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.backButton,onClick:r,children:[f.jsx(jr,{size:18})," Tornar als Nivells"]})]})]})})}function bS(i){const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}const xS=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Ne(i.textColor,.08),s={fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0};return{overlay:{position:"fixed",inset:0,background:Ne(i.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},title:s,results:{display:"grid",gridTemplateColumns:"1fr",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:i.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},newMazeButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},statusIcon:u=>({color:u?i.easyColor:i.hardColor,marginBottom:"-16px"}),statusTitle:u=>({...s,color:u?i.easyColor:i.hardColor})}};function wS({status:i,time:r,onRetrySameMaze:l,onRetryNewMaze:s,onBackToSettings:u}){const c=on(),{getVisualSettings:h}=yt(),p=h("levelScreen"),g=A.useMemo(()=>xS(p),[p]),y=i==="completed";return f.jsx("div",{style:g.overlay,children:f.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsx("div",{style:g.statusIcon(y),children:y?f.jsx(dd,{size:56}):f.jsx(z0,{size:56})}),f.jsx("h2",{id:"modalTitle",style:g.statusTitle(y),children:y?"Laberint Superat":"Derrota"}),f.jsx("div",{style:g.results,children:f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Temps Final"}),f.jsx("span",{style:g.resultValue,children:bS(r)})]})}),f.jsxs("div",{style:g.actions,children:[f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.retryButton,onClick:l,children:[f.jsx(hd,{size:18})," Repetir Laberint"]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.newMazeButton,onClick:s,children:[f.jsx(Cb,{size:18})," Nou Laberint (Mateixos Parmetres)"]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.backButton,onClick:u,children:[f.jsx(jr,{size:18})," Canviar Parmetres"]})]})]})})}const na=[{title:"Benvingut al Tutorial!",description:"Aprendrem junts com jugar a MazeMind. Prem 'Segent' per comenar.",icon:Kc},{title:"Memoritza el Laberint",description:"Fixa't b en el laberint. Les lnies sn parets que no pots travessar. Tu ets el cercle i el quadrat s la sortida.",icon:rl},{title:"Prepara't!",description:"En uns segons, les parets desapareixeran i haurs de recordar el cam. Intenta visualitzar mentalment la ruta.",icon:rl},{title:"Ara et toca!",description:"Usa les Fletxes o les tecles WASD configurades per moure't. Les parets sn invisibles per encara estan all! Intenta arribar a la sortida.",icon:Ic},{title:"Ajudes Disponibles",description:"Si et perds, pots usar les ajudes del HUD: 'Revelar' (costa punts), 'Mostrar Cam' o 'Ajuda Xoc' (costen punts per temps/s).",icon:pi},{title:"Tutorial Completat!",description:"Ja saps com jugar! Recorda que la prctica fa el mestre. Prem 'Comenar a Jugar!' per sortir del tutorial.",icon:dd}];function SS({step:i,onNext:r,onSkip:l}){const s=na[i]||na[0],u=s.icon,c=i===na.length-1,h={overlay:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",zIndex:100,display:"grid",placeItems:"center",padding:"16px"},card:{background:G.surface,color:G.text,borderRadius:"16px",border:`1px solid ${G.borderColor}`,maxWidth:"500px",width:"100%",padding:"24px",boxShadow:G.shadow},header:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"20px"},iconWrapper:{width:"50px",height:"50px",background:`linear-gradient(135deg, ${G.accentViolet}, ${G.accentBlue})`,borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},title:{fontSize:"1.4rem",fontWeight:700,margin:"0 0 4px 0"},stepCounter:{fontSize:"0.8rem",color:G.subtext,marginBottom:"8px"},description:{fontSize:"1rem",color:G.subtext,margin:0,lineHeight:1.6},progressBarTrack:{height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",marginBottom:"20px",overflow:"hidden"},progressBarFill:{height:"100%",background:`linear-gradient(90deg, ${G.accentViolet}, ${G.accentBlue})`,transition:"width 0.3s ease"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},skipButton:{background:"transparent",border:"none",color:G.subtext,cursor:"pointer",fontSize:"0.9rem"},nextButton:{background:`linear-gradient(90deg, ${G.accentViolet}, ${G.accentBlue})`,color:G.text,border:"none",padding:"10px 16px",borderRadius:"8px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}};return f.jsx("div",{style:h.overlay,children:f.jsxs("div",{style:h.card,children:[f.jsxs("div",{style:h.header,children:[f.jsx("div",{style:h.iconWrapper,children:f.jsx(u,{size:28,color:"#fff"})}),f.jsxs("div",{children:[f.jsxs("div",{style:h.stepCounter,children:["Pas ",i+1," de ",na.length]}),f.jsx("h2",{style:h.title,children:s.title}),f.jsx("p",{style:h.description,children:s.description})]})]}),f.jsx("div",{style:h.progressBarTrack,children:f.jsx("div",{style:{...h.progressBarFill,width:`${(i+1)/na.length*100}%`}})}),f.jsxs("div",{style:h.footer,children:[f.jsx("button",{style:h.skipButton,onClick:l,children:"Saltar Tutorial"}),f.jsxs("button",{style:h.nextButton,onClick:r,children:[c?"Comenar a Jugar!":"Segent",!c&&f.jsx(cd,{size:18})]})]})]})})}const _S="mazeMindProgress",CS="mazeMindPracticeBestScore",AS="mazeMindLocalProgressPending",jS=1,ES=15,Dy=i=>{const r=i.split("-");if(r.length!==2)return!1;const l=Number(r[1]);return Number.isFinite(l)&&l>=jS&&l<=ES},TS=(i,r)=>i===null?r:r===null?i:Math.min(i,r),kS=(i,r)=>i===null?r:r===null?i:Math.max(i,r),RS=()=>{if(!(typeof window>"u"))try{window.localStorage.removeItem(_S),window.localStorage.removeItem(CS),window.localStorage.removeItem(AS)}catch(i){console.warn("No s'ha pogut netejar el progrs local",i)}};async function eo(i){if(!i)throw new Error("No s'ha proporcionat cap usuari per obtenir el progrs.");const{data:r,error:l}=await jt.from("level_progress").select("difficulty, level_number, stars, best_time, best_points").eq("user_id",i);if(l)throw l;const s={};for(const y of r??[]){if(!y.difficulty||typeof y.level_number!="number")continue;const x=`${y.difficulty}-${y.level_number}`;s[x]={stars:y.stars??0,bestTime:y.best_time??null,bestPoints:y.best_points??null}}const{data:u,error:c}=await jt.from("user_progress").select("easy, normal, hard").eq("user_id",i).maybeSingle();if(c)throw c;const h={easy:u?.easy??1,normal:u?.normal??1,hard:u?.hard??1},{data:p,error:g}=await jt.from("practice_best").select("max_score").eq("user_id",i).maybeSingle();if(g)throw g;return{progress:{levels:s,highestUnlocked:h},practiceBest:p?.max_score??0}}function OS(i,r){const l={};return new Set([...Object.keys(i.levels),...Object.keys(r.levels)]).forEach(u=>{if(!Dy(u))return;const c=i.levels[u],h=r.levels[u];!c&&!h||(l[u]={stars:Math.max(c?.stars??0,h?.stars??0),bestTime:TS(c?.bestTime??null,h?.bestTime??null),bestPoints:kS(c?.bestPoints??null,h?.bestPoints??null)})}),{levels:l,highestUnlocked:{easy:Math.max(i.highestUnlocked.easy,r.highestUnlocked.easy),normal:Math.max(i.highestUnlocked.normal,r.highestUnlocked.normal),hard:Math.max(i.highestUnlocked.hard,r.highestUnlocked.hard)}}}async function zS(i){const r=await eo(i);return RS(),r}async function MS(i){const r=aa();await jd(i,r);const l=la();l>0&&await Ed(i,l)}async function BS(i){const r=aa(),l=la(),s=await eo(i),u=OS(r,s.progress);await jd(i,u);const c=Math.max(l,s.practiceBest??0);c>(s.practiceBest??0)&&await Ed(i,c)}async function jd(i,r){if(!i)throw new Error("No s'ha proporcionat cap usuari per sincronitzar el progrs.");const l=Object.entries(r.levels).filter(([u])=>Dy(u)).map(([u,c])=>{const[h,p]=u.split("-");return{user_id:i,difficulty:h,level_number:Number(p),stars:c.stars,best_time:c.bestTime,best_points:c.bestPoints}}).filter(u=>Number.isFinite(u.level_number));if(l.length>0){const{error:u}=await jt.from("level_progress").upsert(l,{onConflict:"user_id,difficulty,level_number"});if(u)throw u}const{error:s}=await jt.from("user_progress").upsert({user_id:i,easy:r.highestUnlocked.easy,normal:r.highestUnlocked.normal,hard:r.highestUnlocked.hard},{onConflict:"user_id"});if(s)throw s}async function Ed(i,r){if(!i)throw new Error("No s'ha proporcionat cap usuari per sincronitzar practice_best.");const l=Number.isFinite(r)?r:0,{error:s}=await jt.from("practice_best").upsert({user_id:i,max_score:l},{onConflict:"user_id"});if(s)throw s}const qs=1e3,DS=1,NS=2,US=20,LS=50,S0=500,_0=3,Gs=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i,HS={easy:"Fcil",normal:"Normal",hard:"Difcil"};function Dc({level:i,onBack:r,onRetry:l,isTutorialMode:s,onCompleteTutorial:u,onLevelComplete:c,isPracticeMode:h,progress:p}){const g=on(),{user:y}=yi(),{getVisualSettings:x,settings:w}=yt(),S=x("levelScreen"),{keyMoveUp:j,keyMoveDown:k,keyMoveLeft:M,keyMoveRight:E}=w.game,I=i.memorizeTime,[O,q]=A.useState("memorize"),[J,re]=A.useState(I),ee=A.useRef(I),[V,te]=A.useState({x:i.start.x,y:i.start.y}),[we,ne]=A.useState([{x:i.start.x,y:i.start.y}]),[K,F]=A.useState(s?0:-1),[se,me]=A.useState(0),[fe,z]=A.useState(qs),W=i.difficulty==="hard",[ie,he]=A.useState(W?_0:-1),X=ve=>ve>=800?3:ve>=400?2:ve>0?1:0,v=A.useMemo(()=>X(fe),[fe]),_=A.useRef(X(qs)),L=A.useRef(p);A.useEffect(()=>{L.current=p},[p]),A.useEffect(()=>{if(O==="completed"&&!s&&!h){const ve=Zw(i.difficulty,i.number,v,se,fe,{baseProgress:L.current,persist:!y});c(ve),y&&jd(y.id,ve).catch(ct=>{console.error("Error enviant progrs a Supabase:",ct)})}},[O,s,i.difficulty,i.number,v,se,fe,c,h,y]),A.useEffect(()=>{v<_.current&&g.playStarLoss(),_.current=v},[v,g.playStarLoss]);const[H,Q]=A.useState(3),[Z,le]=A.useState(!1),[je,xe]=A.useState(!1),[Rt,Sn]=A.useState(!1),[Tr,_n]=A.useState(null),Ht=A.useMemo(()=>{const ve=ee.current-J;return Math.min(100,Math.max(0,ve/ee.current*100))},[J]);A.useEffect(()=>{if(O!=="memorize"||s)return;const ct=setInterval(()=>{re(Ue=>Ue<=1?(clearInterval(ct),g.playStart(),q("playing"),te({x:i.start.x,y:i.start.y}),0):(Ue<=4?g.playTickFinal():g.playTick(),Ue-1))},1e3);return()=>clearInterval(ct)},[O,i.start.x,i.start.y,g,s]);const un=A.useRef(Z);A.useEffect(()=>{un.current=Z},[Z]);const Fn=A.useRef(je);A.useEffect(()=>{Fn.current=je},[je]),A.useEffect(()=>{if(O==="playing"&&!(s&&K>=0))return g.startMusic(),()=>g.stopMusic();g.stopMusic()},[O,s,K,g]),A.useEffect(()=>{if(O!=="playing"||s&&K>=0)return;const ve=setInterval(()=>{me(ct=>ct+1),z(ct=>{let Ue=DS;return un.current&&(Ue+=NS),Math.max(0,ct-Ue)})},1e3);return()=>clearInterval(ve)},[O,s,K]);const kr=A.useCallback(()=>{O!=="playing"||H<=0||Rt||(g.playReveal(),Q(ve=>ve-1),z(ve=>Math.max(0,ve-LS)),Sn(!0),setTimeout(()=>Sn(!1),S0))},[O,H,Rt,g]),Cn=A.useCallback(()=>{O==="playing"&&le(ve=>(ve?g.playToggleOff():g.playToggleOn(),!ve))},[O,g]),cn=A.useCallback(()=>{O==="playing"&&xe(ve=>(ve?g.playToggleOff():g.playToggleOn(),!ve))},[O,g]),dn=A.useCallback(()=>{g.playFail(),g.stopMusic(),l()},[l,g]),Qt=A.useCallback(()=>{g.playFail(),r()},[r,g]),sl=A.useCallback(()=>{g.playFail(),g.stopMusic(),l()},[l,g]),ol=A.useCallback(()=>{g.playFail(),g.stopMusic(),r()},[r,g]),mt=A.useCallback(()=>{g.playFail(),g.stopMusic(),q("memorize"),re(I),te({x:i.start.x,y:i.start.y}),ne([{x:i.start.x,y:i.start.y}]),me(0),z(qs),he(W?_0:-1),Q(3),le(!1),xe(!1),_n(null)},[I,i.start.x,i.start.y,W,g]);A.useEffect(()=>{if(O!=="playing")return;const{game:ve}=w,ct=Ue=>{const vt=Ue.target;if(vt&&(["INPUT","TEXTAREA","SELECT"].includes(vt.tagName)||vt.isContentEditable)||Rt)return;_n(null);const Le=Ue.key.toLowerCase();if(Ue.key===ve.keyHelpReveal||Le===(ve.keyHelpReveal||"").toLowerCase()){Ue.preventDefault(),kr();return}if(Le===(ve.keyHelpPath||"").toLowerCase()){Ue.preventDefault(),Cn();return}const bt=(ve.keyHelpCrash||"").toLowerCase();if(bt&&Le===bt&&i.difficulty!=="hard"){Ue.preventDefault(),cn();return}const{x:Je,y:fn}=V;let $t=Je,zn=fn,jn=!1;if(Ue.key==="ArrowUp"||Le===(ve.keyMoveUp||"").toLowerCase())Ue.preventDefault(),i.maze[fn][Je].walls.top?jn=!0:zn-=1;else if(Ue.key==="ArrowDown"||Le===(ve.keyMoveDown||"").toLowerCase())Ue.preventDefault(),i.maze[fn][Je].walls.bottom?jn=!0:zn+=1;else if(Ue.key==="ArrowLeft"||Le===(ve.keyMoveLeft||"").toLowerCase())Ue.preventDefault(),i.maze[fn][Je].walls.left?jn=!0:$t-=1;else if(Ue.key==="ArrowRight"||Le===(ve.keyMoveRight||"").toLowerCase())Ue.preventDefault(),i.maze[fn][Je].walls.right?jn=!0:$t+=1;else return;if(jn){if(W){g.playCrash();const hn=ie-1;hn<=0?(he(0),g.stopMusic(),q("failed")):(he(hn),te({x:i.start.x,y:i.start.y}),ne([{x:i.start.x,y:i.start.y}]));return}je&&(g.playCrash(),_n({x:Je,y:fn}),z(hn=>Math.max(0,hn-US)),setTimeout(()=>_n(null),S0));return}$t>=0&&$t<i.width&&zn>=0&&zn<i.height&&(te({x:$t,y:zn}),ne(hn=>[...hn,{x:$t,y:zn}])),$t===i.exit.x&&zn===i.exit.y&&(g.playWin(),g.stopMusic(),q("completed"))};return window.addEventListener("keydown",ct),()=>window.removeEventListener("keydown",ct)},[O,V,i,je,kr,Cn,cn,Rt,g,fe,w,W,ie,dn,Qt]);const ut=()=>{const ve=K+1;ve>=na.length?(F(-1),u(),re(i.memorizeTime)):(F(ve),O!=="memorize"&&q("memorize"),re(i.memorizeTime))},be=()=>{F(-1),u(),q("memorize"),re(i.memorizeTime),te({x:i.start.x,y:i.start.y}),me(0),z(qs)},Xe=A.useMemo(()=>({path_color:S.mazePathColor||"#EEF2FF",wall_color:S.mazeWallColor||"#3B82F6",wall_thickness:S.mazeWallThickness||3,exit_color:S.mazeExitColor||S.normalColor||"#F59E0B",player_color:S.mazePlayerColor||"#111",player_path_color:S.playerPathColor||"rgba(0, 0, 0, 0.4)",crash_help_color:S.crashHelpColor||"#E11D48"}),[S]),ge=A.useMemo(()=>({page:{minHeight:"100svh",width:"100%",margin:0,background:S.backgroundColor,color:S.textColor,boxSizing:"border-box",padding:"clamp(16px, 3vw, 24px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",alignItems:"center"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexShrink:0,width:"100%",maxWidth:"980px"},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},ghostBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${S.borderColor}`,background:S.surfaceColor,color:S.textColor,cursor:"pointer",fontSize:16,whiteSpace:"nowrap"},mainArea:{flexGrow:1,display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",minHeight:0,width:"100%",maxWidth:"980px"},memorizePanel:{background:`linear-gradient(90deg, ${S.accentColor1}, ${S.accentColor2})`,borderRadius:16,padding:"16px clamp(16px, 3vw, 24px) 20px",boxShadow:G.shadow,textAlign:"center",flexShrink:0},memorizeHeading:{margin:0,fontSize:"clamp(16px, 2vw, 18px)",opacity:.95},memorizeCounter:{fontSize:"clamp(40px, 6vw, 56px)",fontWeight:800,marginTop:6},progressTrack:{marginTop:10,height:10,borderRadius:999,background:"rgba(255,255,255,.35)",overflow:"hidden"},progressFill:{height:"100%",background:S.surfaceColor,borderRadius:999},boardWrap:{flexGrow:1,display:"grid",placeItems:"center",minHeight:0},boardInner:{width:"100%",height:"100%",aspectRatio:"1 / 1",maxWidth:"calc(100vh - 300px)",maxHeight:"100%",background:S.mazePathColor,borderRadius:16,boxShadow:"0 16px 48px rgba(0,0,0,.35), inset 0 0 0 3px rgba(0,0,0,.25)",overflow:"hidden",position:"relative"},footer:{flexShrink:0,width:"100%",maxWidth:"980px",textAlign:"center"},tip:{display:"inline-block",background:S.surfaceColor,border:`1px solid ${S.borderColor}`,padding:"10px 16px",borderRadius:10,color:S.subtextColor,fontSize:14}}),[S]),An=A.useMemo(()=>h?i.number===99?"Mode Lliure":"Mode Prctica":`Nivell ${i.number} - ${HS[i.difficulty]}`,[h,i.number,i.difficulty]);return f.jsxs("div",{style:ge.page,children:[f.jsxs("header",{style:ge.headerRow,children:[f.jsxs("button",{type:"button",onClick:Qt,onMouseEnter:()=>g.playHover(),style:ge.ghostBtn,"aria-label":"Tornar a la selecci de nivell",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),f.jsx("h1",{style:ge.title,children:An}),f.jsxs("button",{type:"button",onClick:dn,onMouseEnter:()=>g.playHover(),style:{...ge.ghostBtn,justifySelf:"end"},"aria-label":"Reintentar el nivell",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Reintentar"]})]}),f.jsxs("main",{style:ge.mainArea,children:[O==="memorize"?f.jsxs("section",{"aria-labelledby":"memorizeTitle",style:ge.memorizePanel,children:[f.jsxs("h2",{id:"memorizeTitle",style:ge.memorizeHeading,children:[f.jsx("span",{"aria-hidden":"true",children:""})," Memoritza el Laberint!"]}),f.jsx("div",{role:"status","aria-live":"polite",style:ge.memorizeCounter,children:J}),f.jsx("div",{role:"progressbar","aria-valuenow":Math.round(Ht),style:ge.progressTrack,children:f.jsx("div",{style:{...ge.progressFill,width:`${Ht}%`}})})]}):f.jsx(hS,{gameTime:se,points:fe,revealCharges:H,isPathHelpActive:Z,isCrashHelpActive:je,onRevealHelp:kr,onTogglePathHelp:Cn,onToggleCrashHelp:cn,lives:ie,difficulty:i.difficulty}),f.jsx("section",{"aria-label":"Tauler del laberint",style:ge.boardWrap,children:f.jsx("div",{style:ge.boardInner,children:f.jsx(Ad,{level:i,phase:O,playerPos:V,showReveal:Rt,settings:Xe,showPlayerPath:Z,crashPosition:Tr,forcePathHistory:we})})})]}),f.jsx("footer",{style:ge.footer,children:O==="playing"?f.jsxs("p",{style:ge.tip,children:["Utilitza les ",f.jsx("kbd",{children:"Fletxes"})," o",f.jsxs("kbd",{children:[" ",Gs(j)]}),f.jsx("kbd",{children:Gs(M)}),f.jsx("kbd",{children:Gs(k)}),f.jsxs("kbd",{children:[Gs(E)," "]}),"per mouret."]}):O==="memorize"?f.jsx("p",{style:ge.tip,children:"Memoritza el cam des de l'inici (cercle) fins al final (quadrat)."}):null}),O==="completed"&&!s&&f.jsx(mS,{levelNumber:i.number,stars:v,time:se,points:fe,onRetry:dn,onBack:Qt}),O==="failed"&&f.jsx(By,{onRetry:dn,onBack:Qt}),(O==="completed"||O==="failed")&&h&&f.jsx(wS,{status:O,time:se,onRetrySameMaze:mt,onRetryNewMaze:sl,onBackToSettings:ol}),s&&K>=0&&K<na.length&&f.jsx(SS,{step:K,onNext:ut,onSkip:be})]})}const $S=i=>{const r=i.surfaceColor,l=i.borderColor,s=Ne(i.textColor,.08),u=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,c=Ne(i.hardColor,.15),h=Ne(i.hardColor,.3),p=Ne(i.accentColor1,.18),g=Ne(i.accentColor1,.35);return{wrap:{minHeight:"100dvh",display:"grid",placeItems:"center",padding:"1rem"},card:{width:"min(420px, 95vw)",background:r,border:`1px solid ${l}`,borderRadius:"1rem",padding:"2rem",color:i.textColor,display:"grid",gap:"1rem"},title:{margin:0,fontSize:"1.5rem",fontWeight:700,textAlign:"center"},label:{fontSize:"0.9rem",color:i.subtextColor,marginBottom:"-0.5rem",marginLeft:"0.25rem"},input:{padding:"0.75rem 1rem",borderRadius:"0.5rem",border:`1px solid ${l}`,background:s,color:i.textColor},btn:{padding:"0.85rem",borderRadius:"0.5rem",border:"none",background:u,color:"#fff",fontWeight:700,cursor:"pointer"},btnGhost:{padding:"0.85rem",borderRadius:"0.5rem",border:`1px solid ${l}`,background:"transparent",color:i.textColor,fontWeight:600,cursor:"pointer"},error:{color:i.hardColor,background:c,border:`1px solid ${h}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",textAlign:"center"},ok:{color:i.accentColor1,background:p,border:`1px solid ${g}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",textAlign:"center"}}};function VS({onDone:i}){const{getVisualSettings:r}=yt(),l=A.useMemo(()=>$S(r("home")),[r]),[s,u]=A.useState(""),[c,h]=A.useState(""),[p,g]=A.useState(!1),[y,x]=A.useState(null),[w,S]=A.useState(null),[j,k]=A.useState(!1),M=async I=>{if(I.preventDefault(),!p){if(x(null),S(null),s.length<6){x("La contrasenya ha de tenir com a mnim 6 carcters.");return}if(s!==c){x("Les contrasenyes no coincideixen.");return}g(!0);try{const{error:O}=await jt.auth.updateUser({password:s});if(O){x("No sha pogut actualitzar la contrasenya. Torna-ho a provar.");return}S("Contrasenya actualitzada correctament."),k(!0),setTimeout(async()=>{try{const q=await jt.auth.signOut();console.debug("[ResetPassword] signOut result",q)}catch(q){console.debug("[ResetPassword] signOut error",q)}},500)}catch{x("No sha pogut actualitzar la contrasenya. Torna-ho a provar.")}finally{g(!1)}}},E=()=>{i?.()};return f.jsx("div",{style:l.wrap,children:f.jsxs("form",{style:l.card,onSubmit:M,children:[f.jsx("h2",{style:l.title,children:"Restablir contrasenya"}),y&&f.jsx("div",{style:l.error,children:y}),w&&f.jsx("div",{style:l.ok,children:w}),j?f.jsx(f.Fragment,{children:f.jsx("button",{type:"button",style:l.btn,onClick:E,children:"Tornar a linici"})}):f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"np1",style:l.label,children:"Nova contrasenya"}),f.jsx("input",{id:"np1",type:"password",style:l.input,value:s,onChange:I=>u(I.target.value),minLength:6,required:!0,autoComplete:"new-password"}),f.jsx("label",{htmlFor:"np2",style:l.label,children:"Repeteix la contrasenya"}),f.jsx("input",{id:"np2",type:"password",style:l.input,value:c,onChange:I=>h(I.target.value),minLength:6,required:!0,autoComplete:"new-password"}),f.jsx("button",{type:"submit",style:l.btn,disabled:p,children:p?"Guardant...":"Actualitzar"})]})]})})}class qS{width;height;grid=[];constructor(r,l){this.width=r,this.height=l}generate(){this.grid=Array.from({length:this.height},()=>Array.from({length:this.width},()=>({walls:{top:!0,right:!0,bottom:!0,left:!0},visited:!1})));const r=[],l=0,s=0;for(this.grid[s][l].visited=!0,r.push({x:l,y:s});r.length;){const u=r[r.length-1],c=this.getUnvisitedNeighbors(u.x,u.y);if(c.length){const h=c[Math.floor(Math.random()*c.length)];this.removeWall(u,h),this.grid[h.y][h.x].visited=!0,r.push({x:h.x,y:h.y})}else r.pop()}return this.grid}getUnvisitedNeighbors(r,l){const s=[];return l>0&&!this.grid[l-1][r].visited&&s.push({x:r,y:l-1,dir:"top"}),r<this.width-1&&!this.grid[l][r+1].visited&&s.push({x:r+1,y:l,dir:"right"}),l<this.height-1&&!this.grid[l+1][r].visited&&s.push({x:r,y:l+1,dir:"bottom"}),r>0&&!this.grid[l][r-1].visited&&s.push({x:r-1,y:l,dir:"left"}),s}removeWall(r,l){const s=l.x-r.x,u=l.y-r.y;s===1?(this.grid[r.y][r.x].walls.right=!1,this.grid[l.y][l.x].walls.left=!1):s===-1?(this.grid[r.y][r.x].walls.left=!1,this.grid[l.y][l.x].walls.right=!1):u===1?(this.grid[r.y][r.x].walls.bottom=!1,this.grid[l.y][l.x].walls.top=!1):u===-1&&(this.grid[r.y][r.x].walls.top=!1,this.grid[l.y][l.x].walls.bottom=!1)}}function tl(i){const r=new qS(i.width,i.height);return{id:`${i.difficulty}-level-${i.levelNumber}`,number:i.levelNumber,difficulty:i.difficulty,maze:r.generate(),width:i.width,height:i.height,memorizeTime:i.memorizeTime,starThresholds:i.stars,start:{x:0,y:0},exit:{x:i.width-1,y:i.height-1}}}const GS=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Ne(i.textColor,.08),s=Ne(i.textColor,.75),u=Ne(i.hardColor,.15),c=Ne(i.hardColor,.3),h=Ne(i.accentColor1,.18),p=Ne(i.accentColor1,.35);return{overlay:{position:"fixed",inset:0,background:s,backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:100,padding:"1rem"},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"1rem",padding:"2rem",color:i.textColor,width:"min(400px, 95vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative",display:"flex",flexDirection:"column",gap:"1.25rem"},closeButton:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"none",border:"none",color:i.subtextColor,cursor:"pointer",padding:"0.25rem",lineHeight:0,borderRadius:"50%"},title:{fontSize:"1.5rem",fontWeight:700,margin:0,textAlign:"center",color:i.textColor},form:{display:"flex",flexDirection:"column",gap:"1rem"},label:{fontSize:"0.875rem",color:i.subtextColor,marginBottom:"-0.75rem",marginLeft:"0.25rem",textAlign:"left"},input:{padding:"0.75rem 1rem",borderRadius:"0.5rem",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"1rem",outline:"none"},submitButton:{padding:"0.875rem",borderRadius:"0.5rem",border:"none",background:r,color:"#fff",fontSize:"1rem",fontWeight:600,cursor:"pointer",marginTop:"0.5rem",transition:"opacity 0.2s ease"},toggleButton:{background:"none",border:"none",color:i.accentColor2,fontSize:"0.875rem",cursor:"pointer",textDecoration:"underline",marginTop:"0.75rem",alignSelf:"center"},errorMessage:{color:i.hardColor,background:u,border:`1px solid ${c}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",fontSize:"0.875rem",textAlign:"center",margin:"-0.5rem 0 0.5rem 0"},successMessage:{color:i.accentColor1,background:h,border:`1px solid ${p}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",fontSize:"0.9rem",textAlign:"center",margin:"0 0 0.75rem 0"},successActions:{display:"flex",flexDirection:"column",gap:"0.75rem"}}};function PS({onClose:i}){const r=on(),{getVisualSettings:l}=yt(),s=l("home"),u=A.useMemo(()=>GS(s),[s]),{user:c}=yi(),h=()=>{r.playFail(),O(null),ee(null),i()},[p,g]=A.useState(""),[y,x]=A.useState(""),[w,S]=A.useState(""),[j,k]=A.useState(!1),[M,E]=A.useState(!1),[I,O]=A.useState(null),[q,J]=A.useState(!1),[re,ee]=A.useState(null);A.useEffect(()=>{c&&(ee(null),i())},[c,i]);const V=()=>{if(typeof window>"u")return"";const K="/MazeMind-TFG/",se=`${K.endsWith("/")?K:`${K}/`}auth/callback`.replace(/\/{2,}/g,"/");return`${window.location.origin}${se.startsWith("/")?"":"/"}${se}`},te=()=>{if(typeof window>"u")return"";const K="/MazeMind-TFG/",se=`${K.endsWith("/")?K:`${K}/`}auth/reset`.replace(/\/{2,}/g,"/");return`${window.location.origin}${se.startsWith("/")?"":"/"}${se}`},we=async()=>{if(O(null),ee(null),!p){O("Introdueix el correu per enviar lenlla de restabliment.");return}k(!0);try{const K=te(),{error:F}=await jt.auth.resetPasswordForEmail(p,{redirectTo:K});if(F)throw F;ee("Si el correu existeix al sistema, them enviat un enlla per restablir la contrasenya.")}catch{O("No sha pogut enviar el correu de restabliment. Torna-ho a provar.")}finally{k(!1)}},ne=async K=>{if(K.preventDefault(),O(null),ee(null),!p||!y){O("El correu i la contrasenya sn obligatoris.");return}if(y.length<6){O("La contrasenya ha de tenir com a mnim 6 carcters.");return}if(M&&y!==w){O("Les contrasenyes no coincideixen.");return}if(!q){J(!0);try{if(M){const F=V(),{data:se,error:me}=await jt.auth.signUp({email:p,password:y,options:F?{emailRedirectTo:F}:void 0});if(me){const fe=me.message?.toLowerCase()??"";fe.includes("registered")||fe.includes("already")?O("Aquest correu ja est registrat. Inicia sessi o recupera la contrasenya."):fe.includes("rate")||fe.includes("too many")?O("Has fet massa intents. Espera uns minuts i torna-ho a provar."):O("No sha pogut completar el registre. Torna-ho a provar.");return}if(se?.user&&Array.isArray(se.user.identities)&&se.user.identities.length===0){O("Aquest correu ja est registrat. Inicia sessi o recupera la contrasenya.");return}if(!se.session){ee("Hem enviat un correu de verificaci. Revisa la safata d'entrada per completar el registre.");return}}else{const{error:F}=await jt.auth.signInWithPassword({email:p,password:y});if(F)throw F}}catch(F){console.error("Error en autenticaci Supabase:",F),O(F instanceof Error?F.message:"Ha ocorregut un error. Torna a intentar-ho.")}finally{J(!1)}}};return f.jsx("div",{style:u.overlay,onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"auth-title",children:f.jsxs("div",{style:u.modalContent,onClick:K=>K.stopPropagation(),children:[f.jsx("button",{style:u.closeButton,onClick:h,"aria-label":"Tancar modal d'autenticaci",children:f.jsx(pd,{size:20})}),f.jsx("h2",{id:"auth-title",style:u.title,children:M?"Crear Compte":"Iniciar Sessi"}),re?f.jsxs("div",{style:u.successActions,children:[f.jsx("p",{style:u.successMessage,children:re}),f.jsx("button",{style:u.submitButton,type:"button",onClick:h,children:"Entesos"})]}):f.jsxs(f.Fragment,{children:[I&&f.jsx("p",{style:u.errorMessage,children:I}),f.jsxs("form",{onSubmit:ne,style:u.form,children:[f.jsx("label",{htmlFor:"email-input",style:u.label,children:"Correu electrnic"}),f.jsx("input",{id:"email-input",type:"email",placeholder:"el.teu@correu.com",value:p,onChange:K=>g(K.target.value),style:u.input,required:!0,"aria-required":"true",autoComplete:"email"}),f.jsx("label",{htmlFor:"password-input",style:u.label,children:"Contrasenya"}),f.jsx("input",{id:"password-input",type:"password",placeholder:"",value:y,onChange:K=>x(K.target.value),style:u.input,required:!0,"aria-required":"true",minLength:6,autoComplete:M?"new-password":"current-password"}),M&&f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"password2-input",style:u.label,children:"Repeteix la contrasenya"}),f.jsx("input",{id:"password2-input",type:"password",placeholder:"",value:w,onChange:K=>S(K.target.value),style:u.input,required:!0,"aria-required":"true",minLength:6,autoComplete:"new-password"})]}),f.jsx("button",{type:"submit",style:{...u.submitButton,opacity:q?.7:1},disabled:q,children:q?"Enviant...":M?"Registrar-se":"Entrar"}),!M&&f.jsx("button",{type:"button",onClick:we,style:u.toggleButton,disabled:q||j,children:j?"Enviant...":"He oblidat la contrasenya"})]}),f.jsx("button",{style:u.toggleButton,onClick:()=>{E(!M),O(null),ee(null)},type:"button",disabled:q,children:M?"Ja tens compte? Inicia sessi":"No tens compte? Registra't"})]})]})})}const Ps=i=>/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}$/.test(i);function Ve({label:i,value:r,onChange:l,inputId:s}){const[u,c]=A.useState(r),[h,p]=A.useState(()=>Ps(r)?r:"#ffffff");A.useEffect(()=>{c(r),Ps(r)&&p(r)},[r]);const g=w=>{const S=w.target.value;p(S),c(S),l(S)},y=w=>{const S=w.target.value;c(S),Ps(S)&&(p(S),l(S))},x=()=>{Ps(u)||c(r)};return f.jsxs("div",{style:ni.settingGroup,children:[f.jsx("label",{htmlFor:s,style:ni.label,children:i}),f.jsxs("div",{style:ni.colorInputWrapper,children:[f.jsx("input",{id:s,type:"color",value:h,onChange:g,style:ni.colorInput,"aria-label":`${i} (selector visual)`}),f.jsx("input",{type:"text",value:u,onChange:y,onBlur:x,style:ni.textInput,"aria-label":`${i} (codi hexadecimal)`,spellCheck:"false"})]})]})}const ni={settingGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"0.875rem",fontWeight:500,color:G.subtext},colorInputWrapper:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(10, 25, 47, 0.7)",border:`1px solid ${G.borderColor}`,borderRadius:"6px",padding:"4px"},colorInput:{width:"28px",height:"28px",padding:0,border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent",flexShrink:0},textInput:{flexGrow:1,background:"transparent",border:"none",color:G.text,fontSize:"0.875rem",fontFamily:"monospace",outline:"none",padding:"4px 8px"}},Nc=i=>{const r=i.match(/#[0-9A-Fa-f]{6}/g);return r&&r.length>=2?[r[0],r[1]]:[G.playBtnFrom,G.playBtnTo]};function IS({settings:i,onChange:r}){const[l,s]=A.useState(()=>Nc(i.backgroundColor)[0]),[u,c]=A.useState(()=>Nc(i.backgroundColor)[1]);A.useEffect(()=>{const[y,x]=Nc(i.backgroundColor);s(y),c(x)},[i.backgroundColor]);const h=A.useCallback((y,x)=>{const w=`linear-gradient(145deg, ${y} 0%, ${x} 100%)`;r("backgroundColor",w)},[r]),p=y=>{s(y),h(y,u)},g=y=>{c(y),h(l,y)};return f.jsxs("div",{style:Xa.container,children:[f.jsxs("div",{style:Xa.gradientGroup,children:[f.jsx("label",{style:Xa.label,children:"Gradient de Fons"}),f.jsx(Ve,{label:"Color 1",value:l,onChange:p,inputId:"home-bg-color1"}),f.jsx(Ve,{label:"Color 2",value:u,onChange:g,inputId:"home-bg-color2"})]}),f.jsxs("div",{style:Xa.grid,children:[f.jsxs("div",{style:Xa.column,children:[f.jsx(Ve,{label:"Color de Text Principal",value:i.textColor,onChange:y=>r("textColor",y),inputId:"home-text-color"}),f.jsx(Ve,{label:"Color d'Accent Principal",value:i.accentColor1,onChange:y=>r("accentColor1",y),inputId:"home-accent1-color"})]}),f.jsxs("div",{style:Xa.column,children:[f.jsx(Ve,{label:"Color de Text Secundari",value:i.subtextColor,onChange:y=>r("subtextColor",y),inputId:"home-subtext-color"}),f.jsx(Ve,{label:"Color d'Accent Secundari",value:i.accentColor2,onChange:y=>r("accentColor2",y),inputId:"home-accent2-color"})]}),f.jsx(Ve,{label:"Color de les Targetes",value:i.surfaceColor.startsWith("rgba")?"#ffffff":i.surfaceColor,onChange:y=>r("surfaceColor",y),inputId:"home-surface-color"})]})]})}const Xa={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:G.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`}},YS=[{icon:"",label:"Nivells",value:11},{icon:"",label:"Estrelles",value:22},{icon:"",label:"Perfectes",value:33}];function KS({settings:i}){const r={pagePreview:{background:i.backgroundColor,color:i.textColor,padding:"24px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",overflow:"hidden",position:"relative",boxSizing:"border-box"},userIconPreview:{position:"absolute",top:"12px",right:"12px",background:i.surfaceColor,color:i.subtextColor,borderRadius:"50%",width:"32px",height:"32px",display:"grid",placeItems:"center",border:`1px solid ${i.borderColor}`},logoWrapPreview:{background:`linear-gradient(135deg, ${i.accentColor1}, ${i.accentColor2||i.accentColor1})`,borderRadius:"16px",padding:"12px",display:"grid",placeItems:"center"},logoSvgPreview:{width:40,height:40,filter:"brightness(0) invert(1)"},titlePreview:{fontSize:"24px",fontWeight:900,margin:0},subtitlePreview:{fontSize:"12px",color:i.subtextColor,margin:0,maxWidth:"250px"},statsGridPreview:{display:"flex",gap:"8px",marginTop:"8px"},statCardPreview:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"8px",textAlign:"center",flex:1},statIconPreview:{fontSize:14},statValuePreview:{fontSize:16,fontWeight:700},statLabelPreview:{fontSize:10,color:i.subtextColor},actionsColPreview:{display:"flex",flexDirection:"column",gap:"8px",width:"80%",marginTop:"8px"},playBtnPreview:{padding:"10px",borderRadius:"8px",border:"none",background:`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2||i.accentColor1})`,color:"#fff",fontSize:"14px",fontWeight:700},secondaryBtnPreview:{padding:"10px",borderRadius:"8px",border:`1px solid ${i.borderColor}`,background:"rgba(255,255,255,0.06)",color:i.textColor,fontSize:"14px",fontWeight:600}};return f.jsxs("div",{style:r.pagePreview,children:[f.jsx("div",{style:r.userIconPreview,children:f.jsx(N0,{size:16})}),f.jsx("div",{style:r.logoWrapPreview,children:f.jsx(U0,{style:r.logoSvgPreview})}),f.jsx("h1",{style:r.titlePreview,children:"MazeMind"}),f.jsx("p",{style:r.subtitlePreview,children:"Entrena la memria visoespacial resolent laberints"}),f.jsx("div",{style:r.statsGridPreview,children:YS.map(l=>f.jsxs("div",{style:r.statCardPreview,children:[f.jsx("div",{style:r.statIconPreview,children:l.icon}),f.jsx("div",{style:r.statValuePreview,children:l.value}),f.jsx("div",{style:r.statLabelPreview,children:l.label})]},l.label))}),f.jsxs("div",{style:r.actionsColPreview,children:[f.jsx("div",{style:r.playBtnPreview,children:" Jugar"}),f.jsx("div",{style:r.secondaryBtnPreview,children:" Configuraci"})]})]})}const Uc=i=>{const r=i.match(/#[0-9A-Fa-f]{6}/g);return r&&r.length>=2?[r[0],r[1]]:[G.playBtnFrom,G.playBtnTo]};function JS({settings:i,onChange:r}){const[l,s]=A.useState(()=>Uc(i.backgroundColor)[0]),[u,c]=A.useState(()=>Uc(i.backgroundColor)[1]);A.useEffect(()=>{const[y,x]=Uc(i.backgroundColor);s(y),c(x)},[i.backgroundColor]);const h=A.useCallback((y,x)=>{const w=`linear-gradient(145deg, ${y} 0%, ${x} 100%)`;r("backgroundColor",w)},[r]),p=y=>{s(y),h(y,u)},g=y=>{c(y),h(l,y)};return f.jsxs("div",{style:Xr.container,children:[f.jsxs("div",{style:Xr.gradientGroup,children:[f.jsx("label",{style:Xr.label,children:"Gradient de Fons"}),f.jsx(Ve,{label:"Color 1",value:l,onChange:p,inputId:"levelselect-bg-color1"}),f.jsx(Ve,{label:"Color 2",value:u,onChange:g,inputId:"levelselect-bg-color2"})]}),f.jsxs("div",{style:Xr.difficultyGroup,children:[f.jsx(Ve,{label:"Color Fcil (Botons)",value:i.easyColor,onChange:y=>r("easyColor",y),inputId:"levelselect-easy-color"}),f.jsx(Ve,{label:"Color Normal (Botons)",value:i.normalColor,onChange:y=>r("normalColor",y),inputId:"levelselect-normal-color"}),f.jsx(Ve,{label:"Color Difcil (Botons)",value:i.hardColor,onChange:y=>r("hardColor",y),inputId:"levelselect-hard-color"})]}),f.jsxs("div",{style:Xr.grid,children:[f.jsxs("div",{style:Xr.column,children:[f.jsx(Ve,{label:"Color de Text Principal",value:i.textColor,onChange:y=>r("textColor",y),inputId:"levelselect-text-color"}),f.jsx(Ve,{label:"Color de Targetes/Botons",value:i.surfaceColor.startsWith("rgba")?"#ffffff":i.surfaceColor,onChange:y=>r("surfaceColor",y),inputId:"levelselect-surface-color"})]}),f.jsxs("div",{style:Xr.column,children:[f.jsx(Ve,{label:"Color de Text Secundari",value:i.subtextColor,onChange:y=>r("subtextColor",y),inputId:"levelselect-subtext-color"}),f.jsx(Ve,{label:"Color de Vores",value:i.borderColor,onChange:y=>r("borderColor",y),inputId:"levelselect-border-color"})]})]})]})}const Xr={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:G.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`},difficultyGroup:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`}};function WS({settings:i}){const[r,l]=A.useState("easy"),s=A.useCallback(c=>{const h=i;return c==="easy"?h.easyColor||h.accentColor1||G.easyGreen:c==="normal"?h.normalColor||h.accentColor2||G.normalYellow:h.hardColor||h.accentColor2||G.hardRed},[i]),u={pagePreview:{background:i.backgroundColor,color:i.textColor,padding:"16px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"12px",overflow:"hidden",position:"relative",boxSizing:"border-box"},headerPreview:{display:"flex",justifyContent:"space-between",alignItems:"center"},backBtnPreview:{background:i.surfaceColor,color:i.textColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"4px 6px",fontSize:"10px",display:"flex",alignItems:"center",gap:"4px"},titlePreview:{fontSize:"14px",fontWeight:700,margin:0},diffBarPreview:{display:"flex",background:i.surfaceColor,borderRadius:"99px",padding:"4px",position:"relative"},diffIndicatorPreview:{position:"absolute",top:"4px",left:"4px",width:"calc(50% - 4px)",height:"calc(100% - 8px)",background:i.easyColor,borderRadius:"99px",zIndex:1},diffTabPreview:{flex:1,padding:"4px",fontSize:"10px",borderRadius:"99px",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},gridPreview:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},cardPreview:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"12px",padding:"4px",aspectRatio:"1/1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",fontSize:"10px",transition:"opacity 0.2s ease"},cardLocked:{opacity:.6,borderColor:i.borderColor},levelNumPreview:{fontSize:"18px",fontWeight:700},starsPreview:{display:"flex",gap:"2px"},timePreview:{display:"flex",gap:"4px",alignItems:"center",fontSize:"10px",color:i.subtextColor},playBtnPreview:{background:i.easyColor,color:"#0B1021",fontSize:"10px",fontWeight:600,padding:"4px 8px",borderRadius:"6px"},footerPreview:{marginTop:"auto",display:"flex",justifyContent:"center"},practiceBtnPreview:{background:i.surfaceColor,color:i.textColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"6px 10px",fontSize:"10px",display:"flex",alignItems:"center",gap:"4px"}};return f.jsxs("div",{style:u.pagePreview,children:[f.jsxs("div",{style:u.headerPreview,children:[f.jsxs("div",{style:u.backBtnPreview,children:[f.jsx(jr,{size:12})," Inici"]}),f.jsx("h1",{style:u.titlePreview,children:"Selecciona Nivell"}),f.jsx("div",{style:{width:40}})]}),f.jsxs("div",{style:u.diffBarPreview,children:[f.jsx("div",{style:{...u.diffIndicatorPreview,left:r==="easy"?"4px":r==="normal"?"calc(33.333% + 4px)":"calc(66.666% + 4px)",width:"calc(33.333% - 8px)",background:s(r)}}),["easy","normal","hard"].map(c=>f.jsxs("button",{onClick:()=>l(c),style:{...u.diffTabPreview,color:r===c?i.textColor:i.subtextColor,background:"transparent",border:"none"},children:[c==="easy"?f.jsx(nl,{size:10}):c==="normal"?f.jsx(pi,{size:10}):f.jsx(fd,{size:10})," ",c==="easy"?"Fcil":c==="normal"?"Normal":"Difcil"]},c))]}),f.jsxs("div",{style:u.gridPreview,children:[f.jsxs("div",{style:{...u.cardPreview,borderColor:(s(r)||G.easyGreen)+"60"},children:[f.jsx("div",{style:u.levelNumPreview,children:"1"}),f.jsxs("div",{style:u.starsPreview,children:[f.jsx(Cr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"none",color:i.subtextColor+"80"})]}),f.jsxs("div",{style:u.timePreview,children:[f.jsx(Pc,{size:10})," 0:45"]}),f.jsx("div",{style:{...u.playBtnPreview,background:s(r)},children:"Jugar"})]}),f.jsxs("div",{style:{...u.cardPreview,borderColor:(s(r)||G.easyGreen)+"60"},children:[f.jsx("div",{style:u.levelNumPreview,children:"2"}),f.jsxs("div",{style:u.starsPreview,children:[f.jsx(Cr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"none",color:"#FBBF24"}),f.jsx(Cr,{size:10,fill:"none",color:"#FBBF24"})]}),f.jsxs("div",{style:u.timePreview,children:[f.jsx(Pc,{size:10})," 1:12"]}),f.jsx("div",{style:{...u.playBtnPreview,background:s(r)},children:"Jugar"})]}),f.jsxs("div",{style:{...u.cardPreview,...u.cardLocked},children:[f.jsx("div",{style:u.levelNumPreview,children:"3"}),f.jsx(Yc,{size:16,color:i.subtextColor})]}),f.jsxs("div",{style:{...u.cardPreview,...u.cardLocked},children:[f.jsx("div",{style:u.levelNumPreview,children:"4"}),f.jsx(Yc,{size:16,color:i.subtextColor})]})]}),f.jsx("footer",{style:u.footerPreview,children:f.jsxs("div",{style:u.practiceBtnPreview,children:[f.jsx(nl,{size:12})," Mode Prctica"]})})]})}const QS=({label:i,value:r,onChange:l,inputId:s,min:u,max:c,step:h})=>f.jsxs("div",{style:On.settingGroup,children:[f.jsx("label",{htmlFor:s,style:On.label,children:i}),f.jsx("input",{id:s,type:"number",value:r,onChange:p=>l(parseFloat(p.target.value)),min:u,max:c,step:h,style:On.numberInput})]});function XS({settings:i,onChange:r}){const[l,s]=A.useState(i.backgroundColor);A.useEffect(()=>{const c=i.backgroundColor.match(/#[0-9A-Fa-f]{6}/g);s(c?c[0]:i.backgroundColor)},[i.backgroundColor]);const u=c=>{s(c),r("backgroundColor",`linear-gradient(145deg, ${c} 0%, ${c} 100%)`)};return f.jsxs("div",{style:On.container,children:[f.jsxs("div",{style:On.grid,children:[f.jsxs("div",{style:On.column,children:[f.jsx(Ve,{label:"Color de Fons",value:l,onChange:u,inputId:"levelscreen-bg-color"}),f.jsx(Ve,{label:"Color de Text Principal",value:i.textColor,onChange:c=>r("textColor",c),inputId:"levelscreen-text-color"}),f.jsx(Ve,{label:"Color de Text Secundari",value:i.subtextColor,onChange:c=>r("subtextColor",c),inputId:"levelscreen-subtext-color"})]}),f.jsxs("div",{style:On.column,children:[f.jsx(Ve,{label:"Color de Targetes (HUD)",value:i.surfaceColor,onChange:c=>r("surfaceColor",c),inputId:"levelscreen-surface-color"}),f.jsx(Ve,{label:"Color de Vores",value:i.borderColor,onChange:c=>r("borderColor",c),inputId:"levelscreen-border-color"})]})]}),f.jsxs("div",{style:On.gradientGroup,children:[f.jsx("label",{style:On.label,children:'Gradient Panell "Memoritzar"'}),f.jsx(Ve,{label:"Accent 1",value:i.accentColor1,onChange:c=>r("accentColor1",c),inputId:"levelscreen-accent1-color"}),f.jsx(Ve,{label:"Accent 2",value:i.accentColor2,onChange:c=>r("accentColor2",c),inputId:"levelscreen-accent2-color"})]}),f.jsxs("div",{style:On.mazeGroup,children:[f.jsx(Ve,{label:"Color Cam (Fons Laberint)",value:i.mazePathColor||"",onChange:c=>r("mazePathColor",c),inputId:"levelscreen-maze-path"}),f.jsx(Ve,{label:"Color Parets",value:i.mazeWallColor||"",onChange:c=>r("mazeWallColor",c),inputId:"levelscreen-maze-wall"}),f.jsx(Ve,{label:"Color Jugador",value:i.mazePlayerColor||"",onChange:c=>r("mazePlayerColor",c),inputId:"levelscreen-maze-player"}),f.jsx(Ve,{label:"Color Sortida",value:i.mazeExitColor||"",onChange:c=>r("mazeExitColor",c),inputId:"levelscreen-maze-exit"}),f.jsx(Ve,{label:"Color Cam Recorregut",value:i.playerPathColor||"",onChange:c=>r("playerPathColor",c),inputId:"levelscreen-maze-path-help"}),f.jsx(Ve,{label:"Color Ajuda Xoc",value:i.crashHelpColor||"",onChange:c=>r("crashHelpColor",c),inputId:"levelscreen-maze-crash-help"}),f.jsx(QS,{label:"Gruix de la Paret (px)",value:i.mazeWallThickness||3,onChange:c=>r("mazeWallThickness",c),inputId:"levelscreen-maze-thickness",min:1,max:10,step:.5})]})]})}const On={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:G.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},settingGroup:{display:"flex",flexDirection:"column",gap:"6px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`},mazeGroup:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`,alignItems:"flex-end"},numberInput:{padding:"8px 12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`,background:"rgba(10, 25, 47, 0.7)",color:G.text,fontSize:"0.875rem",width:"100%",boxSizing:"border-box"}},FS="easy-level-1",ZS=1,e2="easy",t2=[[{walls:{top:!0,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}}],[{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!0}}],[{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!1}}],[{walls:{top:!0,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!0}}],[{walls:{top:!1,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!0}}],[{walls:{top:!1,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}}],[{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!1}}]],n2=7,r2=7,a2=10,l2=[60,45,30],i2={x:0,y:0},s2={x:6,y:6},Ny={id:FS,number:ZS,difficulty:e2,maze:t2,width:n2,height:r2,memorizeTime:a2,starThresholds:l2,start:i2,exit:s2},Lc=Ny,o2={x:2,y:2},u2=[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2}];function C0({settings:i}){const r=A.useMemo(()=>({pagePreview:{background:i.backgroundColor,color:i.textColor,padding:"16px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"10px",overflow:"hidden",position:"relative",boxSizing:"border-box"},headerPreview:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"10px",flexShrink:0},headerBtn:{background:i.surfaceColor,color:i.textColor,border:`1px solid ${i.borderColor}`,borderRadius:"6px",padding:"4px 6px",display:"flex",alignItems:"center",gap:"4px"},headerTitle:{fontSize:"14px",fontWeight:700,margin:0},memorizePanel:{background:`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,borderRadius:"8px",padding:"8px 12px",textAlign:"center",flexShrink:0},memorizeTitle:{fontSize:"12px",fontWeight:600,margin:0,opacity:.9},memorizeTime:{fontSize:"24px",fontWeight:800,margin:"2px 0"},hudPreview:{display:"flex",gap:"6px",flexShrink:0},hudCard:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"6px 8px",flex:1},hudLabel:{fontSize:"10px",color:i.subtextColor,marginBottom:"2px"},hudValue:{fontSize:"14px",fontWeight:700},helpButton:{background:"rgba(255,255,255,0.1)",border:`1px solid ${i.borderColor}`,color:i.subtextColor,borderRadius:"6px",padding:"4px",fontSize:"10px",display:"flex",gap:"4px",alignItems:"center"},helpActive:{background:i.easyColor,color:"#000",borderColor:"transparent"},mazeWrap:{flexGrow:1,minHeight:0,background:i.mazePathColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",position:"relative",overflow:"hidden"}}),[i]);return f.jsxs("div",{style:r.pagePreview,children:[f.jsxs("div",{style:r.headerPreview,children:[f.jsxs("div",{style:r.headerBtn,children:[f.jsx(jr,{size:10})," Nivells"]}),f.jsxs("h1",{style:r.headerTitle,children:["Nivell ",Lc.number]}),f.jsxs("div",{style:r.headerBtn,children:[f.jsx(Xb,{size:10})," Reintentar"]})]}),f.jsxs("div",{style:r.memorizePanel,children:[f.jsx("h2",{style:r.memorizeTitle,children:" Memoritza el Laberint!"}),f.jsx("div",{style:r.memorizeTime,children:Lc.memorizeTime})]}),f.jsxs("div",{style:r.hudPreview,children:[f.jsxs("div",{style:r.hudCard,children:[f.jsx("div",{style:r.hudLabel,children:" Temps"}),f.jsx("div",{style:r.hudValue,children:"0:00"})]}),f.jsxs("div",{style:r.hudCard,children:[f.jsx("div",{style:r.hudLabel,children:" Objectiu"}),f.jsx("div",{style:r.hudValue,children:"1000"})]}),f.jsxs("div",{style:{...r.hudCard,padding:"6px",display:"flex",gap:"4px"},children:[f.jsx("div",{style:{...r.helpButton,...r.helpActive},children:f.jsx(rl,{size:10})}),f.jsx("div",{style:r.helpButton,children:f.jsx(to,{size:10})})]})]}),f.jsx("div",{style:r.mazeWrap,children:f.jsx(Ad,{level:Lc,phase:"playing",playerPos:o2,showReveal:!0,showPlayerPath:!0,forcePathHistory:u2,settings:{path_color:i.mazePathColor,wall_color:i.mazeWallColor,wall_thickness:i.mazeWallThickness,exit_color:i.mazeExitColor,player_color:i.mazePlayerColor,player_path_color:i.playerPathColor,crash_help_color:i.crashHelpColor}})})]})}function c2({settings:i}){const r={container:{width:"100%",color:i.textColor},title:{fontSize:"1rem",fontWeight:600,margin:"0 0 12px 0",color:i.textColor},list:{listStyle:"none",padding:0,margin:0,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px 16px",alignItems:"start"},item:{display:"flex",alignItems:"center",gap:"10px",fontSize:"0.875rem",color:i.subtextColor},swatch:{width:"24px",height:"24px",borderRadius:"4px",border:`1px solid ${i.borderColor}`,flexShrink:0,boxSizing:"border-box"}};return f.jsxs("div",{style:r.container,children:[f.jsx("h4",{style:r.title,children:"Llegenda"}),f.jsxs("ul",{style:r.list,children:[f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,background:i.mazePathColor,border:`${Math.max(2,(i.mazeWallThickness||3)/1.5)}px solid ${i.mazeWallColor}`}}),f.jsx("span",{children:"Parets del laberint"})]}),f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,backgroundColor:i.mazePlayerColor,borderRadius:"50%"}}),f.jsx("span",{children:"Tu (jugador)"})]}),f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,backgroundColor:i.mazeExitColor}}),f.jsx("span",{children:"Sortida del laberint"})]}),f.jsxs("li",{style:r.item,children:[f.jsx("div",{style:{...r.swatch,backgroundColor:i.mazePathColor}}),f.jsx("span",{children:"Fons/cam del laberint"})]})]})]})}const d2=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function Fr({label:i,value:r,onChange:l,isError:s=!1}){const[u,c]=A.useState(!1),h=A.useRef(null);return A.useEffect(()=>{if(!u)return;const p=y=>{y.preventDefault(),y.stopPropagation(),y.key==="Escape"?c(!1):y.key!=="Shift"&&y.key!=="Control"&&y.key!=="Alt"&&y.key!=="Meta"&&(l(y.key.toLowerCase()),c(!1))},g=y=>{h.current&&!h.current.contains(y.target)&&c(!1)};return document.addEventListener("keydown",p,!0),document.addEventListener("mousedown",g,!0),()=>{document.removeEventListener("keydown",p,!0),document.removeEventListener("mousedown",g,!0)}},[u,l]),f.jsxs("div",{style:{...ri.container,borderColor:s?G.hardRed:G.borderColor},children:[f.jsx("label",{style:ri.label,children:i}),f.jsx("button",{ref:h,onClick:()=>c(!0),style:{...ri.button,...u?ri.buttonListening:{},...s?ri.buttonError:{}},children:u?"Prement una tecla...":d2(r)})]})}const ri={container:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(10, 25, 47, 0.7)",padding:"8px 12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`},label:{fontSize:"0.875rem",fontWeight:500,color:G.subtext},button:{fontFamily:"monospace",fontSize:"0.875rem",fontWeight:700,color:G.text,background:G.surface,border:`1px solid ${G.borderColor}`,borderRadius:"4px",padding:"6px 12px",minWidth:"100px",textAlign:"center",cursor:"pointer"},buttonListening:{color:G.accentPink,borderColor:G.accentPink,outline:"none"},buttonError:{color:G.hardRed,borderColor:G.hardRed}},A0=({label:i,checked:r,onChange:l})=>f.jsxs("label",{style:At.toggleContainer,children:[f.jsx("span",{style:At.toggleLabel,children:i}),f.jsx("button",{role:"switch","aria-checked":r,onClick:()=>l(!r),style:{...At.toggleSwitch,...r?At.toggleOn:At.toggleOff},children:f.jsx("span",{style:{...At.toggleKnob,...r?At.knobOn:At.knobOff}})})]}),f2=["keyMoveUp","keyMoveDown","keyMoveLeft","keyMoveRight","keyHelpReveal","keyHelpPath","keyHelpCrash"];function h2({settings:i,onChange:r}){const l=A.useMemo(()=>{const s=new Map;for(const c of f2){const h=i[c];s.has(h)||s.set(h,[]),s.get(h).push(c)}const u=new Set;for(const c of s.values())c.length>1&&c.forEach(h=>u.add(h));return u},[i]);return f.jsxs("div",{style:At.container,children:[f.jsx("h4",{style:At.title,children:"Configuraci de So"}),f.jsxs("div",{style:At.group,children:[f.jsx(A0,{label:"Efectes de So (SFX)",checked:i.soundEffects,onChange:s=>r("soundEffects",s)}),f.jsx(A0,{label:"Msica de Fons",checked:i.backgroundMusic,onChange:s=>r("backgroundMusic",s)})]}),f.jsx("h4",{style:At.title,children:"Controls de Moviment (Lletres)"}),f.jsxs("div",{style:At.keyGrid,children:[f.jsx(Fr,{label:"Amunt",value:i.keyMoveUp,onChange:s=>r("keyMoveUp",s),isError:l.has("keyMoveUp")}),f.jsx(Fr,{label:"Avall",value:i.keyMoveDown,onChange:s=>r("keyMoveDown",s),isError:l.has("keyMoveDown")}),f.jsx(Fr,{label:"Esquerra",value:i.keyMoveLeft,onChange:s=>r("keyMoveLeft",s),isError:l.has("keyMoveLeft")}),f.jsx(Fr,{label:"Dreta",value:i.keyMoveRight,onChange:s=>r("keyMoveRight",s),isError:l.has("keyMoveRight")})]}),f.jsx("p",{style:At.note,children:"Nota: Les tecles de fletxa (, , , ) sempre funcionaran a ms d'aquestes."}),f.jsx("h4",{style:At.title,children:"Controls d'Ajuda"}),f.jsxs("div",{style:At.keyGrid,children:[f.jsx(Fr,{label:"Revelar Laberint",value:i.keyHelpReveal,onChange:s=>r("keyHelpReveal",s),isError:l.has("keyHelpReveal")}),f.jsx(Fr,{label:"Mostrar Cam",value:i.keyHelpPath,onChange:s=>r("keyHelpPath",s),isError:l.has("keyHelpPath")}),f.jsx(Fr,{label:"Ajuda Xoc",value:i.keyHelpCrash,onChange:s=>r("keyHelpCrash",s),isError:l.has("keyHelpCrash")})]}),l.size>0&&f.jsx("p",{style:At.errorText,children:"Error: Hi ha tecles duplicades. Cada acci ha de tenir una tecla nica."})]})}const At={container:{display:"flex",flexDirection:"column",gap:"16px"},title:{fontSize:"1rem",fontWeight:600,color:G.text,margin:"8px 0 0 0",borderTop:`1px solid ${G.borderColor}`,paddingTop:"16px"},group:{display:"flex",flexDirection:"column",gap:"12px"},keyGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},note:{fontSize:"0.8rem",color:G.subtext,margin:"0 0 8px 0",fontStyle:"italic"},toggleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${G.borderColor}`},toggleLabel:{fontSize:"0.875rem",fontWeight:500,color:G.text},toggleSwitch:{position:"relative",width:"44px",height:"24px",borderRadius:"99px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},toggleOn:{background:G.easyGreen},toggleOff:{background:G.surface},toggleKnob:{position:"absolute",top:"2px",width:"20px",height:"20px",background:"white",borderRadius:"50%",transition:"transform 0.2s ease"},knobOn:{transform:"translateX(2px)"},knobOff:{transform:"translateX(-20px)"},errorText:{color:G.hardRed,background:"rgba(248, 113, 113, 0.1)",border:`1px solid ${G.hardRed}`,borderRadius:"6px",padding:"10px 12px",fontSize:"0.875rem",fontWeight:500,margin:"8px 0 0 0"}},p2=["keyMoveUp","keyMoveDown","keyMoveLeft","keyMoveRight","keyHelpReveal","keyHelpPath","keyHelpCrash"];function g2({onBack:i}){const r=on(),{settings:l,updateSettings:s}=yt(),[u,c]=A.useState(()=>JSON.parse(JSON.stringify(l))),[h,p]=A.useState(null),[g,y]=A.useState("home"),[x,w]=A.useState(!1),S=Rg.useRef(null),[j,k]=A.useState(!1),M=A.useMemo(()=>{try{return JSON.stringify(l)!==JSON.stringify(u)}catch{return!1}},[l,u]),E=()=>{if(M){k(!0);return}r.playFail(),i()},I=()=>{J(),k(!1),setTimeout(()=>i(),180)},O=()=>{k(!1),c(JSON.parse(JSON.stringify(l))),setTimeout(()=>i(),60)},q=A.useMemo(()=>{const ne=new Map;for(const F of p2){const se=u.game[F];ne.has(se)||ne.set(se,[]),ne.get(se).push(F)}const K=new Set;for(const F of ne.values())F.length>1&&F.forEach(se=>K.add(se));return K},[u.game]),J=A.useCallback(()=>{if(q.size>0){p("game"),y("game");return}s(u),r.playFail(),w(!0),S.current&&window.clearTimeout(S.current),S.current=window.setTimeout(()=>{w(!1),S.current=null},1500)},[u,s,r]);Rg.useEffect(()=>()=>{S.current&&window.clearTimeout(S.current)},[]);const re=A.useCallback((ne,K)=>{c(F=>{const se=ne.split("."),me=JSON.parse(JSON.stringify(F));let fe=me;for(let z=0;z<se.length-1;z++)if(fe=fe[se[z]],!fe)return F;return fe[se[se.length-1]]=K,me})},[]),ee=ne=>{p(K=>{const F=K===ne?null:ne;return F===ne&&y(ne),F}),r.playSlide()},V=(ne,K,F)=>{re(`visuals.${ne}.${K}`,F)},te=(ne,K)=>{re(`game.${ne}`,K)},we=A.useCallback(ne=>{r.playBtnSound();const K=qg[ne];K&&c(F=>({...F,visuals:{home:{...F.visuals.home,...K},levelSelect:{...F.visuals.levelSelect,...K},levelScreen:{...F.visuals.levelScreen,...K}}}))},[]);return f.jsxs("div",{style:Ye.page,children:[f.jsxs("header",{style:Ye.header,children:[f.jsxs("button",{onClick:E,style:Ye.backButton,"aria-label":"Tornar",onMouseEnter:()=>r.playHover(),children:[f.jsx(jr,{size:20})," Tornar"]}),f.jsx("h1",{style:Ye.title,children:"Configuraci i Accessibilitat"}),f.jsx("div",{style:{width:100}})]}),f.jsxs("div",{style:Ye.contentGrid,children:[f.jsxs("div",{style:Ye.accordionColumn,children:[f.jsxs("section",{style:Ye.presetsSection,children:[f.jsx("h3",{style:Ye.presetsTitle,children:"Temes Predefinits"}),f.jsx("div",{style:Ye.presetsGrid,children:Object.keys(qg).map(ne=>f.jsx("button",{style:Ye.presetButton,onClick:()=>we(ne),onMouseEnter:()=>r.playHover(),children:ne},ne))})]}),f.jsxs("div",{style:Ye.accordionItem,children:[f.jsxs("button",{style:Ye.accordionHeader,onClick:()=>ee("home"),"aria-expanded":h==="home",children:[f.jsx("span",{children:" Pantalla d'Inici"}),h==="home"?f.jsx(zs,{size:20}):f.jsx(Os,{size:20})]}),h==="home"&&f.jsx("div",{style:Ye.accordionContent,children:f.jsx(IS,{settings:u.visuals.home,onChange:(ne,K)=>V("home",ne,K)})})]}),f.jsxs("div",{style:Ye.accordionItem,children:[f.jsxs("button",{style:Ye.accordionHeader,onClick:()=>ee("levelSelect"),"aria-expanded":h==="levelSelect",children:[f.jsx("span",{children:" Selecci de Nivell"}),h==="levelSelect"?f.jsx(zs,{size:20}):f.jsx(Os,{size:20})]}),h==="levelSelect"&&f.jsx("div",{style:Ye.accordionContent,children:f.jsx(JS,{settings:u.visuals.levelSelect,onChange:(ne,K)=>V("levelSelect",ne,K)})})]}),f.jsxs("div",{style:Ye.accordionItem,children:[f.jsxs("button",{style:Ye.accordionHeader,onClick:()=>ee("levelScreen"),"aria-expanded":h==="levelScreen",children:[f.jsx("span",{children:" Pantalla de Joc"}),h==="levelScreen"?f.jsx(zs,{size:20}):f.jsx(Os,{size:20})]}),h==="levelScreen"&&f.jsx("div",{style:Ye.accordionContent,children:f.jsx(XS,{settings:u.visuals.levelScreen,onChange:(ne,K)=>V("levelScreen",ne,K)})})]}),f.jsxs("div",{style:Ye.accordionItem,children:[f.jsxs("button",{style:Ye.accordionHeader,onClick:()=>ee("game"),"aria-expanded":h==="game",children:[f.jsx("span",{children:" Configuraci de Joc"}),h==="game"?f.jsx(zs,{size:20}):f.jsx(Os,{size:20})]}),h==="game"&&f.jsx("div",{style:Ye.accordionContent,children:f.jsx(h2,{settings:u.game,onChange:te})})]}),f.jsxs("button",{onClick:J,style:Ye.saveButton,onMouseEnter:()=>r.playHover(),children:[f.jsx(Zb,{size:18})," Desar Configuraci"]}),x&&f.jsx("div",{role:"status","aria-live":"polite",style:{textAlign:"center",color:"#059669",marginTop:8,fontWeight:700},children:"Configuraci seleccionada aplicada correctament!"})]}),f.jsxs("aside",{style:Ye.previewColumn,"aria-label":"Vista prvia en temps real",children:[f.jsx("div",{style:Ye.previewHeader,children:f.jsx("span",{children:"Vista Prvia en Temps Real"})}),f.jsxs("div",{style:Ye.previewContent,children:[g==="home"&&f.jsx(KS,{settings:u.visuals.home}),g==="levelSelect"&&f.jsx(WS,{settings:u.visuals.levelSelect}),g==="levelScreen"&&f.jsx(C0,{settings:u.visuals.levelScreen}),g==="game"&&f.jsx(C0,{settings:u.visuals.levelScreen}),!g&&f.jsx("p",{style:{color:G.subtext,fontStyle:"italic"},children:"Selecciona una secci per veure la previsualitzaci."})]}),f.jsx("div",{style:Ye.legend,children:g==="levelScreen"||g==="game"?f.jsx(c2,{settings:u.visuals.levelScreen}):f.jsx("p",{children:"Pgina sense llegenda"})})]})]}),j&&f.jsx("div",{style:{position:"fixed",inset:0,display:"grid",placeItems:"center",background:"rgba(0,0,0,0.66)",zIndex:60},children:f.jsxs("div",{style:{width:"min(560px, 92%)",background:G.surface,border:`1px solid ${G.borderColor}`,borderRadius:12,padding:20,boxShadow:G.shadow},role:"dialog","aria-modal":"true",children:[f.jsx("h3",{style:{margin:0,marginBottom:8},children:"Tens canvis no desats"}),f.jsx("p",{style:{marginTop:0,color:G.subtext},children:"Vols desar els canvis abans de sortir?"}),f.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:16},children:[f.jsx("button",{onClick:()=>k(!1),style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${G.borderColor}`,background:"transparent",color:G.text},children:"Cancellar"}),f.jsx("button",{onClick:O,style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${G.borderColor}`,background:"transparent",color:G.text},children:"Descartar i sortir"}),f.jsx("button",{onClick:I,style:{padding:"8px 12px",borderRadius:8,border:"none",background:G.easyGreen,color:"#0A192F",fontWeight:700},children:"Desar i sortir"})]})]})})]})}const Ye={page:{minHeight:"100svh",width:"100%",margin:0,background:G.bg,color:G.text,padding:"clamp(16px, 3vw, 24px)",boxSizing:"border-box"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",width:"100%",maxWidth:"1400px",margin:"0 auto 24px"},backButton:{padding:"10px 14px",borderRadius:12,border:G.borderColor,background:G.surface,color:G.text,cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:"6px",width:100},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},contentGrid:{display:"grid",gridTemplateColumns:"minmax(400px, 3fr) minmax(300px, 2fr)",gap:"clamp(24px, 4vw, 40px)",width:"100%",maxWidth:"1400px",margin:"0 auto"},presetsSection:{display:"flex",flexDirection:"column",gap:"12px"},presetsTitle:{fontSize:"1.125rem",fontWeight:600,margin:0,color:G.accentCyan},presetsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},presetButton:{padding:"12px",borderRadius:"8px",border:`1px solid ${G.borderColor}`,background:"rgba(255, 255, 255, 0.06)",color:G.text,fontSize:"0.875rem",fontWeight:500,cursor:"pointer",textAlign:"center",transition:"background 0.2s ease"},accordionColumn:{background:G.surface,border:`1px solid ${G.borderColor}`,borderRadius:16,padding:"clamp(16px, 3vw, 24px)",boxShadow:G.shadow,display:"flex",flexDirection:"column",gap:"12px"},accordionItem:{borderBottom:`1px solid ${G.borderColor}`,paddingBottom:"12px"},accordionHeader:{background:"none",border:"none",color:G.text,fontSize:"1rem",fontWeight:600,cursor:"pointer",padding:"8px 0",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left"},accordionContent:{padding:"16px 4px 4px 4px",borderTop:`1px dashed ${G.borderColor}`,marginTop:"8px"},previewColumn:{borderRadius:16,display:"flex",flexDirection:"column",gap:"16px",position:"sticky",top:"24px",maxHeight:"calc(100vh - 48px)",overflow:"hidden"},previewHeader:{background:`linear-gradient(90deg, ${G.accentPink}, ${G.accentViolet})`,color:"#fff",padding:"12px 16px",borderRadius:"12px 12px 0 0",fontWeight:600},previewContent:{flexGrow:1,background:G.surface,border:`1px solid ${G.borderColor}`,borderRadius:"0 0 12px 12px",display:"grid",placeItems:"center",padding:"16px",minHeight:"300px"},legend:{background:G.surface,border:`1px solid ${G.borderColor}`,borderRadius:12,padding:"16px",fontSize:14,color:G.subtext},saveButton:{padding:"14px",borderRadius:10,border:"none",background:G.easyGreen,color:"#0A192F",fontSize:16,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"auto"}},Hc=(i,r,l)=>Math.max(r,Math.min(l,i));function y2({onBack:i,onStartGame:r}){const{getVisualSettings:l}=yt(),s=l("levelSelect"),[u,c]=A.useState("7"),[h,p]=A.useState("7"),[g,y]=A.useState("10"),[x,w]=A.useState("normal"),S=()=>{const k=parseInt(u,10),M=parseInt(h,10),E=parseInt(g,10),I=!Number.isNaN(k)&&k>=5&&k<=25,O=!Number.isNaN(M)&&M>=5&&M<=25,q=!Number.isNaN(E)&&E>=3&&E<=60;if(!I||!O||!q)return;const J={width:Hc(k,5,25),height:Hc(M,5,25),time:Hc(E,3,60),difficulty:x};r(J)},j=A.useMemo(()=>({page:{background:s.backgroundColor,color:s.textColor,minHeight:"100svh",width:"100vw",padding:"clamp(16px, 4vw, 32px)",boxSizing:"border-box"},container:{maxWidth:600,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{margin:0,fontSize:"clamp(24px, 5vw, 32px)"},backBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${s.borderColor}`,background:s.surfaceColor,color:s.textColor,cursor:"pointer",fontSize:16},form:{display:"flex",flexDirection:"column",gap:"16px",background:s.surfaceColor,padding:"24px",borderRadius:"16px",border:`1px solid ${s.borderColor}`},label:{fontSize:14,color:s.subtextColor,marginBottom:4},input:{background:"rgba(0,0,0,0.2)",border:`1px solid ${s.borderColor}`,color:s.textColor,padding:"12px",borderRadius:"8px",fontSize:16,width:"100%",boxSizing:"border-box"},select:{background:"rgba(0,0,0,0.2)",border:`1px solid ${s.borderColor}`,color:s.textColor,padding:"12px",borderRadius:"8px",fontSize:16,width:"100%",boxSizing:"border-box"},playBtn:{padding:"16px",borderRadius:12,border:"none",background:`linear-gradient(90deg, ${s.accentColor1}, ${s.accentColor2})`,color:s.textColor,fontSize:18,fontWeight:800,cursor:"pointer",marginTop:"16px"}}),[s]);return f.jsx("main",{style:j.page,children:f.jsxs("div",{style:j.container,children:[f.jsxs("header",{style:j.header,children:[f.jsxs("button",{style:j.backBtn,onClick:i,"aria-label":"Tornar a selecci de nivell",children:[f.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),f.jsx("h1",{style:j.title,children:"Mode Lliure"}),f.jsx("div",{style:{width:100}})]}),f.jsxs("div",{style:j.form,children:[f.jsxs("div",{children:[f.jsx("label",{style:j.label,htmlFor:"width",children:"Amplada (Min: 5, Max: 25)"}),(()=>{const k=parseInt(u,10),M=!Number.isNaN(k)&&k>=5&&k<=25,E=u.trim()!==""&&!M,I={...j.input,border:`1px solid ${E?"#ef4444":s.borderColor}`};return f.jsxs(f.Fragment,{children:[f.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":E,"aria-describedby":E?"width-error":void 0,style:I,type:"text",id:"width",value:u,onChange:O=>c(O.target.value)}),E&&f.jsx("div",{id:"width-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Amplada invlida  ha de ser entre 5 i 25."})]})})()]}),f.jsxs("div",{children:[f.jsx("label",{style:j.label,htmlFor:"height",children:"Alada (Min: 5, Max: 25)"}),(()=>{const k=parseInt(h,10),M=!Number.isNaN(k)&&k>=5&&k<=25,E=h.trim()!==""&&!M,I={...j.input,border:`1px solid ${E?"#ef4444":s.borderColor}`};return f.jsxs(f.Fragment,{children:[f.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":E,"aria-describedby":E?"height-error":void 0,style:I,type:"text",id:"height",value:h,onChange:O=>p(O.target.value)}),E&&f.jsx("div",{id:"height-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Alada invlida  ha de ser entre 5 i 25."})]})})()]}),f.jsxs("div",{children:[f.jsx("label",{style:j.label,htmlFor:"time",children:"Temps de Memoritzaci (Min: 3, Max: 60)"}),(()=>{const k=parseInt(g,10),M=!Number.isNaN(k)&&k>=3&&k<=60,E=g.trim()!==""&&!M,I={...j.input,border:`1px solid ${E?"#ef4444":s.borderColor}`};return f.jsxs(f.Fragment,{children:[f.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":E,"aria-describedby":E?"time-error":void 0,style:I,type:"text",id:"time",value:g,onChange:O=>y(O.target.value)}),E&&f.jsx("div",{id:"time-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Temps invlid  ha de ser entre 3 i 60 segons."})]})})()]}),f.jsxs("div",{children:[f.jsx("label",{style:j.label,htmlFor:"difficulty",children:"Dificultat"}),f.jsxs("select",{id:"difficulty",style:j.select,value:x,onChange:k=>w(k.target.value),children:[f.jsx("option",{value:"normal",children:"Normal (Sense vides)"}),f.jsx("option",{value:"hard",children:"Difcil (Amb vides)"})]})]}),(()=>{const k=parseInt(u,10),M=parseInt(h,10),E=parseInt(g,10),I=!Number.isNaN(k)&&k>=5&&k<=25,O=!Number.isNaN(M)&&M>=5&&M<=25,q=!Number.isNaN(E)&&E>=3&&E<=60,J=u.trim()!==""&&h.trim()!==""&&g.trim()!==""&&I&&O&&q;return f.jsx("button",{style:{...j.playBtn,opacity:J?1:.5,cursor:J?"pointer":"not-allowed"},onClick:S,disabled:!J,"aria-disabled":!J,title:J?"Jugar":"Corregeix valors invlids abans de jugar",children:"Jugar"})})()]})]})})}const Is=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function m2({totalScore:i,revealCharges:r,isPathHelpActive:l,onRevealHelp:s,onTogglePathHelp:u,lives:c}){const{getVisualSettings:h,settings:p}=yt(),g=h("levelScreen"),{game:y}=p,x={container:{display:"flex",flexWrap:"wrap",gap:"12px",width:"100%",alignItems:"stretch"},card:{background:g.surfaceColor,border:`1px solid ${g.borderColor}`,borderRadius:14,padding:"12px 16px",color:g.textColor,display:"flex",flexDirection:"column",gap:"4px",flexGrow:1,flexBasis:"180px"},helpsCard:{flexDirection:"row",flexWrap:"wrap",gap:"8px",flexBasis:"300px",justifyContent:"center",alignItems:"center"},label:{fontSize:14,color:g.subtextColor,display:"flex",alignItems:"center",gap:"4px",fontWeight:500},valueLarge:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:700,lineHeight:1},stars:{color:g.normalColor},helpButton:{background:"rgba(255,255,255,0.08)",border:`1px solid ${g.borderColor}`,color:g.subtextColor,padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:13,fontWeight:600,flexGrow:1},helpActive:{background:g.easyColor,color:"#000",borderColor:"transparent"},livesText:{fontSize:"clamp(20px, 4vw, 28px)",fontWeight:700,lineHeight:1,letterSpacing:"0.1em"}};return f.jsxs("div",{style:x.container,children:[f.jsxs("div",{style:x.card,children:[f.jsx("span",{style:x.label,children:" Puntuaci Total"}),f.jsx("span",{style:x.valueLarge,children:Math.round(i)})]}),f.jsxs("div",{style:x.card,children:[f.jsx("span",{style:x.label,children:" Vides"}),f.jsxs("span",{style:x.livesText,"aria-label":`${c} vides restants`,children:["".repeat(c),"".repeat(Math.max(0,3-c))]})]}),f.jsxs("div",{style:{...x.card,...x.helpsCard},children:[f.jsxs("button",{style:x.helpButton,onClick:s,disabled:r===0,title:`Mostra el laberint (${Is(y.keyHelpReveal)}) | Cost: 50 pts`,children:[f.jsx(rl,{size:18}),f.jsxs("span",{children:["Revelar (",r,")"]}),f.jsx("kbd",{children:Is(y.keyHelpReveal)})]}),f.jsxs("button",{style:{...x.helpButton,...l?x.helpActive:{}},onClick:u,title:`Mostra el cam recorregut (${Is(y.keyHelpPath)}) | Cost: -2 pts/s`,children:[f.jsx(to,{size:18}),f.jsx("span",{children:"Cam"}),f.jsx("kbd",{children:Is(y.keyHelpPath)})]})]})]})}const v2=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Ne(i.textColor,.08);return{overlay:{position:"fixed",inset:0,background:Ne(i.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},successIcon:{color:i.easyColor,marginBottom:"-16px"},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:i.easyColor},results:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:i.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function b2({levelNumber:i,pointsGained:r,totalScore:l,onNextLevel:s,onBack:u}){const c=on(),{getVisualSettings:h}=yt(),p=h("levelScreen"),g=A.useMemo(()=>v2(p),[p]);return f.jsx("div",{style:g.overlay,children:f.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[f.jsx("div",{style:g.successIcon,children:f.jsx(dd,{size:56})}),f.jsxs("h2",{id:"modalTitle",style:g.title,children:["Nivell ",i+1," Superat!"]}),f.jsxs("div",{style:g.results,children:[f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Punts Aconseguits"}),f.jsxs("span",{style:g.resultValue,children:["+",Math.round(r)]})]}),f.jsxs("div",{style:g.resultItem,children:[f.jsx("span",{style:g.resultLabel,children:"Puntuaci Total"}),f.jsx("span",{style:g.resultValue,children:Math.round(l)})]})]}),f.jsxs("div",{style:g.actions,children:[f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.retryButton,onClick:s,children:["Segent Nivell ",f.jsx(cd,{size:18})]}),f.jsxs("button",{onMouseEnter:()=>c.playHover(),style:g.backButton,onClick:u,children:[f.jsx(jr,{size:18})," Tornar al Men"]})]})]})})}const x2=500,j0=3,E0=[{w:3,h:3},{w:3,h:4},{w:4,h:4},{w:4,h:5},{w:5,h:5},{w:5,h:6},{w:6,h:6},{w:6,h:7},{w:7,h:7},{w:7,h:8},{w:8,h:8},{w:8,h:9},{w:9,h:9},{w:10,h:10},{w:12,h:12},{w:15,h:15},{w:18,h:18},{w:20,h:20}];function $c(i){const r=Math.min(i-1,E0.length-1),{w:l,h:s}=E0[r],u=l*s,c=Math.min(18,Math.max(5,Math.round(u/6)));return{width:l,height:s,memorizeTime:c}}function Vc(i){const r=Math.floor((i-1)/3),l=Math.min(r,6),s=400+l*200,u=.4+l*.15,c=1+l*.5,h=25+l*10;return{baseScore:s,timeLossPerSecond:u,pathHelpLossPerSecond:c,revealCost:h}}const Ys=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function w2({onBack:i}){const r=on(),{getVisualSettings:l,settings:s}=yt(),{user:u}=yi(),c=l("levelScreen"),{keyMoveUp:h,keyMoveDown:p,keyMoveLeft:g,keyMoveRight:y}=s.game,[x,w]=A.useState(1),[S,j]=A.useState(0),[k,M]=A.useState(()=>la()),[E,I]=A.useState(()=>{const be=$c(1);return tl({levelNumber:1,difficulty:"normal",width:be.width,height:be.height,memorizeTime:be.memorizeTime,stars:[60,45,30]})}),[O,q]=A.useState(0),[J,re]=A.useState(()=>Vc(1)),ee=E.memorizeTime,[V,te]=A.useState("memorize"),[we,ne]=A.useState(ee),K=A.useRef(ee),[F,se]=A.useState({x:E.start.x,y:E.start.y}),[me,fe]=A.useState([{x:E.start.x,y:E.start.y}]),[z,W]=A.useState(0),[ie,he]=A.useState(()=>J.baseScore),[X,v]=A.useState(j0),[_,L]=A.useState(3),[H,Q]=A.useState(!1),[Z,le]=A.useState(!1),[je,xe]=A.useState(!1),[Rt,Sn]=A.useState(null),[Tr,_n]=A.useState(!1),Ht=A.useMemo(()=>{const be=K.current-we;return Math.min(100,Math.max(0,be/K.current*100))},[we]),un=A.useCallback((be,Xe)=>{te("memorize"),ne(be.memorizeTime),K.current=be.memorizeTime,se({x:be.start.x,y:be.start.y}),fe([{x:be.start.x,y:be.start.y}]),W(0),he(Xe.baseScore),v(j0),L(3),Q(!1),le(!1),Sn(null),xe(!1)},[]);A.useEffect(()=>{if(V!=="memorize")return;const Xe=setInterval(()=>{ne(ge=>ge<=1?(clearInterval(Xe),r.playStart(),te("playing"),se({x:E.start.x,y:E.start.y}),0):(ge<=4?r.playTickFinal():r.playTick(),ge-1))},1e3);return()=>clearInterval(Xe)},[V,E.start.x,E.start.y,r]);const Fn=A.useRef(H);A.useEffect(()=>{Fn.current=H},[H]);const kr=A.useRef(Z);A.useEffect(()=>{kr.current=Z},[Z]),A.useEffect(()=>{if(V==="playing")return r.startMusic(),()=>r.stopMusic();r.stopMusic()},[V,r]),A.useEffect(()=>{if(V!=="playing")return;const be=setInterval(()=>{W(Xe=>Xe+1),he(Xe=>{let ge=J.timeLossPerSecond;return Fn.current&&(ge+=J.pathHelpLossPerSecond),Math.max(0,Xe-ge)})},1e3);return()=>clearInterval(be)},[V,J]);const Cn=A.useCallback(()=>{V!=="playing"||_<=0||je||(r.playReveal(),L(be=>be-1),he(be=>Math.max(0,be-J.revealCost)),xe(!0),setTimeout(()=>xe(!1),x2))},[V,_,je,r,J]),cn=A.useCallback(()=>{V==="playing"&&Q(be=>(be?r.playToggleOff():r.playToggleOn(),!be))},[V,r]),dn=A.useCallback(()=>{V==="playing"&&le(be=>(be?r.playToggleOff():r.playToggleOn(),!be))},[V,r]),Qt=A.useCallback(()=>{r.playFail(),r.stopMusic(),i()},[r,i]),sl=A.useCallback(()=>{r.playFail(),r.stopMusic(),j(0),w(1),M(la());const be=$c(1),Xe=tl({levelNumber:1,difficulty:"normal",width:be.width,height:be.height,memorizeTime:be.memorizeTime,stars:[60,45,30]}),ge=Vc(1);I(Xe),re(ge),un(Xe,ge)},[r,un]),ol=A.useCallback(()=>{r.playBtnSound(),r.stopMusic(),w(be=>{const Xe=be+1,ge=$c(Xe),An=tl({levelNumber:Xe,difficulty:"normal",width:ge.width,height:ge.height,memorizeTime:ge.memorizeTime,stars:[60,45,30]}),ve=Vc(Xe);return I(An),re(ve),un(An,ve),Xe}),_n(!1)},[r,un]);A.useEffect(()=>{V==="completed"&&(q(ie),j(be=>be+ie),_n(!0))},[V,ie]),A.useEffect(()=>{if(V!=="playing")return;const{game:be}=s,Xe=ge=>{const An=ge.target;if(An&&(["INPUT","TEXTAREA","SELECT"].includes(An.tagName)||An.isContentEditable)||je)return;Sn(null);const ve=ge.key.toLowerCase();if(ge.key===be.keyHelpReveal||ve===(be.keyHelpReveal||"").toLowerCase()){ge.preventDefault(),Cn();return}if(ve===(be.keyHelpPath||"").toLowerCase()){ge.preventDefault(),cn();return}const{x:ct,y:Ue}=F;let vt=ct,Le=Ue,bt=!1;if(ge.key==="ArrowUp"||ve===(be.keyMoveUp||"").toLowerCase())ge.preventDefault(),E.maze[Ue][ct].walls.top?bt=!0:Le-=1;else if(ge.key==="ArrowDown"||ve===(be.keyMoveDown||"").toLowerCase())ge.preventDefault(),E.maze[Ue][ct].walls.bottom?bt=!0:Le+=1;else if(ge.key==="ArrowLeft"||ve===(be.keyMoveLeft||"").toLowerCase())ge.preventDefault(),E.maze[Ue][ct].walls.left?bt=!0:vt-=1;else if(ge.key==="ArrowRight"||ve===(be.keyMoveRight||"").toLowerCase())ge.preventDefault(),E.maze[Ue][ct].walls.right?bt=!0:vt+=1;else return;if(bt){r.playCrash();const Je=X-1;if(Je<=0){v(0),r.stopMusic(),te("failed");const fn=iS(S);if(M(fn),!u)try{localStorage.setItem("mazeMindLocalProgressPending","1")}catch($t){console.warn("No s'ha pogut marcar el progrs local pendent",$t)}u&&Ed(u.id,fn).catch($t=>{console.error("Error sincronitzant el millor score de prctica:",$t)})}else v(Je),se({x:E.start.x,y:E.start.y}),fe([{x:E.start.x,y:E.start.y}]);return}vt>=0&&vt<E.width&&Le>=0&&Le<E.height&&(se({x:vt,y:Le}),fe(Je=>[...Je,{x:vt,y:Le}])),vt===E.exit.x&&Le===E.exit.y&&(r.playWin(),r.stopMusic(),te("completed"))};return window.addEventListener("keydown",Xe),()=>window.removeEventListener("keydown",Xe)},[V,s,E,F,X,je,r,Cn,cn,dn,S,u]);const mt=A.useMemo(()=>({path_color:c.mazePathColor||"#EEF2FF",wall_color:c.mazeWallColor||"#3B82F6",wall_thickness:c.mazeWallThickness||3,exit_color:c.mazeExitColor||c.normalColor||"#F59E0B",player_color:c.mazePlayerColor||"#111",player_path_color:c.playerPathColor||"rgba(0, 0, 0, 0.4)",crash_help_color:c.crashHelpColor||"#E11D48"}),[c]),ut={page:{minHeight:"100svh",width:"100%",margin:0,background:c.backgroundColor,color:c.textColor,boxSizing:"border-box",padding:"clamp(16px, 3vw, 24px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",alignItems:"center"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexShrink:0,width:"100%",maxWidth:"980px"},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},ghostBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${c.borderColor}`,background:c.surfaceColor,color:c.textColor,cursor:"pointer",fontSize:16,whiteSpace:"nowrap"},mainArea:{flexGrow:1,display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",minHeight:0,width:"100%",maxWidth:"980px"},memorizePanel:{background:`linear-gradient(90deg, ${c.accentColor1}, ${c.accentColor2})`,borderRadius:16,padding:"16px clamp(16px, 3vw, 24px) 20px",boxShadow:G.shadow,textAlign:"center",flexShrink:0},memorizeHeading:{margin:0,fontSize:"clamp(16px, 2vw, 18px)",opacity:.95},memorizeCounter:{fontSize:"clamp(40px, 6vw, 56px)",fontWeight:800,marginTop:6},progressTrack:{marginTop:10,height:10,borderRadius:999,background:"rgba(255,255,255,.35)",overflow:"hidden"},progressFill:{height:"100%",background:c.surfaceColor,borderRadius:999},boardWrap:{flexGrow:1,display:"grid",placeItems:"center",minHeight:0},boardInner:{width:"100%",height:"100%",aspectRatio:"1 / 1",maxWidth:"calc(100vh - 300px)",maxHeight:"100%",background:c.mazePathColor,borderRadius:16,boxShadow:"0 16px 48px rgba(0,0,0,.35), inset 0 0 0 3px rgba(0,0,0,.25)",overflow:"hidden",position:"relative"},footer:{flexShrink:0,width:"100%",maxWidth:"980px",textAlign:"center"},tip:{display:"inline-block",background:c.surfaceColor,border:`1px solid ${c.borderColor}`,padding:"10px 16px",borderRadius:10,color:c.subtextColor,fontSize:14}};return f.jsxs("div",{style:ut.page,children:[f.jsxs("header",{style:ut.headerRow,children:[f.jsxs("button",{type:"button",onClick:Qt,onMouseEnter:()=>r.playHover(),style:ut.ghostBtn,children:[f.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),f.jsxs("h1",{style:ut.title,children:["Mode Score - Nivell ",x]}),f.jsx("div",{style:{width:100}})]}),f.jsxs("main",{style:ut.mainArea,children:[V==="memorize"?f.jsxs("section",{"aria-labelledby":"memorizeTitle",style:ut.memorizePanel,children:[f.jsxs("h2",{id:"memorizeTitle",style:ut.memorizeHeading,children:[f.jsx("span",{"aria-hidden":"true",children:""})," Memoritza el Laberint!"]}),f.jsx("div",{role:"status","aria-live":"polite",style:ut.memorizeCounter,children:we}),f.jsx("div",{role:"progressbar","aria-valuenow":Math.round(Ht),style:ut.progressTrack,children:f.jsx("div",{style:{...ut.progressFill,width:`${Ht}%`}})})]}):f.jsx(m2,{totalScore:S,revealCharges:_,isPathHelpActive:H,isCrashHelpActive:Z,onRevealHelp:Cn,onTogglePathHelp:cn,onToggleCrashHelp:dn,lives:X}),f.jsx("section",{"aria-label":"Tauler del laberint",style:ut.boardWrap,children:f.jsx("div",{style:ut.boardInner,children:f.jsx(Ad,{level:E,phase:V,playerPos:F,showReveal:je,settings:mt,showPlayerPath:H,crashPosition:Rt,forcePathHistory:me})})})]}),f.jsx("footer",{style:ut.footer,children:V==="playing"?f.jsxs("p",{style:ut.tip,children:["Utilitza les ",f.jsx("kbd",{children:"Fletxes"})," o",f.jsxs("kbd",{children:[" ",Ys(h)]}),f.jsx("kbd",{children:Ys(g)}),f.jsx("kbd",{children:Ys(p)}),f.jsxs("kbd",{children:[Ys(y)," "]}),"per mouret."]}):V==="memorize"?f.jsx("p",{style:ut.tip,children:"Memoritza el cam des de l'inici (cercle) fins al final (quadrat)."}):null}),V==="failed"&&f.jsx(By,{onRetry:sl,onBack:Qt,score:Math.round(S),bestScore:Math.round(k),isPracticeScoreMode:!0}),V==="completed"&&Tr&&f.jsx(b2,{levelNumber:x-1,pointsGained:ie,totalScore:S,onNextLevel:ol,onBack:Qt})]})}const S2=1,_2=15,C2=i=>{const[,r]=i.split("-");if(!r)return!1;const l=Number(r);return Number.isFinite(l)&&l>=S2&&l<=_2},A2=(i,r)=>{const l={totalDifferent:0,localBetterStars:0,localBetterTime:0,localBetterPoints:0};return new Set([...Object.keys(i.levels),...Object.keys(r.levels)]).forEach(u=>{if(!C2(u))return;const c=i.levels[u],h=r.levels[u];if(!c&&!h)return;const p=(c?.stars??0)-(h?.stars??0),g=c?.bestTime??null,y=h?.bestTime??null,x=c?.bestPoints??null,w=h?.bestPoints??null;(p!==0||g!==y||x!==w)&&(l.totalDifferent+=1),p>0&&(l.localBetterStars+=1),g!==null&&(y===null||g<y)&&(l.localBetterTime+=1),x!==null&&(w===null||x>w)&&(l.localBetterPoints+=1)}),l},T0=new Intl.NumberFormat("ca-ES");function j2({cloudProgress:i,localProgress:r,cloudPracticeBest:l,localPracticeBest:s,onChooseCloudOnly:u,onChooseLocalOnly:c,onChooseSmartMerge:h,onCancel:p}){const g=A.useMemo(()=>A2(r,i),[i,r]);return f.jsx("div",{style:ht.overlay,role:"dialog","aria-modal":"true","aria-labelledby":"merge-progress-title",children:f.jsxs("div",{style:ht.modal,children:[f.jsx("h2",{id:"merge-progress-title",style:ht.title,children:"Sincronitza el teu progrs"}),f.jsx("p",{style:ht.body,children:"Hem detectat progrs diferent entre aquest dispositiu i el nvol. Tria com vols continuar:"}),f.jsxs("div",{style:ht.summaryGrid,children:[f.jsx(Ks,{label:"Nivells amb diferncies",value:g.totalDifferent}),f.jsx(Ks,{label:"Nivells on el local t ms estrelles",value:g.localBetterStars}),f.jsx(Ks,{label:"Nivells on el local t millor temps",value:g.localBetterTime}),f.jsx(Ks,{label:"Nivells on el local t ms punts",value:g.localBetterPoints})]}),f.jsxs("div",{style:ht.practiceRow,children:[f.jsxs("div",{children:[f.jsx("p",{style:ht.practiceLabel,children:"Millor puntuaci prctica (local)"}),f.jsx("p",{style:ht.practiceValue,children:T0.format(s??0)})]}),f.jsx("div",{style:ht.practiceDivider,"aria-hidden":"true"}),f.jsxs("div",{children:[f.jsx("p",{style:ht.practiceLabel,children:"Millor puntuaci prctica (nvol)"}),f.jsx("p",{style:ht.practiceValue,children:T0.format(l??0)})]})]}),f.jsxs("div",{style:ht.actions,children:[f.jsx("button",{style:ht.secondaryButton,onClick:u,children:"Fer servir noms el nvol"}),f.jsx("button",{style:ht.secondaryButton,onClick:c,children:"Fer servir noms el local"}),f.jsx("button",{style:ht.primaryButton,onClick:h,children:"Fusi intelligent"})]}),f.jsx("button",{style:ht.cancelButton,onClick:p,children:"Cancella i torna enrere"})]})})}const Ks=({label:i,value:r})=>f.jsxs("div",{style:ht.card,children:[f.jsx("span",{style:ht.cardValue,children:r}),f.jsx("span",{style:ht.cardLabel,children:i})]}),ht={overlay:{position:"fixed",inset:0,background:"rgba(8, 15, 40, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",padding:"1.5rem",zIndex:110},modal:{width:"min(640px, 100%)",background:"#0f172a",color:"#f8fafc",borderRadius:"1.25rem",border:"1px solid rgba(255,255,255,0.12)",padding:"2rem",boxShadow:"0 30px 80px rgba(2,6,23,0.8)",display:"flex",flexDirection:"column",gap:"1.25rem"},title:{fontSize:"1.75rem",margin:0},body:{margin:0,color:"rgba(248,250,252,0.85)",lineHeight:1.5},summaryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem"},card:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",padding:"0.75rem",textAlign:"center"},cardValue:{fontSize:"1.75rem",fontWeight:700,display:"block"},cardLabel:{fontSize:"0.85rem",color:"rgba(248,250,252,0.75)"},practiceRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(15,23,42,0.45)",gap:"1rem",flexWrap:"wrap"},practiceLabel:{margin:0,fontSize:"0.85rem",color:"rgba(248,250,252,0.7)"},practiceValue:{margin:0,fontSize:"1.4rem",fontWeight:700},practiceDivider:{width:"1px",height:"2.5rem",background:"rgba(248,250,252,0.15)"},actions:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"0.75rem"},primaryButton:{borderRadius:"0.75rem",border:"none",padding:"0.9rem 1.2rem",fontWeight:700,background:"linear-gradient(135deg, #34d399, #10b981)",color:"#041221",cursor:"pointer"},secondaryButton:{borderRadius:"0.75rem",border:"1px solid rgba(255,255,255,0.3)",padding:"0.9rem 1.2rem",fontWeight:600,background:"rgba(15,23,42,0.2)",color:"#f8fafc",cursor:"pointer"},cancelButton:{borderRadius:"0.75rem",border:"none",padding:"0.75rem 1rem",fontWeight:600,background:"transparent",color:"rgba(248,250,252,0.6)",cursor:"pointer",textDecoration:"underline",alignSelf:"center"}},Uy=i=>i.startsWith("/")?i:`/${i}`,E2=i=>{const r=i.endsWith("/")?i.slice(0,-1):i;return r.startsWith("/")?r:`/${r}`},qc=(i,r)=>{const l=Number.parseInt(i??"",10);return Number.isFinite(l)&&l>0?l:r},Gc=i=>{if(!i)return"/";const[r,l]=i.split("?"),s=r?r.replace(/\/+/g,"/"):"/",u=s.endsWith("/")&&s!=="/"?s.slice(0,-1):s,c=Uy(u);return l?`${c}?${l}`:c},k0=()=>{if(typeof window>"u")return"/";const{pathname:i,search:r}=window.location;return`${i}${r}`||"/"},T2={"easy-1":Ny},k2="/MazeMind-TFG/",ai=E2(k2),R2=1,O2=15,Td=i=>{const[r,l]=i.split("-");if(!r||!l)return!1;const s=Number(l);return Number.isFinite(s)&&s>=R2&&s<=O2},z2=i=>({levels:Object.fromEntries(Object.entries(i.levels).filter(([r])=>Td(r))),highestUnlocked:{...i.highestUnlocked}}),M2=(i,r)=>r>0||i.highestUnlocked.easy>1||i.highestUnlocked.normal>1||i.highestUnlocked.hard>1?!0:Object.keys(i.levels).some(l=>Td(l)),B2=(i,r)=>{const l=new Set([...Object.keys(i.levels),...Object.keys(r.levels)]);for(const s of l){if(!Td(s))continue;const u=i.levels[s],c=r.levels[s];if((u?.stars??0)!==(c?.stars??0)||(u?.bestTime??null)!==(c?.bestTime??null)||(u?.bestPoints??null)!==(c?.bestPoints??null))return!0}return i.highestUnlocked.easy!==r.highestUnlocked.easy||i.highestUnlocked.normal!==r.highestUnlocked.normal||i.highestUnlocked.hard!==r.highestUnlocked.hard},D2=(i,r,l)=>M2(i,r)?B2(i,l.progress)?!0:r>(l.practiceBest??0):!1,Ly="mazeMindLocalProgressPending",N2=()=>{if(typeof window>"u")return!0;const i=window.localStorage.getItem(Ly);return i===null||i==="1"},li=()=>{typeof window>"u"||window.localStorage.setItem(Ly,"0")};function U2(){const{user:i,logout:r}=yi(),[l,s]=A.useState(!1),[u,c]=A.useState(!1),[h,p]=A.useState(()=>aa()),g=A.useRef(null),[y,x]=A.useState(null),[w,S]=A.useState(null),[j,k]=A.useState(!1),[M,E]=A.useState(()=>k0()),[I,O]=A.useState(0),[q,J]=A.useState("easy");A.useEffect(()=>{if(typeof window>"u")return;const X=()=>{O(0),E(k0())};return window.addEventListener("popstate",X),()=>window.removeEventListener("popstate",X)},[]);const re=A.useCallback(X=>{const v=Uy(X);return ai?`${ai}${v}`:v},[]),ee=A.useCallback(X=>{if(!X)return"/";if(!ai)return Gc(X);if(X.startsWith(ai)){const v=X.slice(ai.length)||"/";return Gc(v)}return Gc(X)},[]),V=A.useMemo(()=>ee(M),[M,ee]),te=A.useCallback((X,v)=>{v?.preserveTutorial||c(!1);const _=re(X);typeof window<"u"&&window.history.pushState({},"",_),E(L=>L===_?(O(H=>H+1),L):(O(0),_))},[re]),we=()=>{c(!0),te("/level/easy/1",{preserveTutorial:!0})};A.useEffect(()=>{const X=i?.id??null;if(g.current===X)return;if(g.current=X,!X){x(null),S(null),p(aa());return}const v=aa(),_=la(),L=N2();S(null),(async()=>{try{const Q=await eo(X);if(!L){li(),p(Q.progress);return}D2(v,_,Q)?x({userId:X,cloud:Q,localProgress:v,localPracticeBest:_}):(li(),p(Q.progress))}catch(Q){console.error("Error obtenint el progrs del nvol:",Q)}})()},[i]);const ne=async()=>{try{await r()}catch(X){console.error("Error en tancar sessi:",X)}finally{typeof window<"u"&&["mazeMindProgress","mazeMindPracticeBestScore","mazeMindPracticeStats","mazeMindLocalProgressPending"].forEach(v=>{try{window.localStorage.removeItem(v)}catch(_){console.warn(`No s'ha pogut eliminar la clau ${v} de localStorage`,_)}}),p(aa()),x(null),S(null),k(!1),s(!1)}},K=()=>{ne()},F=async()=>{const X=y;if(!(!X||j)){k(!0),S(null);try{const v=await zS(X.userId);p(v.progress),li(),x(null)}catch(v){console.error("Error aplicant noms el progrs del nvol:",v),S("No s'ha pogut carregar el progrs del nvol. Torna-ho a intentar.")}finally{k(!1)}}},se=async()=>{const X=y;if(!(!X||j)){k(!0),S(null);try{await MS(X.userId),p(z2(X.localProgress)),li(),x(null)}catch(v){console.error("Error pujant el progrs local:",v),S("No s'ha pogut pujar el progrs local. Revisa la connexi i torna-ho a provar.")}finally{k(!1)}}},me=async()=>{const X=y;if(!(!X||j)){k(!0),S(null);try{await BS(X.userId);const v=await eo(X.userId);p(v.progress),li(),x(null)}catch(v){console.error("Error aplicant la fusi intelligent:",v),S("No s'ha pogut completar la fusi. Torna-ho a intentar.")}finally{k(!1)}}},fe=()=>{j||(x(null),ne())},z=A.useMemo(()=>{const[X,v=""]=V.split("?"),_=X||"/";if(_==="/settings")return{type:"settings"};if(_==="/practice/free")return{type:"practice-free"};if(_==="/practice/normal")return{type:"practice-normal"};if(_==="/practice/ia")return{type:"practice-ia"};if(_==="/levels")return{type:"levels"};if(_==="/auth/reset")return{type:"auth-reset"};if(_.startsWith("/level/custom")){const H=new URLSearchParams(v),Q=qc(H.get("w"),7),Z=qc(H.get("h"),7),le=qc(H.get("t"),10),xe=H.get("d")==="hard"?"hard":"normal";return{type:"custom",width:Q,height:Z,time:le,difficulty:xe}}const L=_.match(/^\/level\/(easy|normal|hard)\/(\d+)$/);if(L){const[,H,Q]=L;return{type:"level",difficulty:H,number:Number(Q)}}return _==="/"||_===""?{type:"home"}:{type:"unknown",path:V}},[V]);A.useEffect(()=>{z.type==="unknown"&&console.warn(`Ruta desconeguda: ${z.path}. Redirigint a HomeScreen.`)},[z]);const W=A.useCallback(X=>{const v=new URLSearchParams;v.set("w",String(X.width)),v.set("h",String(X.height)),v.set("t",String(X.time)),v.set("d",X.difficulty),te(`/level/custom?${v.toString()}`)},[te]),ie=()=>f.jsxs(f.Fragment,{children:[f.jsx(tS,{progress:h,user:i,onNavigate:()=>te("/levels"),onUserClick:()=>s(!0),onLogout:K,onSettingsClick:()=>te("/settings")}),l&&f.jsx(PS,{onClose:()=>s(!1)})]});let he;switch(z.type){case"settings":he=f.jsx(g2,{onBack:()=>te("/")});break;case"auth-reset":he=f.jsx(VS,{onDone:()=>te("/")});break;case"practice-free":he=f.jsx(y2,{onBack:()=>te("/levels"),onStartGame:W});break;case"custom":{const X=tl({levelNumber:99,difficulty:z.difficulty,width:z.width,height:z.height,memorizeTime:z.time,stars:[60,45,30]}),v=new URLSearchParams({w:String(z.width),h:String(z.height),t:String(z.time),d:z.difficulty});he=f.jsx(Dc,{level:X,onBack:()=>te("/practice/free"),onRetry:()=>te(`/level/custom?${v.toString()}`),isTutorialMode:!1,onCompleteTutorial:()=>{},onLevelComplete:_=>p(_),isPracticeMode:!0,progress:h},I);break}case"practice-normal":he=f.jsx(w2,{onBack:()=>te("/levels")},I);break;case"practice-ia":{const X=tl({levelNumber:1,difficulty:"easy",width:7,height:7,memorizeTime:12,stars:[60,45,30]});he=f.jsx(Dc,{level:X,onBack:()=>te("/levels"),onRetry:()=>te("/practice/ia"),isTutorialMode:!1,onCompleteTutorial:()=>{},onLevelComplete:v=>p(v),isPracticeMode:!0,progress:h},I);break}case"levels":he=f.jsx(cS,{progress:h,onPlayLevel:(X,v)=>te(`/level/${v}/${X}`),onBack:()=>te("/"),onStartTutorial:we,selectedDifficulty:q,onDifficultyChange:J,onStartPracticeIA:()=>te("/practice/ia"),onStartPracticeNormal:()=>te("/practice/normal"),onStartPracticeFree:()=>te("/practice/free")});break;case"level":{const{difficulty:X,number:v}=z,_=`${X}-${v}`,L=T2[_]??tl({levelNumber:v,difficulty:X,width:7,height:7,memorizeTime:10,stars:[60,45,30]});he=f.jsx(Dc,{level:L,onBack:()=>te("/levels"),onRetry:()=>te(`/level/${X}/${v}`),isTutorialMode:u,onCompleteTutorial:()=>c(!1),onLevelComplete:H=>p(H),isPracticeMode:!1,progress:h},I);break}case"home":he=ie();break;case"unknown":default:he=ie();break}return f.jsxs(f.Fragment,{children:[he,y&&f.jsx(j2,{cloudProgress:y.cloud.progress,localProgress:y.localProgress,cloudPracticeBest:y.cloud.practiceBest,localPracticeBest:y.localPracticeBest,onChooseCloudOnly:F,onChooseLocalOnly:se,onChooseSmartMerge:me,onCancel:fe}),w&&y&&f.jsx("div",{style:{position:"fixed",bottom:"1.5rem",left:"50%",transform:"translateX(-50%)",background:"rgba(220,38,38,0.9)",color:"#fff",padding:"0.75rem 1.25rem",borderRadius:"999px",zIndex:120,fontWeight:600},children:w})]})}ub.createRoot(document.getElementById("root")).render(f.jsx(A.StrictMode,{children:f.jsx(Kw,{children:f.jsx(Jw,{children:f.jsx(U2,{})})})}));
