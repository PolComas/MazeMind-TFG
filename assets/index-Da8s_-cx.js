function Gv(i,r){for(var l=0;l<r.length;l++){const s=r[l];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in i)){const u=Object.getOwnPropertyDescriptor(s,c);u&&Object.defineProperty(i,c,u.get?u:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(c){if(c.ep)return;c.ep=!0;const u=l(c);fetch(c.href,u)}})();function b0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Iv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var l=function s(){var c=!1;try{c=this instanceof s}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};l.prototype=r.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var c=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(l,s,c.get?c:{enumerable:!0,get:function(){return i[s]}})}),l}var hc={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Pv(){if(vg)return Ql;vg=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(s,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var p in c)p!=="key"&&(u[p]=c[p])}else u=c;return c=u.ref,{$$typeof:i,type:s,key:f,ref:c!==void 0?c:null,props:u}}return Ql.Fragment=r,Ql.jsx=l,Ql.jsxs=l,Ql}var bg;function Yv(){return bg||(bg=1,hc.exports=Pv()),hc.exports}var h=Yv(),pc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function Kv(){if(xg)return ve;xg=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function A(v){return v===null||typeof v!="object"?null:(v=T&&v[T]||v["@@iterator"],typeof v=="function"?v:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,_={};function N(v,C,V){this.props=v,this.context=C,this.refs=_,this.updater=V||R}N.prototype.isReactComponent={},N.prototype.setState=function(v,C){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,C,"setState")},N.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=N.prototype;function Y(v,C,V){this.props=v,this.context=C,this.refs=_,this.updater=V||R}var X=Y.prototype=new O;X.constructor=Y,U(X,N.prototype),X.isPureReactComponent=!0;var ne=Array.isArray;function Z(){}var H={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function pe(v,C,V){var I=V.ref;return{$$typeof:i,type:v,key:C,ref:I!==void 0?I:null,props:V}}function J(v,C){return pe(v.type,C,v.props)}function K(v){return typeof v=="object"&&v!==null&&v.$$typeof===i}function W(v){var C={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(V){return C[V]})}var de=/\/+/g;function fe(v,C){return typeof v=="object"&&v!==null&&v.key!=null?W(""+v.key):C.toString(36)}function me(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(Z,Z):(v.status="pending",v.then(function(C){v.status==="pending"&&(v.status="fulfilled",v.value=C)},function(C){v.status==="pending"&&(v.status="rejected",v.reason=C)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function B(v,C,V,I,F){var ee=typeof v;(ee==="undefined"||ee==="boolean")&&(v=null);var ae=!1;if(v===null)ae=!0;else switch(ee){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(v.$$typeof){case i:case r:ae=!0;break;case x:return ae=v._init,B(ae(v._payload),C,V,I,F)}}if(ae)return F=F(v),ae=I===""?"."+fe(v,0):I,ne(F)?(V="",ae!=null&&(V=ae.replace(de,"$&/")+"/"),B(F,C,V,"",function(un){return un})):F!=null&&(K(F)&&(F=J(F,V+(F.key==null||v&&v.key===F.key?"":(""+F.key).replace(de,"$&/")+"/")+ae)),C.push(F)),1;ae=0;var Ae=I===""?".":I+":";if(ne(v))for(var xe=0;xe<v.length;xe++)I=v[xe],ee=Ae+fe(I,xe),ae+=B(I,C,V,ee,F);else if(xe=A(v),typeof xe=="function")for(v=xe.call(v),xe=0;!(I=v.next()).done;)I=I.value,ee=Ae+fe(I,xe++),ae+=B(I,C,V,ee,F);else if(ee==="object"){if(typeof v.then=="function")return B(me(v),C,V,I,F);throw C=String(v),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ae}function Q(v,C,V){if(v==null)return v;var I=[],F=0;return B(v,I,"","",function(ee){return C.call(V,ee,F++)}),I}function oe(v){if(v._status===-1){var C=v._result;C=C(),C.then(function(V){(v._status===0||v._status===-1)&&(v._status=1,v._result=V)},function(V){(v._status===0||v._status===-1)&&(v._status=2,v._result=V)}),v._status===-1&&(v._status=0,v._result=C)}if(v._status===1)return v._result.default;throw v._result}var Ce=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},_e={map:Q,forEach:function(v,C,V){Q(v,function(){C.apply(this,arguments)},V)},count:function(v){var C=0;return Q(v,function(){C++}),C},toArray:function(v){return Q(v,function(C){return C})||[]},only:function(v){if(!K(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return ve.Activity=S,ve.Children=_e,ve.Component=N,ve.Fragment=l,ve.Profiler=c,ve.PureComponent=Y,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ve.__COMPILER_RUNTIME={__proto__:null,c:function(v){return H.H.useMemoCache(v)}},ve.cache=function(v){return function(){return v.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(v,C,V){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var I=U({},v.props),F=v.key;if(C!=null)for(ee in C.key!==void 0&&(F=""+C.key),C)!ye.call(C,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&C.ref===void 0||(I[ee]=C[ee]);var ee=arguments.length-2;if(ee===1)I.children=V;else if(1<ee){for(var ae=Array(ee),Ae=0;Ae<ee;Ae++)ae[Ae]=arguments[Ae+2];I.children=ae}return pe(v.type,F,I)},ve.createContext=function(v){return v={$$typeof:f,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:u,_context:v},v},ve.createElement=function(v,C,V){var I,F={},ee=null;if(C!=null)for(I in C.key!==void 0&&(ee=""+C.key),C)ye.call(C,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(F[I]=C[I]);var ae=arguments.length-2;if(ae===1)F.children=V;else if(1<ae){for(var Ae=Array(ae),xe=0;xe<ae;xe++)Ae[xe]=arguments[xe+2];F.children=Ae}if(v&&v.defaultProps)for(I in ae=v.defaultProps,ae)F[I]===void 0&&(F[I]=ae[I]);return pe(v,ee,F)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(v){return{$$typeof:p,render:v}},ve.isValidElement=K,ve.lazy=function(v){return{$$typeof:x,_payload:{_status:-1,_result:v},_init:oe}},ve.memo=function(v,C){return{$$typeof:g,type:v,compare:C===void 0?null:C}},ve.startTransition=function(v){var C=H.T,V={};H.T=V;try{var I=v(),F=H.S;F!==null&&F(V,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(Z,Ce)}catch(ee){Ce(ee)}finally{C!==null&&V.types!==null&&(C.types=V.types),H.T=C}},ve.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ve.use=function(v){return H.H.use(v)},ve.useActionState=function(v,C,V){return H.H.useActionState(v,C,V)},ve.useCallback=function(v,C){return H.H.useCallback(v,C)},ve.useContext=function(v){return H.H.useContext(v)},ve.useDebugValue=function(){},ve.useDeferredValue=function(v,C){return H.H.useDeferredValue(v,C)},ve.useEffect=function(v,C){return H.H.useEffect(v,C)},ve.useEffectEvent=function(v){return H.H.useEffectEvent(v)},ve.useId=function(){return H.H.useId()},ve.useImperativeHandle=function(v,C,V){return H.H.useImperativeHandle(v,C,V)},ve.useInsertionEffect=function(v,C){return H.H.useInsertionEffect(v,C)},ve.useLayoutEffect=function(v,C){return H.H.useLayoutEffect(v,C)},ve.useMemo=function(v,C){return H.H.useMemo(v,C)},ve.useOptimistic=function(v,C){return H.H.useOptimistic(v,C)},ve.useReducer=function(v,C,V){return H.H.useReducer(v,C,V)},ve.useRef=function(v){return H.H.useRef(v)},ve.useState=function(v){return H.H.useState(v)},ve.useSyncExternalStore=function(v,C,V){return H.H.useSyncExternalStore(v,C,V)},ve.useTransition=function(){return H.H.useTransition()},ve.version="19.2.0",ve}var Sg;function ld(){return Sg||(Sg=1,pc.exports=Kv()),pc.exports}var j=ld();const wg=b0(j);var gc={exports:{}},Xl={},yc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Jv(){return _g||(_g=1,(function(i){function r(B,Q){var oe=B.length;B.push(Q);e:for(;0<oe;){var Ce=oe-1>>>1,_e=B[Ce];if(0<c(_e,Q))B[Ce]=Q,B[oe]=_e,oe=Ce;else break e}}function l(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Q=B[0],oe=B.pop();if(oe!==Q){B[0]=oe;e:for(var Ce=0,_e=B.length,v=_e>>>1;Ce<v;){var C=2*(Ce+1)-1,V=B[C],I=C+1,F=B[I];if(0>c(V,oe))I<_e&&0>c(F,V)?(B[Ce]=F,B[I]=oe,Ce=I):(B[Ce]=V,B[C]=oe,Ce=C);else if(I<_e&&0>c(F,oe))B[Ce]=F,B[I]=oe,Ce=I;else break e}}return Q}function c(B,Q){var oe=B.sortIndex-Q.sortIndex;return oe!==0?oe:B.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var y=[],g=[],x=1,S=null,T=3,A=!1,R=!1,U=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function X(B){for(var Q=l(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=B)s(g),Q.sortIndex=Q.expirationTime,r(y,Q);else break;Q=l(g)}}function ne(B){if(U=!1,X(B),!R)if(l(y)!==null)R=!0,Z||(Z=!0,W());else{var Q=l(g);Q!==null&&me(ne,Q.startTime-B)}}var Z=!1,H=-1,ye=5,pe=-1;function J(){return _?!0:!(i.unstable_now()-pe<ye)}function K(){if(_=!1,Z){var B=i.unstable_now();pe=B;var Q=!0;try{e:{R=!1,U&&(U=!1,O(H),H=-1),A=!0;var oe=T;try{t:{for(X(B),S=l(y);S!==null&&!(S.expirationTime>B&&J());){var Ce=S.callback;if(typeof Ce=="function"){S.callback=null,T=S.priorityLevel;var _e=Ce(S.expirationTime<=B);if(B=i.unstable_now(),typeof _e=="function"){S.callback=_e,X(B),Q=!0;break t}S===l(y)&&s(y),X(B)}else s(y);S=l(y)}if(S!==null)Q=!0;else{var v=l(g);v!==null&&me(ne,v.startTime-B),Q=!1}}break e}finally{S=null,T=oe,A=!1}Q=void 0}}finally{Q?W():Z=!1}}}var W;if(typeof Y=="function")W=function(){Y(K)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=K,W=function(){fe.postMessage(null)}}else W=function(){N(K,0)};function me(B,Q){H=N(function(){B(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(B){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var oe=T;T=Q;try{return B()}finally{T=oe}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=T;T=B;try{return Q()}finally{T=oe}},i.unstable_scheduleCallback=function(B,Q,oe){var Ce=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,B){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=oe+_e,B={id:x++,callback:Q,priorityLevel:B,startTime:oe,expirationTime:_e,sortIndex:-1},oe>Ce?(B.sortIndex=oe,r(g,B),l(y)===null&&B===l(g)&&(U?(O(H),H=-1):U=!0,me(ne,oe-Ce))):(B.sortIndex=_e,r(y,B),R||A||(R=!0,Z||(Z=!0,W()))),B},i.unstable_shouldYield=J,i.unstable_wrapCallback=function(B){var Q=T;return function(){var oe=T;T=Q;try{return B.apply(this,arguments)}finally{T=oe}}}})(mc)),mc}var Cg;function Qv(){return Cg||(Cg=1,yc.exports=Jv()),yc.exports}var vc={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function Xv(){if(Ag)return Ct;Ag=1;var i=ld();function r(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(y,g,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:y,containerInfo:g,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ct.createPortal=function(y,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return u(y,g,null,x)},Ct.flushSync=function(y){var g=f.T,x=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=x,s.d.f()}},Ct.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Ct.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ct.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var x=g.as,S=p(x,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:A}):x==="script"&&s.d.X(y,{crossOrigin:S,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ct.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Ct.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,S=p(x,g.crossOrigin);s.d.L(y,x,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ct.preloadModule=function(y,g){if(typeof y=="string")if(g){var x=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Ct.requestFormReset=function(y){s.d.r(y)},Ct.unstable_batchedUpdates=function(y,g){return y(g)},Ct.useFormState=function(y,g,x){return f.H.useFormState(y,g,x)},Ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ct.version="19.2.0",Ct}var Eg;function Wv(){if(Eg)return vc.exports;Eg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),vc.exports=Xv(),vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Fv(){if(jg)return Xl;jg=1;var i=Qv(),r=ld(),l=Wv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(a=o.return,a!==null){n=a;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return y(o),e;if(d===a)return y(o),t;d=d.sibling}throw Error(s(188))}if(n.return!==a.return)n=o,a=d;else{for(var m=!1,b=o.child;b;){if(b===n){m=!0,n=o,a=d;break}if(b===a){m=!0,a=o,n=d;break}b=b.sibling}if(!m){for(b=d.child;b;){if(b===n){m=!0,n=d,a=o;break}if(b===a){m=!0,a=d,n=o;break}b=b.sibling}if(!m)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case ne:return"Suspense";case Z:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case Y:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}var me=Array.isArray,B=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ce=[],_e=-1;function v(e){return{current:e}}function C(e){0>_e||(e.current=Ce[_e],Ce[_e]=null,_e--)}function V(e,t){_e++,Ce[_e]=e.current,e.current=t}var I=v(null),F=v(null),ee=v(null),ae=v(null);function Ae(e,t){switch(V(ee,t),V(F,e),V(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vp(t),e=qp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}C(I),V(I,e)}function xe(){C(I),C(F),C(ee)}function un(e){e.memoizedState!==null&&V(ae,e);var t=I.current,n=qp(t,e.type);t!==n&&(V(F,e),V(I,n))}function Pt(e){F.current===e&&(C(I),C(F)),ae.current===e&&(C(ae),Pl._currentValue=oe)}var Kn,Jn;function Yt(e){if(Kn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kn=t&&t[1]||"",Jn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+e+Jn}var Kt=!1;function xn(e,t){if(!e||Kt)return"";Kt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(L){var D=L}Reflect.construct(e,[],P)}else{try{P.call()}catch(L){D=L}e.call(P.prototype)}}else{try{throw Error()}catch(L){D=L}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(L){if(L&&D&&typeof L.stack=="string")return[L.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),m=d[0],b=d[1];if(m&&b){var w=m.split(`
`),M=b.split(`
`);for(o=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;if(a===w.length||o===M.length)for(a=w.length-1,o=M.length-1;1<=a&&0<=o&&w[a]!==M[o];)o--;for(;1<=a&&0<=o;a--,o--)if(w[a]!==M[o]){if(a!==1||o!==1)do if(a--,o--,0>o||w[a]!==M[o]){var $=`
`+w[a].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=a&&0<=o);break}}}finally{Kt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Yt(n):""}function Er(e,t){switch(e.tag){case 26:case 27:case 5:return Yt(e.type);case 16:return Yt("Lazy");case 13:return e.child!==t&&t!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return xn(e.type,!1);case 11:return xn(e.type.render,!1);case 1:return xn(e.type,!0);case 31:return Yt("Activity");default:return""}}function cn(e){try{var t="",n=null;do t+=Er(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Jt=Object.prototype.hasOwnProperty,Qn=i.unstable_scheduleCallback,En=i.unstable_cancelCallback,nl=i.unstable_shouldYield,rl=i.unstable_requestPaint,gt=i.unstable_now,ct=i.unstable_getCurrentPriorityLevel,le=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,te=i.unstable_NormalPriority,at=i.unstable_LowPriority,ze=i.unstable_IdlePriority,dn=i.log,jt=i.unstable_setDisableYieldValue,_t=null,He=null;function tt(e){if(typeof dn=="function"&&jt(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(_t,e)}catch{}}var Pe=Math.clz32?Math.clz32:Xn,Qt=Math.log,jn=Math.LN2;function Xn(e){return e>>>=0,e===0?32:31-(Qt(e)/jn|0)|0}var di=256,fi=262144,hi=4194304;function jr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~d,a!==0?o=jr(a):(m&=b,m!==0?o=jr(m):n||(n=b&~e,n!==0&&(o=jr(n))))):(b=a&~d,b!==0?o=jr(b):m!==0?o=jr(m):n||(n=a&~e,n!==0&&(o=jr(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function al(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ry(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=hi;return hi<<=1,(hi&62914560)===0&&(hi=4194304),e}function eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oy(e,t,n,a,o,d){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,M=e.hiddenUpdates;for(n=m&~n;0<n;){var $=31-Pe(n),P=1<<$;b[$]=0,w[$]=-1;var D=M[$];if(D!==null)for(M[$]=null,$=0;$<D.length;$++){var L=D[$];L!==null&&(L.lane&=-536870913)}n&=~P}a!==0&&wd(e,a,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function wd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Pe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function _d(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Pe(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}function Cd(e,t){var n=t&-t;return n=(n&42)!==0?1:to(n),(n&(e.suspendedLanes|t))!==0?0:n}function to(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function no(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ad(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:dg(e.type))}function Ed(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Wn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Wn,kt="__reactProps$"+Wn,ta="__reactContainer$"+Wn,ro="__reactEvents$"+Wn,zy="__reactListeners$"+Wn,My="__reactHandles$"+Wn,jd="__reactResources$"+Wn,il="__reactMarker$"+Wn;function ao(e){delete e[yt],delete e[kt],delete e[ro],delete e[zy],delete e[My]}function na(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ta]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qp(e);e!==null;){if(n=e[yt])return n;e=Qp(e)}return t}e=n,n=e.parentNode}return null}function ra(e){if(e=e[yt]||e[ta]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function aa(e){var t=e[jd];return t||(t=e[jd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[il]=!0}var Td=new Set,kd={};function Tr(e,t){la(e,t),la(e+"Capture",t)}function la(e,t){for(kd[e]=t,e=0;e<t.length;e++)Td.add(t[e])}var Dy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rd={},Od={};function By(e){return Jt.call(Od,e)?!0:Jt.call(Rd,e)?!1:Dy.test(e)?Od[e]=!0:(Rd[e]=!0,!1)}function gi(e,t,n){if(By(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function yi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Tn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uy(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){if(!e._valueTracker){var t=zd(e)?"checked":"value";e._valueTracker=Uy(e,t,""+e[t])}}function Md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=zd(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ny=/[\n"\\]/g;function Wt(e){return e.replace(Ny,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function io(e,t,n,a,o,d,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?so(e,m,Xt(t)):n!=null?so(e,m,Xt(n)):a!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Xt(b):e.removeAttribute("name")}function Dd(e,t,n,a,o,d,m,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){lo(e);return}n=n!=null?""+Xt(n):"",t=t!=null?""+Xt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),lo(e)}function so(e,t,n){t==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ia(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Bd(e,t,n){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xt(n):""}function Ud(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(me(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Xt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),lo(e)}function sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nd(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ly.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ld(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&n[o]!==a&&Nd(e,o,a)}else for(var d in t)t.hasOwnProperty(d)&&Nd(e,d,t[d])}function oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(e){return $y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var uo=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oa=null,ua=null;function Hd(e){var t=ra(e);if(t&&(e=t.stateNode)){var n=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(io(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=a[kt]||null;if(!o)throw Error(s(90));io(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Md(a)}break e;case"textarea":Bd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ia(e,!!n.multiple,t,!1)}}}var fo=!1;function $d(e,t,n){if(fo)return e(t,n);fo=!0;try{var a=e(t);return a}finally{if(fo=!1,(oa!==null||ua!==null)&&(ls(),oa&&(t=oa,e=ua,ua=oa=null,Hd(t),e)))for(t=0;t<e.length;t++)Hd(e[t])}}function ol(e,t){var n=e.stateNode;if(n===null)return null;var a=n[kt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(Rn)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){ho=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{ho=!1}var Fn=null,po=null,bi=null;function Vd(){if(bi)return bi;var e,t=po,n=t.length,a,o="value"in Fn?Fn.value:Fn.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(a=1;a<=m&&t[n-a]===o[d-a];a++);return bi=o.slice(e,1<a?1-a:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function qd(){return!1}function Rt(e){function t(n,a,o,d,m){this._reactName=n,this._targetInst=o,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Si:qd,this.isPropagationStopped=qd,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),t}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Rt(kr),cl=S({},kr,{view:0,detail:0}),Vy=Rt(cl),go,yo,dl,_i=S({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(go=e.screenX-dl.screenX,yo=e.screenY-dl.screenY):yo=go=0,dl=e),go)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),Gd=Rt(_i),qy=S({},_i,{dataTransfer:0}),Gy=Rt(qy),Iy=S({},cl,{relatedTarget:0}),mo=Rt(Iy),Py=S({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=Rt(Py),Ky=S({},kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jy=Rt(Ky),Qy=S({},kr,{data:0}),Id=Rt(Qy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fy[e])?!!t[e]:!1}function vo(){return Zy}var em=S({},cl,{key:function(e){if(e.key){var t=Xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tm=Rt(em),nm=S({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=Rt(nm),rm=S({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),am=Rt(rm),lm=S({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=Rt(lm),sm=S({},_i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),om=Rt(sm),um=S({},kr,{newState:0,oldState:0}),cm=Rt(um),dm=[9,13,27,32],bo=Rn&&"CompositionEvent"in window,fl=null;Rn&&"documentMode"in document&&(fl=document.documentMode);var fm=Rn&&"TextEvent"in window&&!fl,Yd=Rn&&(!bo||fl&&8<fl&&11>=fl),Kd=" ",Jd=!1;function Qd(e,t){switch(e){case"keyup":return dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function hm(e,t){switch(e){case"compositionend":return Xd(t);case"keypress":return t.which!==32?null:(Jd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Jd?null:e;default:return null}}function pm(e,t){if(ca)return e==="compositionend"||!bo&&Qd(e,t)?(e=Vd(),bi=po=Fn=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yd&&t.locale!=="ko"?null:t.data;default:return null}}var gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gm[e.type]:t==="textarea"}function Fd(e,t,n,a){oa?ua?ua.push(a):ua=[a]:oa=a,t=fs(t,"onChange"),0<t.length&&(n=new wi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var hl=null,pl=null;function ym(e){Bp(e,0)}function Ci(e){var t=sl(e);if(Md(t))return e}function Zd(e,t){if(e==="change")return t}var ef=!1;if(Rn){var xo;if(Rn){var So="oninput"in document;if(!So){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),So=typeof tf.oninput=="function"}xo=So}else xo=!1;ef=xo&&(!document.documentMode||9<document.documentMode)}function nf(){hl&&(hl.detachEvent("onpropertychange",rf),pl=hl=null)}function rf(e){if(e.propertyName==="value"&&Ci(pl)){var t=[];Fd(t,pl,e,co(e)),$d(ym,t)}}function mm(e,t,n){e==="focusin"?(nf(),hl=t,pl=n,hl.attachEvent("onpropertychange",rf)):e==="focusout"&&nf()}function vm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ci(pl)}function bm(e,t){if(e==="click")return Ci(t)}function xm(e,t){if(e==="input"||e==="change")return Ci(t)}function Sm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Sm;function gl(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!Jt.call(t,o)||!Ut(e[o],t[o]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,t){var n=af(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=af(n)}}function sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function of(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mi(e.document)}return t}function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wm=Rn&&"documentMode"in document&&11>=document.documentMode,da=null,_o=null,yl=null,Co=!1;function uf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Co||da==null||da!==mi(a)||(a=da,"selectionStart"in a&&wo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),yl&&gl(yl,a)||(yl=a,a=fs(_o,"onSelect"),0<a.length&&(t=new wi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=da)))}function Rr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Ao={},cf={};Rn&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Or(e){if(Ao[e])return Ao[e];if(!fa[e])return e;var t=fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cf)return Ao[e]=t[n];return e}var df=Or("animationend"),ff=Or("animationiteration"),hf=Or("animationstart"),_m=Or("transitionrun"),Cm=Or("transitionstart"),Am=Or("transitioncancel"),pf=Or("transitionend"),gf=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function fn(e,t){gf.set(e,t),Tr(t,[e])}var Ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],ha=0,jo=0;function Ei(){for(var e=ha,t=jo=ha=0;t<e;){var n=Ft[t];Ft[t++]=null;var a=Ft[t];Ft[t++]=null;var o=Ft[t];Ft[t++]=null;var d=Ft[t];if(Ft[t++]=null,a!==null&&o!==null){var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}d!==0&&yf(n,o,d)}}function ji(e,t,n,a){Ft[ha++]=e,Ft[ha++]=t,Ft[ha++]=n,Ft[ha++]=a,jo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function To(e,t,n,a){return ji(e,t,n,a),Ti(e)}function zr(e,t){return ji(e,null,null,t),Ti(e)}function yf(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,a=d.alternate,a!==null&&(a.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Pe(n),e=d.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=n|536870912),d):null}function Ti(e){if(50<Ll)throw Ll=0,Nu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pa={};function Em(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,a){return new Em(e,t,n,a)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ki(e,t,n,a,o,d){var m=0;if(a=e,typeof e=="function")ko(e)&&(m=1);else if(typeof e=="string")m=Ov(e,n,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Nt(31,n,t,o),e.elementType=pe,e.lanes=d,e;case U:return Mr(n.children,o,d,t);case _:m=8,o|=24;break;case N:return e=Nt(12,n,t,o|2),e.elementType=N,e.lanes=d,e;case ne:return e=Nt(13,n,t,o),e.elementType=ne,e.lanes=d,e;case Z:return e=Nt(19,n,t,o),e.elementType=Z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:m=10;break e;case O:m=9;break e;case X:m=11;break e;case H:m=14;break e;case ye:m=16,a=null;break e}m=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Nt(m,n,t,o),t.elementType=e,t.type=a,t.lanes=d,t}function Mr(e,t,n,a){return e=Nt(7,e,a,t),e.lanes=n,e}function Ro(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function vf(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function Oo(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bf=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var n=bf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:cn(t)},bf.set(e,t),t)}return{value:e,source:t,stack:cn(t)}}var ga=[],ya=0,Ri=null,ml=0,en=[],tn=0,Zn=null,Sn=1,wn="";function zn(e,t){ga[ya++]=ml,ga[ya++]=Ri,Ri=e,ml=t}function xf(e,t,n){en[tn++]=Sn,en[tn++]=wn,en[tn++]=Zn,Zn=e;var a=Sn;e=wn;var o=32-Pe(a)-1;a&=~(1<<o),n+=1;var d=32-Pe(t)+o;if(30<d){var m=o-o%5;d=(a&(1<<m)-1).toString(32),a>>=m,o-=m,Sn=1<<32-Pe(t)+o|n<<o|a,wn=d+e}else Sn=1<<d|n<<o|a,wn=e}function zo(e){e.return!==null&&(zn(e,1),xf(e,1,0))}function Mo(e){for(;e===Ri;)Ri=ga[--ya],ga[ya]=null,ml=ga[--ya],ga[ya]=null;for(;e===Zn;)Zn=en[--tn],en[tn]=null,wn=en[--tn],en[tn]=null,Sn=en[--tn],en[tn]=null}function Sf(e,t){en[tn++]=Sn,en[tn++]=wn,en[tn++]=Zn,Sn=t.id,wn=t.overflow,Zn=e}var mt=null,Ke=null,Re=!1,er=null,nn=!1,Do=Error(s(519));function tr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Zt(t,e)),Do}function wf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[yt]=e,t[kt]=a,n){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(n=0;n<$l.length;n++)je($l[n],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),Dd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Ud(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Hp(t.textContent,n)?(a.popover!=null&&(je("beforetoggle",t),je("toggle",t)),a.onScroll!=null&&je("scroll",t),a.onScrollEnd!=null&&je("scrollend",t),a.onClick!=null&&(t.onclick=kn),t=!0):t=!1,t||tr(e,!0)}function _f(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:mt=mt.return}}function ma(e){if(e!==mt)return!1;if(!Re)return _f(e),Re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Fu(e.type,e.memoizedProps)),n=!n),n&&Ke&&tr(e),_f(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ke=Jp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ke=Jp(e)}else t===27?(t=Ke,gr(e.type)?(e=rc,rc=null,Ke=e):Ke=t):Ke=mt?an(e.stateNode.nextSibling):null;return!0}function Dr(){Ke=mt=null,Re=!1}function Bo(){var e=er;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),er=null),e}function vl(e){er===null?er=[e]:er.push(e)}var Uo=v(null),Br=null,Mn=null;function nr(e,t,n){V(Uo,t._currentValue),t._currentValue=n}function Dn(e){e._currentValue=Uo.current,C(Uo)}function No(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Lo(e,t,n,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var w=0;w<t.length;w++)if(b.context===t[w]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),No(d.return,n,e),a||(m=null);break e}d=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(s(341));m.lanes|=n,d=m.alternate,d!==null&&(d.lanes|=n),No(m,n,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function va(e,t,n,a){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var b=o.type;Ut(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===ae.current){if(m=o.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}o=o.return}e!==null&&Lo(t,e,n,a),t.flags|=262144}function Oi(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){Br=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Cf(Br,e)}function zi(e,t){return Br===null&&Ur(e),Cf(e,t)}function Cf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(s(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var jm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Tm=i.unstable_scheduleCallback,km=i.unstable_NormalPriority,lt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ho(){return{controller:new jm,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&Tm(km,function(){e.controller.abort()})}var xl=null,$o=0,ba=0,xa=null;function Rm(e,t){if(xl===null){var n=xl=[];$o=0,ba=Gu(),xa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return $o++,t.then(Af,Af),t}function Af(){if(--$o===0&&xl!==null){xa!==null&&(xa.status="fulfilled");var e=xl;xl=null,ba=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Om(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),a}var Ef=B.S;B.S=function(e,t){up=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Rm(e,t),Ef!==null&&Ef(e,t)};var Nr=v(null);function Vo(){var e=Nr.current;return e!==null?e:Ge.pooledCache}function Mi(e,t){t===null?V(Nr,Nr.current):V(Nr,t.pool)}function jf(){var e=Vo();return e===null?null:{parent:lt._currentValue,pool:e}}var Sa=Error(s(460)),qo=Error(s(474)),Di=Error(s(542)),Bi={then:function(){}};function Tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(kn,kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Of(e),e;default:if(typeof t.status=="string")t.then(kn,kn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Of(e),e}throw Hr=t,Sa}}function Lr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Hr=n,Sa):n}}var Hr=null;function Rf(){if(Hr===null)throw Error(s(459));var e=Hr;return Hr=null,e}function Of(e){if(e===Sa||e===Di)throw Error(s(483))}var wa=null,Sl=0;function Ui(e){var t=Sl;return Sl+=1,wa===null&&(wa=[]),kf(wa,e,t)}function wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ni(e,t){throw t.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zf(e){function t(k,E){if(e){var z=k.deletions;z===null?(k.deletions=[E],k.flags|=16):z.push(E)}}function n(k,E){if(!e)return null;for(;E!==null;)t(k,E),E=E.sibling;return null}function a(k){for(var E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function o(k,E){return k=On(k,E),k.index=0,k.sibling=null,k}function d(k,E,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<E?(k.flags|=67108866,E):z):(k.flags|=67108866,E)):(k.flags|=1048576,E)}function m(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,E,z,G){return E===null||E.tag!==6?(E=Ro(z,k.mode,G),E.return=k,E):(E=o(E,z),E.return=k,E)}function w(k,E,z,G){var ce=z.type;return ce===U?$(k,E,z.props.children,G,z.key):E!==null&&(E.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ye&&Lr(ce)===E.type)?(E=o(E,z.props),wl(E,z),E.return=k,E):(E=ki(z.type,z.key,z.props,null,k.mode,G),wl(E,z),E.return=k,E)}function M(k,E,z,G){return E===null||E.tag!==4||E.stateNode.containerInfo!==z.containerInfo||E.stateNode.implementation!==z.implementation?(E=Oo(z,k.mode,G),E.return=k,E):(E=o(E,z.children||[]),E.return=k,E)}function $(k,E,z,G,ce){return E===null||E.tag!==7?(E=Mr(z,k.mode,G,ce),E.return=k,E):(E=o(E,z),E.return=k,E)}function P(k,E,z){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Ro(""+E,k.mode,z),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case A:return z=ki(E.type,E.key,E.props,null,k.mode,z),wl(z,E),z.return=k,z;case R:return E=Oo(E,k.mode,z),E.return=k,E;case ye:return E=Lr(E),P(k,E,z)}if(me(E)||W(E))return E=Mr(E,k.mode,z,null),E.return=k,E;if(typeof E.then=="function")return P(k,Ui(E),z);if(E.$$typeof===Y)return P(k,zi(k,E),z);Ni(k,E)}return null}function D(k,E,z,G){var ce=E!==null?E.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:b(k,E,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ce?w(k,E,z,G):null;case R:return z.key===ce?M(k,E,z,G):null;case ye:return z=Lr(z),D(k,E,z,G)}if(me(z)||W(z))return ce!==null?null:$(k,E,z,G,null);if(typeof z.then=="function")return D(k,E,Ui(z),G);if(z.$$typeof===Y)return D(k,E,zi(k,z),G);Ni(k,z)}return null}function L(k,E,z,G,ce){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(z)||null,b(E,k,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return k=k.get(G.key===null?z:G.key)||null,w(E,k,G,ce);case R:return k=k.get(G.key===null?z:G.key)||null,M(E,k,G,ce);case ye:return G=Lr(G),L(k,E,z,G,ce)}if(me(G)||W(G))return k=k.get(z)||null,$(E,k,G,ce,null);if(typeof G.then=="function")return L(k,E,z,Ui(G),ce);if(G.$$typeof===Y)return L(k,E,z,zi(E,G),ce);Ni(E,G)}return null}function re(k,E,z,G){for(var ce=null,Me=null,ie=E,we=E=0,ke=null;ie!==null&&we<z.length;we++){ie.index>we?(ke=ie,ie=null):ke=ie.sibling;var De=D(k,ie,z[we],G);if(De===null){ie===null&&(ie=ke);break}e&&ie&&De.alternate===null&&t(k,ie),E=d(De,E,we),Me===null?ce=De:Me.sibling=De,Me=De,ie=ke}if(we===z.length)return n(k,ie),Re&&zn(k,we),ce;if(ie===null){for(;we<z.length;we++)ie=P(k,z[we],G),ie!==null&&(E=d(ie,E,we),Me===null?ce=ie:Me.sibling=ie,Me=ie);return Re&&zn(k,we),ce}for(ie=a(ie);we<z.length;we++)ke=L(ie,k,we,z[we],G),ke!==null&&(e&&ke.alternate!==null&&ie.delete(ke.key===null?we:ke.key),E=d(ke,E,we),Me===null?ce=ke:Me.sibling=ke,Me=ke);return e&&ie.forEach(function(xr){return t(k,xr)}),Re&&zn(k,we),ce}function he(k,E,z,G){if(z==null)throw Error(s(151));for(var ce=null,Me=null,ie=E,we=E=0,ke=null,De=z.next();ie!==null&&!De.done;we++,De=z.next()){ie.index>we?(ke=ie,ie=null):ke=ie.sibling;var xr=D(k,ie,De.value,G);if(xr===null){ie===null&&(ie=ke);break}e&&ie&&xr.alternate===null&&t(k,ie),E=d(xr,E,we),Me===null?ce=xr:Me.sibling=xr,Me=xr,ie=ke}if(De.done)return n(k,ie),Re&&zn(k,we),ce;if(ie===null){for(;!De.done;we++,De=z.next())De=P(k,De.value,G),De!==null&&(E=d(De,E,we),Me===null?ce=De:Me.sibling=De,Me=De);return Re&&zn(k,we),ce}for(ie=a(ie);!De.done;we++,De=z.next())De=L(ie,k,we,De.value,G),De!==null&&(e&&De.alternate!==null&&ie.delete(De.key===null?we:De.key),E=d(De,E,we),Me===null?ce=De:Me.sibling=De,Me=De);return e&&ie.forEach(function(qv){return t(k,qv)}),Re&&zn(k,we),ce}function qe(k,E,z,G){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var ce=z.key;E!==null;){if(E.key===ce){if(ce=z.type,ce===U){if(E.tag===7){n(k,E.sibling),G=o(E,z.props.children),G.return=k,k=G;break e}}else if(E.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ye&&Lr(ce)===E.type){n(k,E.sibling),G=o(E,z.props),wl(G,z),G.return=k,k=G;break e}n(k,E);break}else t(k,E);E=E.sibling}z.type===U?(G=Mr(z.props.children,k.mode,G,z.key),G.return=k,k=G):(G=ki(z.type,z.key,z.props,null,k.mode,G),wl(G,z),G.return=k,k=G)}return m(k);case R:e:{for(ce=z.key;E!==null;){if(E.key===ce)if(E.tag===4&&E.stateNode.containerInfo===z.containerInfo&&E.stateNode.implementation===z.implementation){n(k,E.sibling),G=o(E,z.children||[]),G.return=k,k=G;break e}else{n(k,E);break}else t(k,E);E=E.sibling}G=Oo(z,k.mode,G),G.return=k,k=G}return m(k);case ye:return z=Lr(z),qe(k,E,z,G)}if(me(z))return re(k,E,z,G);if(W(z)){if(ce=W(z),typeof ce!="function")throw Error(s(150));return z=ce.call(z),he(k,E,z,G)}if(typeof z.then=="function")return qe(k,E,Ui(z),G);if(z.$$typeof===Y)return qe(k,E,zi(k,z),G);Ni(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,E!==null&&E.tag===6?(n(k,E.sibling),G=o(E,z),G.return=k,k=G):(n(k,E),G=Ro(z,k.mode,G),G.return=k,k=G),m(k)):n(k,E)}return function(k,E,z,G){try{Sl=0;var ce=qe(k,E,z,G);return wa=null,ce}catch(ie){if(ie===Sa||ie===Di)throw ie;var Me=Nt(29,ie,null,k.mode);return Me.lanes=G,Me.return=k,Me}finally{}}}var $r=zf(!0),Mf=zf(!1),rr=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function lr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Be&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Ti(e),yf(e,null,n),t}return ji(e,a,t,n),Ti(e)}function _l(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_d(e,n)}}function Po(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Yo=!1;function Cl(){if(Yo){var e=xa;if(e!==null)throw e}}function Al(e,t,n,a){Yo=!1;var o=e.updateQueue;rr=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var w=b,M=w.next;w.next=null,m===null?d=M:m.next=M,m=w;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==m&&(b===null?$.firstBaseUpdate=M:b.next=M,$.lastBaseUpdate=w))}if(d!==null){var P=o.baseState;m=0,$=M=w=null,b=d;do{var D=b.lane&-536870913,L=D!==b.lane;if(L?(Te&D)===D:(a&D)===D){D!==0&&D===ba&&(Yo=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var re=e,he=b;D=t;var qe=n;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){P=re.call(qe,P,D);break e}P=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,D=typeof re=="function"?re.call(qe,P,D):re,D==null)break e;P=S({},P,D);break e;case 2:rr=!0}}D=b.callback,D!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[D]:L.push(D))}else L={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(M=$=L,w=P):$=$.next=L,m|=D;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);$===null&&(w=P),o.baseState=w,o.firstBaseUpdate=M,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),cr|=m,e.lanes=m,e.memoizedState=P}}function Df(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Bf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Df(n[e],t)}var _a=v(null),Li=v(0);function Uf(e,t){e=Gn,V(Li,e),V(_a,t),Gn=e|t.baseLanes}function Ko(){V(Li,Gn),V(_a,_a.current)}function Jo(){Gn=Li.current,C(_a),C(Li)}var Lt=v(null),rn=null;function ir(e){var t=e.alternate;V(nt,nt.current&1),V(Lt,e),rn===null&&(t===null||_a.current!==null||t.memoizedState!==null)&&(rn=e)}function Qo(e){V(nt,nt.current),V(Lt,e),rn===null&&(rn=e)}function Nf(e){e.tag===22?(V(nt,nt.current),V(Lt,e),rn===null&&(rn=e)):sr()}function sr(){V(nt,nt.current),V(Lt,Lt.current)}function Ht(e){C(Lt),rn===e&&(rn=null),C(nt)}var nt=v(0);function Hi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tc(n)||nc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,Se=null,$e=null,it=null,$i=!1,Ca=!1,Vr=!1,Vi=0,El=0,Aa=null,zm=0;function Ze(){throw Error(s(321))}function Xo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Wo(e,t,n,a,o,d){return Bn=d,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?xh:fu,Vr=!1,d=n(a,o),Vr=!1,Ca&&(d=Hf(t,n,a,o)),Lf(e),d}function Lf(e){B.H=kl;var t=$e!==null&&$e.next!==null;if(Bn=0,it=$e=Se=null,$i=!1,El=0,Aa=null,t)throw Error(s(300));e===null||st||(e=e.dependencies,e!==null&&Oi(e)&&(st=!0))}function Hf(e,t,n,a){Se=e;var o=0;do{if(Ca&&(Aa=null),El=0,Ca=!1,25<=o)throw Error(s(301));if(o+=1,it=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=Sh,d=t(n,a)}while(Ca);return d}function Mm(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?jl(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Se.flags|=1024),t}function Fo(){var e=Vi!==0;return Vi=0,e}function Zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function eu(e){if($i){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$i=!1}Bn=0,it=$e=Se=null,Ca=!1,El=Vi=0,Aa=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Se.memoizedState=it=e:it=it.next=e,it}function rt(){if($e===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=it===null?Se.memoizedState:it.next;if(t!==null)it=t,$e=e;else{if(e===null)throw Se.alternate===null?Error(s(467)):Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},it===null?Se.memoizedState=it=e:it=it.next=e}return it}function qi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var t=El;return El+=1,Aa===null&&(Aa=[]),e=kf(Aa,e,t),t=Se,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?xh:fu),e}function Gi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===Y)return vt(e)}throw Error(s(438,String(e)))}function tu(e){var t=null,n=Se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qi(),Se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=J;return t.index++,n}function Un(e,t){return typeof t=="function"?t(e):t}function Ii(e){var t=rt();return nu(t,$e,e)}function nu(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=e.baseQueue,d=a.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,a.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=m=null,w=null,M=t,$=!1;do{var P=M.lane&-536870913;if(P!==M.lane?(Te&P)===P:(Bn&P)===P){var D=M.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),P===ba&&($=!0);else if((Bn&D)===D){M=M.next,D===ba&&($=!0);continue}else P={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(b=w=P,m=d):w=w.next=P,Se.lanes|=D,cr|=D;P=M.action,Vr&&n(d,P),d=M.hasEagerState?M.eagerState:n(d,P)}else D={lane:P,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(b=w=D,m=d):w=w.next=D,Se.lanes|=P,cr|=P;M=M.next}while(M!==null&&M!==t);if(w===null?m=d:w.next=b,!Ut(d,e.memoizedState)&&(st=!0,$&&(n=xa,n!==null)))throw n;e.memoizedState=d,e.baseState=m,e.baseQueue=w,a.lastRenderedState=d}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ru(e){var t=rt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);Ut(d,t.memoizedState)||(st=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function $f(e,t,n){var a=Se,o=rt(),d=Re;if(d){if(n===void 0)throw Error(s(407));n=n()}else n=t();var m=!Ut(($e||o).memoizedState,n);if(m&&(o.memoizedState=n,st=!0),o=o.queue,iu(Gf.bind(null,a,o,e),[e]),o.getSnapshot!==t||m||it!==null&&it.memoizedState.tag&1){if(a.flags|=2048,Ea(9,{destroy:void 0},qf.bind(null,a,o,n,t),null),Ge===null)throw Error(s(349));d||(Bn&127)!==0||Vf(a,t,n)}return n}function Vf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t=qi(),Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qf(e,t,n,a){t.value=n,t.getSnapshot=a,If(t)&&Pf(e)}function Gf(e,t,n){return n(function(){If(t)&&Pf(e)})}function If(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Pf(e){var t=zr(e,2);t!==null&&Bt(t,e,2)}function au(e){var t=Tt();if(typeof e=="function"){var n=e;if(e=n(),Vr){tt(!0);try{n()}finally{tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},t}function Yf(e,t,n,a){return e.baseState=n,nu(e,$e,typeof a=="function"?a:Un)}function Dm(e,t,n,a,o){if(Ki(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};B.T!==null?n(!0):d.isTransition=!1,a(d),n=t.pending,n===null?(d.next=t.pending=d,Kf(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Kf(e,t){var n=t.action,a=t.payload,o=e.state;if(t.isTransition){var d=B.T,m={};B.T=m;try{var b=n(o,a),w=B.S;w!==null&&w(m,b),Jf(e,t,b)}catch(M){lu(e,t,M)}finally{d!==null&&m.types!==null&&(d.types=m.types),B.T=d}}else try{d=n(o,a),Jf(e,t,d)}catch(M){lu(e,t,M)}}function Jf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Qf(e,t,a)},function(a){return lu(e,t,a)}):Qf(e,t,n)}function Qf(e,t,n){t.status="fulfilled",t.value=n,Xf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Kf(e,n)))}function lu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Xf(t),t=t.next;while(t!==a)}e.action=null}function Xf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wf(e,t){return t}function Ff(e,t){if(Re){var n=Ge.formState;if(n!==null){e:{var a=Se;if(Re){if(Ke){t:{for(var o=Ke,d=nn;o.nodeType!==8;){if(!d){o=null;break t}if(o=an(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ke=an(o.nextSibling),a=o.data==="F!";break e}}tr(a)}a=!1}a&&(t=n[0])}}return n=Tt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:t},n.queue=a,n=mh.bind(null,Se,a),a.dispatch=n,a=au(!1),d=du.bind(null,Se,!1,a.queue),a=Tt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,n=Dm.bind(null,Se,o,d,n),o.dispatch=n,a.memoizedState=e,[t,n,!1]}function Zf(e){var t=rt();return eh(t,$e,e)}function eh(e,t,n){if(t=nu(e,t,Wf)[0],e=Ii(Un)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=jl(t)}catch(m){throw m===Sa?Di:m}else a=t;t=rt();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(Se.flags|=2048,Ea(9,{destroy:void 0},Bm.bind(null,o,n),null)),[a,d,e]}function Bm(e,t){e.action=t}function th(e){var t=rt(),n=$e;if(n!==null)return eh(t,n,e);rt(),t=t.memoizedState,n=rt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ea(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Se.updateQueue,t===null&&(t=qi(),Se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function nh(){return rt().memoizedState}function Pi(e,t,n,a){var o=Tt();Se.flags|=e,o.memoizedState=Ea(1|t,{destroy:void 0},n,a===void 0?null:a)}function Yi(e,t,n,a){var o=rt();a=a===void 0?null:a;var d=o.memoizedState.inst;$e!==null&&a!==null&&Xo(a,$e.memoizedState.deps)?o.memoizedState=Ea(t,d,n,a):(Se.flags|=e,o.memoizedState=Ea(1|t,d,n,a))}function rh(e,t){Pi(8390656,8,e,t)}function iu(e,t){Yi(2048,8,e,t)}function Um(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=qi(),Se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ah(e){var t=rt().memoizedState;return Um({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function lh(e,t){return Yi(4,2,e,t)}function ih(e,t){return Yi(4,4,e,t)}function sh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oh(e,t,n){n=n!=null?n.concat([e]):null,Yi(4,4,sh.bind(null,t,e),n)}function su(){}function uh(e,t){var n=rt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Xo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ch(e,t){var n=rt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Xo(t,a[1]))return a[0];if(a=e(),Vr){tt(!0);try{e()}finally{tt(!1)}}return n.memoizedState=[a,t],a}function ou(e,t,n){return n===void 0||(Bn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=dp(),Se.lanes|=e,cr|=e,n)}function dh(e,t,n,a){return Ut(n,t)?n:_a.current!==null?(e=ou(e,n,a),Ut(e,t)||(st=!0),e):(Bn&42)===0||(Bn&1073741824)!==0&&(Te&261930)===0?(st=!0,e.memoizedState=n):(e=dp(),Se.lanes|=e,cr|=e,t)}function fh(e,t,n,a,o){var d=Q.p;Q.p=d!==0&&8>d?d:8;var m=B.T,b={};B.T=b,du(e,!1,t,n);try{var w=o(),M=B.S;if(M!==null&&M(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var $=Om(w,a);Tl(e,t,$,qt(e))}else Tl(e,t,a,qt(e))}catch(P){Tl(e,t,{then:function(){},status:"rejected",reason:P},qt())}finally{Q.p=d,m!==null&&b.types!==null&&(m.types=b.types),B.T=m}}function Nm(){}function uu(e,t,n,a){if(e.tag!==5)throw Error(s(476));var o=hh(e).queue;fh(e,o,t,oe,n===null?Nm:function(){return ph(e),n(a)})}function hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:oe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ph(e){var t=hh(e);t.next===null&&(t=e.alternate.memoizedState),Tl(e,t.next.queue,{},qt())}function cu(){return vt(Pl)}function gh(){return rt().memoizedState}function yh(){return rt().memoizedState}function Lm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qt();e=ar(n);var a=lr(t,e,n);a!==null&&(Bt(a,t,n),_l(a,t,n)),t={cache:Ho()},e.payload=t;return}t=t.return}}function Hm(e,t,n){var a=qt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e)?vh(t,n):(n=To(e,t,n,a),n!==null&&(Bt(n,e,a),bh(n,t,a)))}function mh(e,t,n){var a=qt();Tl(e,t,n,a)}function Tl(e,t,n,a){var o={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))vh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,b=d(m,n);if(o.hasEagerState=!0,o.eagerState=b,Ut(b,m))return ji(e,t,o,0),Ge===null&&Ei(),!1}catch{}finally{}if(n=To(e,t,o,a),n!==null)return Bt(n,e,a),bh(n,t,a),!0}return!1}function du(e,t,n,a){if(a={lane:2,revertLane:Gu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ki(e)){if(t)throw Error(s(479))}else t=To(e,n,a,2),t!==null&&Bt(t,e,2)}function Ki(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function vh(e,t){Ca=$i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_d(e,n)}}var kl={readContext:vt,use:Gi,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};kl.useEffectEvent=Ze;var xh={readContext:vt,use:Gi,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:rh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Pi(4194308,4,sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){Pi(4,2,e,t)},useMemo:function(e,t){var n=Tt();t=t===void 0?null:t;var a=e();if(Vr){tt(!0);try{e()}finally{tt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Tt();if(n!==void 0){var o=n(t);if(Vr){tt(!0);try{n(t)}finally{tt(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=Hm.bind(null,Se,e),[a.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,n=mh.bind(null,Se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:su,useDeferredValue:function(e,t){var n=Tt();return ou(n,e,t)},useTransition:function(){var e=au(!1);return e=fh.bind(null,Se,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Se,o=Tt();if(Re){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ge===null)throw Error(s(349));(Te&127)!==0||Vf(a,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,rh(Gf.bind(null,a,d,e),[e]),a.flags|=2048,Ea(9,{destroy:void 0},qf.bind(null,a,d,n,t),null),n},useId:function(){var e=Tt(),t=Ge.identifierPrefix;if(Re){var n=wn,a=Sn;n=(a&~(1<<32-Pe(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=zm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:cu,useFormState:Ff,useActionState:Ff,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=du.bind(null,Se,!0,n),n.dispatch=t,[e,t]},useMemoCache:tu,useCacheRefresh:function(){return Tt().memoizedState=Lm.bind(null,Se)},useEffectEvent:function(e){var t=Tt(),n={impl:e};return t.memoizedState=n,function(){if((Be&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},fu={readContext:vt,use:Gi,useCallback:uh,useContext:vt,useEffect:iu,useImperativeHandle:oh,useInsertionEffect:lh,useLayoutEffect:ih,useMemo:ch,useReducer:Ii,useRef:nh,useState:function(){return Ii(Un)},useDebugValue:su,useDeferredValue:function(e,t){var n=rt();return dh(n,$e.memoizedState,e,t)},useTransition:function(){var e=Ii(Un)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:$f,useId:gh,useHostTransitionStatus:cu,useFormState:Zf,useActionState:Zf,useOptimistic:function(e,t){var n=rt();return Yf(n,$e,e,t)},useMemoCache:tu,useCacheRefresh:yh};fu.useEffectEvent=ah;var Sh={readContext:vt,use:Gi,useCallback:uh,useContext:vt,useEffect:iu,useImperativeHandle:oh,useInsertionEffect:lh,useLayoutEffect:ih,useMemo:ch,useReducer:ru,useRef:nh,useState:function(){return ru(Un)},useDebugValue:su,useDeferredValue:function(e,t){var n=rt();return $e===null?ou(n,e,t):dh(n,$e.memoizedState,e,t)},useTransition:function(){var e=ru(Un)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:$f,useId:gh,useHostTransitionStatus:cu,useFormState:th,useActionState:th,useOptimistic:function(e,t){var n=rt();return $e!==null?Yf(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:tu,useCacheRefresh:yh};Sh.useEffectEvent=ah;function hu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=qt(),o=ar(a);o.payload=t,n!=null&&(o.callback=n),t=lr(e,o,a),t!==null&&(Bt(t,e,a),_l(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=qt(),o=ar(a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=lr(e,o,a),t!==null&&(Bt(t,e,a),_l(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),a=ar(n);a.tag=2,t!=null&&(a.callback=t),t=lr(e,a,n),t!==null&&(Bt(t,e,n),_l(t,e,n))}};function wh(e,t,n,a,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,m):t.prototype&&t.prototype.isPureReactComponent?!gl(n,a)||!gl(o,d):!0}function _h(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&pu.enqueueReplaceState(t,t.state,null)}function qr(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Ch(e){Ai(e)}function Ah(e){console.error(e)}function Eh(e){Ai(e)}function Ji(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function jh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function gu(e,t,n){return n=ar(n),n.tag=3,n.payload={element:null},n.callback=function(){Ji(e,t)},n}function Th(e){return e=ar(e),e.tag=3,e}function kh(e,t,n,a){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=a.value;e.payload=function(){return o(d)},e.callback=function(){jh(t,n,a)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){jh(t,n,a),typeof o!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function $m(e,t,n,a,o){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&va(t,n,o,!0),n=Lt.current,n!==null){switch(n.tag){case 31:case 13:return rn===null?is():n.alternate===null&&et===0&&(et=3),n.flags&=-257,n.flags|=65536,n.lanes=o,a===Bi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),$u(e,a,o)),!1;case 22:return n.flags|=65536,a===Bi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),$u(e,a,o)),!1}throw Error(s(435,n.tag))}return $u(e,a,o),is(),!1}if(Re)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Do&&(e=Error(s(422),{cause:a}),vl(Zt(e,n)))):(a!==Do&&(t=Error(s(423),{cause:a}),vl(Zt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=Zt(a,n),o=gu(e.stateNode,a,o),Po(e,o),et!==4&&(et=2)),!1;var d=Error(s(520),{cause:a});if(d=Zt(d,n),Nl===null?Nl=[d]:Nl.push(d),et!==4&&(et=2),t===null)return!0;a=Zt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=gu(n.stateNode,a,e),Po(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Th(o),kh(o,e,n,a),Po(n,o),!1}n=n.return}while(n!==null);return!1}var yu=Error(s(461)),st=!1;function bt(e,t,n,a){t.child=e===null?Mf(t,null,n,a):$r(t,e.child,n,a)}function Rh(e,t,n,a,o){n=n.render;var d=t.ref;if("ref"in a){var m={};for(var b in a)b!=="ref"&&(m[b]=a[b])}else m=a;return Ur(t),a=Wo(e,t,n,m,d,o),b=Fo(),e!==null&&!st?(Zo(e,t,o),Nn(e,t,o)):(Re&&b&&zo(t),t.flags|=1,bt(e,t,a,o),t.child)}function Oh(e,t,n,a,o){if(e===null){var d=n.type;return typeof d=="function"&&!ko(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,zh(e,t,d,a,o)):(e=ki(n.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Cu(e,o)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(m,a)&&e.ref===t.ref)return Nn(e,t,o)}return t.flags|=1,e=On(d,a),e.ref=t.ref,e.return=t,t.child=e}function zh(e,t,n,a,o){if(e!==null){var d=e.memoizedProps;if(gl(d,a)&&e.ref===t.ref)if(st=!1,t.pendingProps=a=d,Cu(e,o))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,Nn(e,t,o)}return mu(e,t,n,a,o)}function Mh(e,t,n,a){var o=a.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~d}else a=0,t.child=null;return Dh(e,t,d,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mi(t,d!==null?d.cachePool:null),d!==null?Uf(t,d):Ko(),Nf(t);else return a=t.lanes=536870912,Dh(e,t,d!==null?d.baseLanes|n:n,n,a)}else d!==null?(Mi(t,d.cachePool),Uf(t,d),sr(),t.memoizedState=null):(e!==null&&Mi(t,null),Ko(),sr());return bt(e,t,o,n),t.child}function Rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Dh(e,t,n,a,o){var d=Vo();return d=d===null?null:{parent:lt._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&Mi(t,null),Ko(),Nf(t),e!==null&&va(e,t,a,!0),t.childLanes=o,null}function Qi(e,t){return t=Wi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Bh(e,t,n){return $r(t,e.child,null,n),e=Qi(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function Vm(e,t,n){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(a.mode==="hidden")return e=Qi(t,a),t.lanes=536870912,Rl(null,e);if(Qo(t),(e=Ke)?(e=Kp(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:Sn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},n=vf(e),n.return=t,t.child=n,mt=t,Ke=null)):e=null,e===null)throw tr(t);return t.lanes=536870912,null}return Qi(t,a)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Qo(t),o)if(t.flags&256)t.flags&=-257,t=Bh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(st||va(e,t,n,!1),o=(n&e.childLanes)!==0,st||o){if(a=Ge,a!==null&&(m=Cd(a,n),m!==0&&m!==d.retryLane))throw d.retryLane=m,zr(e,m),Bt(a,e,m),yu;is(),t=Bh(e,t,n)}else e=d.treeContext,Ke=an(m.nextSibling),mt=t,Re=!0,er=null,nn=!1,e!==null&&Sf(t,e),t=Qi(t,a),t.flags|=4096;return t}return e=On(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mu(e,t,n,a,o){return Ur(t),n=Wo(e,t,n,a,void 0,o),a=Fo(),e!==null&&!st?(Zo(e,t,o),Nn(e,t,o)):(Re&&a&&zo(t),t.flags|=1,bt(e,t,n,o),t.child)}function Uh(e,t,n,a,o,d){return Ur(t),t.updateQueue=null,n=Hf(t,a,n,o),Lf(e),a=Fo(),e!==null&&!st?(Zo(e,t,d),Nn(e,t,d)):(Re&&a&&zo(t),t.flags|=1,bt(e,t,n,d),t.child)}function Nh(e,t,n,a,o){if(Ur(t),t.stateNode===null){var d=pa,m=n.contextType;typeof m=="object"&&m!==null&&(d=vt(m)),d=new n(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},Go(t),m=n.contextType,d.context=typeof m=="object"&&m!==null?vt(m):pa,d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(hu(t,n,m,a),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&pu.enqueueReplaceState(d,d.state,null),Al(t,a,d,o),Cl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,w=qr(n,b);d.props=w;var M=d.context,$=n.contextType;m=pa,typeof $=="object"&&$!==null&&(m=vt($));var P=n.getDerivedStateFromProps;$=typeof P=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||M!==m)&&_h(t,d,a,m),rr=!1;var D=t.memoizedState;d.state=D,Al(t,a,d,o),Cl(),M=t.memoizedState,b||D!==M||rr?(typeof P=="function"&&(hu(t,n,P,a),M=t.memoizedState),(w=rr||wh(t,n,w,a,D,M,m))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=M),d.props=a,d.state=M,d.context=m,a=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,Io(e,t),m=t.memoizedProps,$=qr(n,m),d.props=$,P=t.pendingProps,D=d.context,M=n.contextType,w=pa,typeof M=="object"&&M!==null&&(w=vt(M)),b=n.getDerivedStateFromProps,(M=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==P||D!==w)&&_h(t,d,a,w),rr=!1,D=t.memoizedState,d.state=D,Al(t,a,d,o),Cl();var L=t.memoizedState;m!==P||D!==L||rr||e!==null&&e.dependencies!==null&&Oi(e.dependencies)?(typeof b=="function"&&(hu(t,n,b,a),L=t.memoizedState),($=rr||wh(t,n,$,a,D,L,w)||e!==null&&e.dependencies!==null&&Oi(e.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,L,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,L,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=L),d.props=a,d.state=L,d.context=w,a=$):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,Xi(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=$r(t,e.child,null,o),t.child=$r(t,null,n,o)):bt(e,t,n,o),t.memoizedState=d.state,e=t.child):e=Nn(e,t,o),e}function Lh(e,t,n,a){return Dr(),t.flags|=256,bt(e,t,n,a),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bu(e){return{baseLanes:e,cachePool:jf()}}function xu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vt),e}function Hh(e,t,n){var a=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(o?ir(t):sr(),(e=Ke)?(e=Kp(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:Sn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},n=vf(e),n.return=t,t.child=n,mt=t,Ke=null)):e=null,e===null)throw tr(t);return nc(e)?t.lanes=32:t.lanes=536870912,null}var b=a.children;return a=a.fallback,o?(sr(),o=t.mode,b=Wi({mode:"hidden",children:b},o),a=Mr(a,o,n,null),b.return=t,a.return=t,b.sibling=a,t.child=b,a=t.child,a.memoizedState=bu(n),a.childLanes=xu(e,m,n),t.memoizedState=vu,Rl(null,a)):(ir(t),Su(t,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(d)t.flags&256?(ir(t),t.flags&=-257,t=wu(e,t,n)):t.memoizedState!==null?(sr(),t.child=e.child,t.flags|=128,t=null):(sr(),b=a.fallback,o=t.mode,a=Wi({mode:"visible",children:a.children},o),b=Mr(b,o,n,null),b.flags|=2,a.return=t,b.return=t,a.sibling=b,t.child=a,$r(t,e.child,null,n),a=t.child,a.memoizedState=bu(n),a.childLanes=xu(e,m,n),t.memoizedState=vu,t=Rl(null,a));else if(ir(t),nc(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var M=m.dgst;m=M,a=Error(s(419)),a.stack="",a.digest=m,vl({value:a,source:null,stack:null}),t=wu(e,t,n)}else if(st||va(e,t,n,!1),m=(n&e.childLanes)!==0,st||m){if(m=Ge,m!==null&&(a=Cd(m,n),a!==0&&a!==w.retryLane))throw w.retryLane=a,zr(e,a),Bt(m,e,a),yu;tc(b)||is(),t=wu(e,t,n)}else tc(b)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ke=an(b.nextSibling),mt=t,Re=!0,er=null,nn=!1,e!==null&&Sf(t,e),t=Su(t,a.children),t.flags|=4096);return t}return o?(sr(),b=a.fallback,o=t.mode,w=e.child,M=w.sibling,a=On(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,M!==null?b=On(M,b):(b=Mr(b,o,n,null),b.flags|=2),b.return=t,a.return=t,a.sibling=b,t.child=a,Rl(null,a),a=t.child,b=e.child.memoizedState,b===null?b=bu(n):(o=b.cachePool,o!==null?(w=lt._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=jf(),b={baseLanes:b.baseLanes|n,cachePool:o}),a.memoizedState=b,a.childLanes=xu(e,m,n),t.memoizedState=vu,Rl(e.child,a)):(ir(t),n=e.child,e=n.sibling,n=On(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function Su(e,t){return t=Wi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wi(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function wu(e,t,n){return $r(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),No(e.return,t,n)}function _u(e,t,n,a,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=n,m.tailMode=o,m.treeForkCount=d)}function Vh(e,t,n){var a=t.pendingProps,o=a.revealOrder,d=a.tail;a=a.children;var m=nt.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,V(nt,m),bt(e,t,a,n),a=Re?ml:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,n,t);else if(e.tag===19)$h(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Hi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),_u(t,!1,o,n,d,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}_u(t,!0,n,null,d,a);break;case"together":_u(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(va(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Oi(e)))}function qm(e,t,n){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),nr(t,lt,e.memoizedState.cache),Dr();break;case 27:case 5:un(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:nr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qo(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ir(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Hh(e,t,n):(ir(t),e=Nn(e,t,n),e!==null?e.sibling:null);ir(t);break;case 19:var o=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(va(e,t,n,!1),a=(n&t.childLanes)!==0),o){if(a)return Vh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(nt,nt.current),a)break;return null;case 22:return t.lanes=0,Mh(e,t,n,t.pendingProps);case 24:nr(t,lt,e.memoizedState.cache)}return Nn(e,t,n)}function qh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Cu(e,n)&&(t.flags&128)===0)return st=!1,qm(e,t,n);st=(e.flags&131072)!==0}else st=!1,Re&&(t.flags&1048576)!==0&&xf(t,ml,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Lr(t.elementType),t.type=e,typeof e=="function")ko(e)?(a=qr(e,a),t.tag=1,t=Nh(null,t,e,a,n)):(t.tag=0,t=mu(null,t,e,a,n));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=Rh(null,t,e,a,n);break e}else if(o===H){t.tag=14,t=Oh(null,t,e,a,n);break e}}throw t=fe(e)||e,Error(s(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,o=qr(a,t.pendingProps),Nh(e,t,a,o,n);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var d=t.memoizedState;o=d.element,Io(e,t),Al(t,a,null,n);var m=t.memoizedState;if(a=m.cache,nr(t,lt,a),a!==d.cache&&Lo(t,[lt],n,!0),Cl(),a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Lh(e,t,a,n);break e}else if(a!==o){o=Zt(Error(s(424)),t),vl(o),t=Lh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=an(e.firstChild),mt=t,Re=!0,er=null,nn=!0,n=Mf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Dr(),a===o){t=Nn(e,t,n);break e}bt(e,t,a,n)}t=t.child}return t;case 26:return Xi(e,t),e===null?(n=Zp(t.type,null,t.pendingProps,null))?t.memoizedState=n:Re||(n=t.type,e=t.pendingProps,a=hs(ee.current).createElement(n),a[yt]=t,a[kt]=e,xt(a,n,e),ht(a),t.stateNode=a):t.memoizedState=Zp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return un(t),e===null&&Re&&(a=t.stateNode=Xp(t.type,t.pendingProps,ee.current),mt=t,nn=!0,o=Ke,gr(t.type)?(rc=o,Ke=an(a.firstChild)):Ke=o),bt(e,t,t.pendingProps.children,n),Xi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((o=a=Ke)&&(a=vv(a,t.type,t.pendingProps,nn),a!==null?(t.stateNode=a,mt=t,Ke=an(a.firstChild),nn=!1,o=!0):o=!1),o||tr(t)),un(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,a=d.children,Fu(o,d)?a=null:m!==null&&Fu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Wo(e,t,Mm,null,null,n),Pl._currentValue=o),Xi(e,t),bt(e,t,a,n),t.child;case 6:return e===null&&Re&&((e=n=Ke)&&(n=bv(n,t.pendingProps,nn),n!==null?(t.stateNode=n,mt=t,Ke=null,e=!0):e=!1),e||tr(t)),null;case 13:return Hh(e,t,n);case 4:return Ae(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$r(t,null,a,n):bt(e,t,a,n),t.child;case 11:return Rh(e,t,t.type,t.pendingProps,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,nr(t,t.type,a.value),bt(e,t,a.children,n),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Ur(t),o=vt(o),a=a(o),t.flags|=1,bt(e,t,a,n),t.child;case 14:return Oh(e,t,t.type,t.pendingProps,n);case 15:return zh(e,t,t.type,t.pendingProps,n);case 19:return Vh(e,t,n);case 31:return Vm(e,t,n);case 22:return Mh(e,t,n,t.pendingProps);case 24:return Ur(t),a=vt(lt),e===null?(o=Vo(),o===null&&(o=Ge,d=Ho(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:a,cache:o},Go(t),nr(t,lt,o)):((e.lanes&n)!==0&&(Io(e,t),Al(t,null,null,n),Cl()),o=e.memoizedState,d=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),nr(t,lt,a)):(a=d.cache,nr(t,lt,a),a!==o.cache&&Lo(t,[lt],n,!0))),bt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ln(e){e.flags|=4}function Au(e,t,n,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(gp())e.flags|=8192;else throw Hr=Bi,qo}else e.flags&=-16777217}function Gh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ag(t))if(gp())e.flags|=8192;else throw Hr=Bi,qo}function Fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sd():536870912,e.lanes|=t,Ra|=t)}function Ol(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gm(e,t,n){var a=t.pendingProps;switch(Mo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Dn(lt),xe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ma(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bo())),Je(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(Ln(t),d!==null?(Je(t),Gh(t,d)):(Je(t),Au(t,o,null,a,n))):d?d!==e.memoizedState?(Ln(t),Je(t),Gh(t,d)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ln(t),Je(t),Au(t,o,e,a,n)),null;case 27:if(Pt(t),n=ee.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Je(t),null}e=I.current,ma(t)?wf(t):(e=Xp(o,a,n),t.stateNode=e,Ln(t))}return Je(t),null;case 5:if(Pt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Je(t),null}if(d=I.current,ma(t))wf(t);else{var m=hs(ee.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?d.multiple=!0:a.size&&(d.size=a.size);break;default:d=typeof a.is=="string"?m.createElement(o,{is:a.is}):m.createElement(o)}}d[yt]=t,d[kt]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(xt(d,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ln(t)}}return Je(t),Au(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ee.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,o=mt,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[yt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Hp(e.nodeValue,n)),e||tr(t,!0)}else e=hs(e).createTextNode(a),e[yt]=t,t.stateNode=e}return Je(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ma(t),n!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[yt]=t}else Dr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else n=Bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Je(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ma(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[yt]=t}else Dr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),o=!1}else o=Bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fi(t,t.updateQueue),Je(t),null);case 4:return xe(),e===null&&Ku(t.stateNode.containerInfo),Je(t),null;case 10:return Dn(t.type),Je(t),null;case 19:if(C(nt),a=t.memoizedState,a===null)return Je(t),null;if(o=(t.flags&128)!==0,d=a.rendering,d===null)if(o)Ol(a,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Hi(e),d!==null){for(t.flags|=128,Ol(a,!1),e=d.updateQueue,t.updateQueue=e,Fi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mf(n,e),n=n.sibling;return V(nt,nt.current&1|2),Re&&zn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&gt()>rs&&(t.flags|=128,o=!0,Ol(a,!1),t.lanes=4194304)}else{if(!o)if(e=Hi(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Fi(t,e),Ol(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Re)return Je(t),null}else 2*gt()-a.renderingStartTime>rs&&n!==536870912&&(t.flags|=128,o=!0,Ol(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(e=a.last,e!==null?e.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gt(),e.sibling=null,n=nt.current,V(nt,o?n&1|2:n&1),Re&&zn(t,a.treeForkCount),e):(Je(t),null);case 22:case 23:return Ht(t),Jo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),n=t.updateQueue,n!==null&&Fi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&C(Nr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Dn(lt),Je(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Im(e,t){switch(Mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(lt),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pt(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(s(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return C(nt),null;case 4:return xe(),null;case 10:return Dn(t.type),null;case 22:case 23:return Ht(t),Jo(),e!==null&&C(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(lt),null;case 25:return null;default:return null}}function Ih(e,t){switch(Mo(t),t.tag){case 3:Dn(lt),xe();break;case 26:case 27:case 5:Pt(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:C(nt);break;case 10:Dn(t.type);break;case 22:case 23:Ht(t),Jo(),e!==null&&C(Nr);break;case 24:Dn(lt)}}function zl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var o=a.next;n=o;do{if((n.tag&e)===e){a=void 0;var d=n.create,m=n.inst;a=d(),m.destroy=a}n=n.next}while(n!==o)}}catch(b){Ne(t,t.return,b)}}function or(e,t,n){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){var m=a.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var w=n,M=b;try{M()}catch($){Ne(o,w,$)}}}a=a.next}while(a!==d)}}catch($){Ne(t,t.return,$)}}function Ph(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Bf(t,n)}catch(a){Ne(e,e.return,a)}}}function Yh(e,t,n){n.props=qr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ne(e,t,a)}}function Ml(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(o){Ne(e,t,o)}}function _n(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(o){Ne(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ne(e,t,o)}else n.current=null}function Kh(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(o){Ne(e,e.return,o)}}function Eu(e,t,n){try{var a=e.stateNode;fv(a,e.type,n,t),a[kt]=t}catch(o){Ne(e,e.return,o)}}function Jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kn));else if(a!==4&&(a===27&&gr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Tu(e,t,n),e=e.sibling;e!==null;)Tu(e,t,n),e=e.sibling}function Zi(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&gr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function Qh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);xt(t,a,n),t[yt]=e,t[kt]=n}catch(d){Ne(e,e.return,d)}}var Hn=!1,ot=!1,ku=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Pm(e,t){if(e=e.containerInfo,Xu=xs,e=of(e),wo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var o=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,b=-1,w=-1,M=0,$=0,P=e,D=null;t:for(;;){for(var L;P!==n||o!==0&&P.nodeType!==3||(b=m+o),P!==d||a!==0&&P.nodeType!==3||(w=m+a),P.nodeType===3&&(m+=P.nodeValue.length),(L=P.firstChild)!==null;)D=P,P=L;for(;;){if(P===e)break t;if(D===n&&++M===o&&(b=m),D===d&&++$===a&&(w=m),(L=P.nextSibling)!==null)break;P=D,D=P.parentNode}P=L}n=b===-1||w===-1?null:{start:b,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wu={focusedElem:e,selectionRange:n},xs=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,a=n.stateNode;try{var re=qr(n.type,o);e=a.getSnapshotBeforeUpdate(re,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(he){Ne(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ec(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Wh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(e,n),a&4&&zl(5,n);break;case 1:if(Vn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Ne(n,n.return,m)}else{var o=qr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ne(n,n.return,m)}}a&64&&Ph(n),a&512&&Ml(n,n.return);break;case 3:if(Vn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Bf(e,t)}catch(m){Ne(n,n.return,m)}}break;case 27:t===null&&a&4&&Qh(n);case 26:case 5:Vn(e,n),t===null&&a&4&&Kh(n),a&512&&Ml(n,n.return);break;case 12:Vn(e,n);break;case 31:Vn(e,n),a&4&&ep(e,n);break;case 13:Vn(e,n),a&4&&tp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ev.bind(null,n),xv(e,n))));break;case 22:if(a=n.memoizedState!==null||Hn,!a){t=t!==null&&t.memoizedState!==null||ot,o=Hn;var d=ot;Hn=a,(ot=t)&&!d?qn(e,n,(n.subtreeFlags&8772)!==0):Vn(e,n),Hn=o,ot=d}break;case 30:break;default:Vn(e,n)}}function Fh(e){var t=e.alternate;t!==null&&(e.alternate=null,Fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ao(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Ot=!1;function $n(e,t,n){for(n=n.child;n!==null;)Zh(e,t,n),n=n.sibling}function Zh(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(_t,n)}catch{}switch(n.tag){case 26:ot||_n(n,t),$n(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||_n(n,t);var a=Xe,o=Ot;gr(n.type)&&(Xe=n.stateNode,Ot=!1),$n(e,t,n),ql(n.stateNode),Xe=a,Ot=o;break;case 5:ot||_n(n,t);case 6:if(a=Xe,o=Ot,Xe=null,$n(e,t,n),Xe=a,Ot=o,Xe!==null)if(Ot)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(d){Ne(n,t,d)}else try{Xe.removeChild(n.stateNode)}catch(d){Ne(n,t,d)}break;case 18:Xe!==null&&(Ot?(e=Xe,Pp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),La(e)):Pp(Xe,n.stateNode));break;case 4:a=Xe,o=Ot,Xe=n.stateNode.containerInfo,Ot=!0,$n(e,t,n),Xe=a,Ot=o;break;case 0:case 11:case 14:case 15:or(2,n,t),ot||or(4,n,t),$n(e,t,n);break;case 1:ot||(_n(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Yh(n,t,a)),$n(e,t,n);break;case 21:$n(e,t,n);break;case 22:ot=(a=ot)||n.memoizedState!==null,$n(e,t,n),ot=a;break;default:$n(e,t,n)}}function ep(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(n){Ne(t,t.return,n)}}}function tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(n){Ne(t,t.return,n)}}function Ym(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xh),t;default:throw Error(s(435,e.tag))}}function es(e,t){var n=Ym(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var o=tv.bind(null,e,a);a.then(o,o)}})}function zt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var o=n[a],d=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(gr(b.type)){Xe=b.stateNode,Ot=!1;break e}break;case 5:Xe=b.stateNode,Ot=!1;break e;case 3:case 4:Xe=b.stateNode.containerInfo,Ot=!0;break e}b=b.return}if(Xe===null)throw Error(s(160));Zh(d,m,o),Xe=null,Ot=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)np(t,e),t=t.sibling}var hn=null;function np(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Mt(e),a&4&&(or(3,e,e.return),zl(3,e),or(5,e,e.return));break;case 1:zt(t,e),Mt(e),a&512&&(ot||n===null||_n(n,n.return)),a&64&&Hn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var o=hn;if(zt(t,e),Mt(e),a&512&&(ot||n===null||_n(n,n.return)),a&4){var d=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":d=o.getElementsByTagName("title")[0],(!d||d[il]||d[yt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(a),o.head.insertBefore(d,o.querySelector("head > title"))),xt(d,a,n),d[yt]=e,ht(d),a=d;break e;case"link":var m=ng("link","href",o).get(a+(n.href||""));if(m){for(var b=0;b<m.length;b++)if(d=m[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(b,1);break t}}d=o.createElement(a),xt(d,a,n),o.head.appendChild(d);break;case"meta":if(m=ng("meta","content",o).get(a+(n.content||""))){for(b=0;b<m.length;b++)if(d=m[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(b,1);break t}}d=o.createElement(a),xt(d,a,n),o.head.appendChild(d);break;default:throw Error(s(468,a))}d[yt]=e,ht(d),a=d}e.stateNode=a}else rg(o,e.type,e.stateNode);else e.stateNode=tg(o,a,e.memoizedProps);else d!==a?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,a===null?rg(o,e.type,e.stateNode):tg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Eu(e,e.memoizedProps,n.memoizedProps)}break;case 27:zt(t,e),Mt(e),a&512&&(ot||n===null||_n(n,n.return)),n!==null&&a&4&&Eu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zt(t,e),Mt(e),a&512&&(ot||n===null||_n(n,n.return)),e.flags&32){o=e.stateNode;try{sa(o,"")}catch(re){Ne(e,e.return,re)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Eu(e,o,n!==null?n.memoizedProps:o)),a&1024&&(ku=!0);break;case 6:if(zt(t,e),Mt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(re){Ne(e,e.return,re)}}break;case 3:if(ys=null,o=hn,hn=ps(t.containerInfo),zt(t,e),hn=o,Mt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(re){Ne(e,e.return,re)}ku&&(ku=!1,rp(e));break;case 4:a=hn,hn=ps(e.stateNode.containerInfo),zt(t,e),Mt(e),hn=a;break;case 12:zt(t,e),Mt(e);break;case 31:zt(t,e),Mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,es(e,a)));break;case 13:zt(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ns=gt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,es(e,a)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,M=Hn,$=ot;if(Hn=M||o,ot=$||w,zt(t,e),ot=$,Hn=M,Mt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||Hn||ot||Gr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(d=w.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=w.stateNode;var P=w.memoizedProps.style,D=P!=null&&P.hasOwnProperty("display")?P.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(re){Ne(w,w.return,re)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(re){Ne(w,w.return,re)}}}else if(t.tag===18){if(n===null){w=t;try{var L=w.stateNode;o?Yp(L,!0):Yp(w.stateNode,!1)}catch(re){Ne(w,w.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,es(e,n))));break;case 19:zt(t,e),Mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,es(e,a)));break;case 30:break;case 21:break;default:zt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Jh(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,d=ju(e);Zi(e,d,o);break;case 5:var m=n.stateNode;n.flags&32&&(sa(m,""),n.flags&=-33);var b=ju(e);Zi(e,b,m);break;case 3:case 4:var w=n.stateNode.containerInfo,M=ju(e);Tu(e,M,w);break;default:throw Error(s(161))}}catch($){Ne(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wh(e,t.alternate,t),t=t.sibling}function Gr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:or(4,t,t.return),Gr(t);break;case 1:_n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Yh(t,t.return,n),Gr(t);break;case 27:ql(t.stateNode);case 26:case 5:_n(t,t.return),Gr(t);break;case 22:t.memoizedState===null&&Gr(t);break;case 30:Gr(t);break;default:Gr(t)}e=e.sibling}}function qn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:qn(o,d,n),zl(4,d);break;case 1:if(qn(o,d,n),a=d,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(M){Ne(a,a.return,M)}if(a=d,o=a.updateQueue,o!==null){var b=a.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Df(w[o],b)}catch(M){Ne(a,a.return,M)}}n&&m&64&&Ph(d),Ml(d,d.return);break;case 27:Qh(d);case 26:case 5:qn(o,d,n),n&&a===null&&m&4&&Kh(d),Ml(d,d.return);break;case 12:qn(o,d,n);break;case 31:qn(o,d,n),n&&m&4&&ep(o,d);break;case 13:qn(o,d,n),n&&m&4&&tp(o,d);break;case 22:d.memoizedState===null&&qn(o,d,n),Ml(d,d.return);break;case 30:break;default:qn(o,d,n)}t=t.sibling}}function Ru(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bl(n))}function Ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e))}function pn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(e,t,n,a),t=t.sibling}function ap(e,t,n,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:pn(e,t,n,a),o&2048&&zl(9,t);break;case 1:pn(e,t,n,a);break;case 3:pn(e,t,n,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e)));break;case 12:if(o&2048){pn(e,t,n,a),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,b=d.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ne(t,t.return,w)}}else pn(e,t,n,a);break;case 31:pn(e,t,n,a);break;case 13:pn(e,t,n,a);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?pn(e,t,n,a):Dl(e,t):d._visibility&2?pn(e,t,n,a):(d._visibility|=2,ja(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Ru(m,t);break;case 24:pn(e,t,n,a),o&2048&&Ou(t.alternate,t);break;default:pn(e,t,n,a)}}function ja(e,t,n,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,b=n,w=a,M=m.flags;switch(m.tag){case 0:case 11:case 15:ja(d,m,b,w,o),zl(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?ja(d,m,b,w,o):Dl(d,m):($._visibility|=2,ja(d,m,b,w,o)),o&&M&2048&&Ru(m.alternate,m);break;case 24:ja(d,m,b,w,o),o&&M&2048&&Ou(m.alternate,m);break;default:ja(d,m,b,w,o)}t=t.sibling}}function Dl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,o=a.flags;switch(a.tag){case 22:Dl(n,a),o&2048&&Ru(a.alternate,a);break;case 24:Dl(n,a),o&2048&&Ou(a.alternate,a);break;default:Dl(n,a)}t=t.sibling}}var Bl=8192;function Ta(e,t,n){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)lp(e,t,n),e=e.sibling}function lp(e,t,n){switch(e.tag){case 26:Ta(e,t,n),e.flags&Bl&&e.memoizedState!==null&&zv(n,hn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,t,n);break;case 3:case 4:var a=hn;hn=ps(e.stateNode.containerInfo),Ta(e,t,n),hn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Bl,Bl=16777216,Ta(e,t,n),Bl=a):Ta(e,t,n));break;default:Ta(e,t,n)}}function ip(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ul(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,op(a,e)}ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sp(e),e=e.sibling}function sp(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&or(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ts(e)):Ul(e);break;default:Ul(e)}}function ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,op(a,e)}ip(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:or(8,t,t.return),ts(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ts(t));break;default:ts(t)}e=e.sibling}}function op(e,t){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:or(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:bl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,pt=a;else e:for(n=e;pt!==null;){a=pt;var o=a.sibling,d=a.return;if(Fh(a),a===n){pt=null;break e}if(o!==null){o.return=d,pt=o;break e}pt=d}}}var Km={getCacheForType:function(e){var t=vt(lt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return vt(lt).controller.signal}},Jm=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ge=null,Ee=null,Te=0,Ue=0,$t=null,ur=!1,ka=!1,zu=!1,Gn=0,et=0,cr=0,Ir=0,Mu=0,Vt=0,Ra=0,Nl=null,Dt=null,Du=!1,ns=0,up=0,rs=1/0,as=null,dr=null,dt=0,fr=null,Oa=null,In=0,Bu=0,Uu=null,cp=null,Ll=0,Nu=null;function qt(){return(Be&2)!==0&&Te!==0?Te&-Te:B.T!==null?Gu():Ad()}function dp(){if(Vt===0)if((Te&536870912)===0||Re){var e=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),Vt=e}else Vt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Vt}function Bt(e,t,n){(e===Ge&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(za(e,0),hr(e,Te,Vt,!1)),ll(e,n),((Be&2)===0||e!==Ge)&&(e===Ge&&((Be&2)===0&&(Ir|=n),et===4&&hr(e,Te,Vt,!1)),Cn(e))}function fp(e,t,n){if((Be&6)!==0)throw Error(s(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||al(e,t),o=a?Wm(e,t):Hu(e,t,!0),d=a;do{if(o===0){ka&&!a&&hr(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Qm(n)){o=Hu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=Nl;var w=b.current.memoizedState.isDehydrated;if(w&&(za(b,m).flags|=256),m=Hu(b,m,!1),m!==2){if(zu&&!w){b.errorRecoveryDisabledLanes|=d,Ir|=d,o=4;break e}d=Dt,Dt=o,d!==null&&(Dt===null?Dt=d:Dt.push.apply(Dt,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){za(e,0),hr(e,t,0,!0);break}e:{switch(a=e,d=o,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:hr(a,t,Vt,!ur);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=ns+300-gt(),10<o)){if(hr(a,t,Vt,!ur),pi(a,0,!0)!==0)break e;In=t,a.timeoutHandle=Gp(hp.bind(null,a,n,Dt,as,Du,t,Vt,Ir,Ra,ur,d,"Throttled",-0,0),o);break e}hp(a,n,Dt,as,Du,t,Vt,Ir,Ra,ur,d,null,-0,0)}}break}while(!0);Cn(e)}function hp(e,t,n,a,o,d,m,b,w,M,$,P,D,L){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},lp(t,d,P);var re=(d&62914560)===d?ns-gt():(d&4194048)===d?up-gt():0;if(re=Mv(P,re),re!==null){In=d,e.cancelPendingCommit=re(Sp.bind(null,e,t,d,n,a,o,m,b,w,$,P,null,D,L)),hr(e,d,m,!M);return}}Sp(e,t,d,n,a,o,m,b,w)}function Qm(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var o=n[a],d=o.getSnapshot;o=o.value;try{if(!Ut(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t,n,a){t&=~Mu,t&=~Ir,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var d=31-Pe(o),m=1<<d;a[d]=-1,o&=~m}n!==0&&wd(e,n,t)}function ls(){return(Be&6)===0?(Hl(0),!1):!0}function Lu(){if(Ee!==null){if(Ue===0)var e=Ee.return;else e=Ee,Mn=Br=null,eu(e),wa=null,Sl=0,e=Ee;for(;e!==null;)Ih(e.alternate,e),e=e.return;Ee=null}}function za(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,gv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),In=0,Lu(),Ge=e,Ee=n=On(e.current,null),Te=t,Ue=0,$t=null,ur=!1,ka=al(e,t),zu=!1,Ra=Vt=Mu=Ir=cr=et=0,Dt=Nl=null,Du=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Pe(a),d=1<<o;t|=e[o],a&=~d}return Gn=t,Ei(),n}function pp(e,t){Se=null,B.H=kl,t===Sa||t===Di?(t=Rf(),Ue=3):t===qo?(t=Rf(),Ue=4):Ue=t===yu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,Ee===null&&(et=1,Ji(e,Zt(t,e.current)))}function gp(){var e=Lt.current;return e===null?!0:(Te&4194048)===Te?rn===null:(Te&62914560)===Te||(Te&536870912)!==0?e===rn:!1}function yp(){var e=B.H;return B.H=kl,e===null?kl:e}function mp(){var e=B.A;return B.A=Km,e}function is(){et=4,ur||(Te&4194048)!==Te&&Lt.current!==null||(ka=!0),(cr&134217727)===0&&(Ir&134217727)===0||Ge===null||hr(Ge,Te,Vt,!1)}function Hu(e,t,n){var a=Be;Be|=2;var o=yp(),d=mp();(Ge!==e||Te!==t)&&(as=null,za(e,t)),t=!1;var m=et;e:do try{if(Ue!==0&&Ee!==null){var b=Ee,w=$t;switch(Ue){case 8:Lu(),m=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var M=Ue;if(Ue=0,$t=null,Ma(e,b,w,M),n&&ka){m=0;break e}break;default:M=Ue,Ue=0,$t=null,Ma(e,b,w,M)}}Xm(),m=et;break}catch($){pp(e,$)}while(!0);return t&&e.shellSuspendCounter++,Mn=Br=null,Be=a,B.H=o,B.A=d,Ee===null&&(Ge=null,Te=0,Ei()),m}function Xm(){for(;Ee!==null;)vp(Ee)}function Wm(e,t){var n=Be;Be|=2;var a=yp(),o=mp();Ge!==e||Te!==t?(as=null,rs=gt()+500,za(e,t)):ka=al(e,t);e:do try{if(Ue!==0&&Ee!==null){t=Ee;var d=$t;t:switch(Ue){case 1:Ue=0,$t=null,Ma(e,t,d,1);break;case 2:case 9:if(Tf(d)){Ue=0,$t=null,bp(t);break}t=function(){Ue!==2&&Ue!==9||Ge!==e||(Ue=7),Cn(e)},d.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Tf(d)?(Ue=0,$t=null,bp(t)):(Ue=0,$t=null,Ma(e,t,d,7));break;case 5:var m=null;switch(Ee.tag){case 26:m=Ee.memoizedState;case 5:case 27:var b=Ee;if(m?ag(m):b.stateNode.complete){Ue=0,$t=null;var w=b.sibling;if(w!==null)Ee=w;else{var M=b.return;M!==null?(Ee=M,ss(M)):Ee=null}break t}}Ue=0,$t=null,Ma(e,t,d,5);break;case 6:Ue=0,$t=null,Ma(e,t,d,6);break;case 8:Lu(),et=6;break e;default:throw Error(s(462))}}Fm();break}catch($){pp(e,$)}while(!0);return Mn=Br=null,B.H=a,B.A=o,Be=n,Ee!==null?0:(Ge=null,Te=0,Ei(),et)}function Fm(){for(;Ee!==null&&!nl();)vp(Ee)}function vp(e){var t=qh(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?ss(e):Ee=t}function bp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uh(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Uh(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:eu(t);default:Ih(n,t),t=Ee=mf(t,Gn),t=qh(n,t,Gn)}e.memoizedProps=e.pendingProps,t===null?ss(e):Ee=t}function Ma(e,t,n,a){Mn=Br=null,eu(t),wa=null,Sl=0;var o=t.return;try{if($m(e,o,t,n,Te)){et=1,Ji(e,Zt(n,e.current)),Ee=null;return}}catch(d){if(o!==null)throw Ee=o,d;et=1,Ji(e,Zt(n,e.current)),Ee=null;return}t.flags&32768?(Re||a===1?e=!0:ka||(Te&536870912)!==0?e=!1:(ur=e=!0,(a===2||a===9||a===3||a===6)&&(a=Lt.current,a!==null&&a.tag===13&&(a.flags|=16384))),xp(t,e)):ss(t)}function ss(e){var t=e;do{if((t.flags&32768)!==0){xp(t,ur);return}e=t.return;var n=Gm(t.alternate,t,Gn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);et===0&&(et=5)}function xp(e,t){do{var n=Im(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);et=6,Ee=null}function Sp(e,t,n,a,o,d,m,b,w){e.cancelPendingCommit=null;do os();while(dt!==0);if((Be&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=jo,Oy(e,n,d,m,b,w),e===Ge&&(Ee=Ge=null,Te=0),Oa=t,fr=e,In=n,Bu=d,Uu=o,cp=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nv(te,function(){return Ep(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null,o=Q.p,Q.p=2,m=Be,Be|=4;try{Pm(e,t,n)}finally{Be=m,Q.p=o,B.T=a}}dt=1,wp(),_p(),Cp()}}function wp(){if(dt===1){dt=0;var e=fr,t=Oa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var a=Q.p;Q.p=2;var o=Be;Be|=4;try{np(t,e);var d=Wu,m=of(e.containerInfo),b=d.focusedElem,w=d.selectionRange;if(m!==b&&b&&b.ownerDocument&&sf(b.ownerDocument.documentElement,b)){if(w!==null&&wo(b)){var M=w.start,$=w.end;if($===void 0&&($=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min($,b.value.length);else{var P=b.ownerDocument||document,D=P&&P.defaultView||window;if(D.getSelection){var L=D.getSelection(),re=b.textContent.length,he=Math.min(w.start,re),qe=w.end===void 0?he:Math.min(w.end,re);!L.extend&&he>qe&&(m=qe,qe=he,he=m);var k=lf(b,he),E=lf(b,qe);if(k&&E&&(L.rangeCount!==1||L.anchorNode!==k.node||L.anchorOffset!==k.offset||L.focusNode!==E.node||L.focusOffset!==E.offset)){var z=P.createRange();z.setStart(k.node,k.offset),L.removeAllRanges(),he>qe?(L.addRange(z),L.extend(E.node,E.offset)):(z.setEnd(E.node,E.offset),L.addRange(z))}}}}for(P=[],L=b;L=L.parentNode;)L.nodeType===1&&P.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<P.length;b++){var G=P[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}xs=!!Xu,Wu=Xu=null}finally{Be=o,Q.p=a,B.T=n}}e.current=t,dt=2}}function _p(){if(dt===2){dt=0;var e=fr,t=Oa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var a=Q.p;Q.p=2;var o=Be;Be|=4;try{Wh(e,t.alternate,t)}finally{Be=o,Q.p=a,B.T=n}}dt=3}}function Cp(){if(dt===4||dt===3){dt=0,rl();var e=fr,t=Oa,n=In,a=cp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Oa=fr=null,Ap(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(dr=null),no(n),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(_t,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=B.T,o=Q.p,Q.p=2,B.T=null;try{for(var d=e.onRecoverableError,m=0;m<a.length;m++){var b=a[m];d(b.value,{componentStack:b.stack})}}finally{B.T=t,Q.p=o}}(In&3)!==0&&os(),Cn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Nu?Ll++:(Ll=0,Nu=e):Ll=0,Hl(0)}}function Ap(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bl(t)))}function os(){return wp(),_p(),Cp(),Ep()}function Ep(){if(dt!==5)return!1;var e=fr,t=Bu;Bu=0;var n=no(In),a=B.T,o=Q.p;try{Q.p=32>n?32:n,B.T=null,n=Uu,Uu=null;var d=fr,m=In;if(dt=0,Oa=fr=null,In=0,(Be&6)!==0)throw Error(s(331));var b=Be;if(Be|=4,sp(d.current),ap(d,d.current,m,n),Be=b,Hl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(_t,d)}catch{}return!0}finally{Q.p=o,B.T=a,Ap(e,t)}}function jp(e,t,n){t=Zt(n,t),t=gu(e.stateNode,t,2),e=lr(e,t,2),e!==null&&(ll(e,2),Cn(e))}function Ne(e,t,n){if(e.tag===3)jp(e,e,n);else for(;t!==null;){if(t.tag===3){jp(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dr===null||!dr.has(a))){e=Zt(n,e),n=Th(2),a=lr(t,n,2),a!==null&&(kh(n,a,t,e),ll(a,2),Cn(a));break}}t=t.return}}function $u(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Jm;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(n)||(zu=!0,o.add(n),e=Zm.bind(null,e,t,n),t.then(e,e))}function Zm(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ge===e&&(Te&n)===n&&(et===4||et===3&&(Te&62914560)===Te&&300>gt()-ns?(Be&2)===0&&za(e,0):Mu|=n,Ra===Te&&(Ra=0)),Cn(e)}function Tp(e,t){t===0&&(t=Sd()),e=zr(e,t),e!==null&&(ll(e,t),Cn(e))}function ev(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tp(e,n)}function tv(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Tp(e,n)}function nv(e,t){return Qn(e,t)}var us=null,Da=null,Vu=!1,cs=!1,qu=!1,pr=0;function Cn(e){e!==Da&&e.next===null&&(Da===null?us=Da=e:Da=Da.next=e),cs=!0,Vu||(Vu=!0,av())}function Hl(e,t){if(!qu&&cs){qu=!0;do for(var n=!1,a=us;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var d=0;else{var m=a.suspendedLanes,b=a.pingedLanes;d=(1<<31-Pe(42|e)+1)-1,d&=o&~(m&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,zp(a,d))}else d=Te,d=pi(a,a===Ge?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||al(a,d)||(n=!0,zp(a,d));a=a.next}while(n);qu=!1}}function rv(){kp()}function kp(){cs=Vu=!1;var e=0;pr!==0&&pv()&&(e=pr);for(var t=gt(),n=null,a=us;a!==null;){var o=a.next,d=Rp(a,t);d===0?(a.next=null,n===null?us=o:n.next=o,o===null&&(Da=n)):(n=a,(e!==0||(d&3)!==0)&&(cs=!0)),a=o}dt!==0&&dt!==5||Hl(e),pr!==0&&(pr=0)}function Rp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Pe(d),b=1<<m,w=o[m];w===-1?((b&n)===0||(b&a)!==0)&&(o[m]=Ry(b,t)):w<=t&&(e.expiredLanes|=b),d&=~b}if(t=Ge,n=Te,n=pi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&En(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||al(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&En(a),no(n)){case 2:case 8:n=Qe;break;case 32:n=te;break;case 268435456:n=ze;break;default:n=te}return a=Op.bind(null,e),n=Qn(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&En(a),e.callbackPriority=2,e.callbackNode=null,2}function Op(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var a=Te;return a=pi(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(fp(e,a,t),Rp(e,gt()),e.callbackNode!=null&&e.callbackNode===n?Op.bind(null,e):null)}function zp(e,t){if(os())return null;fp(e,t,!0)}function av(){yv(function(){(Be&6)!==0?Qn(le,rv):kp()})}function Gu(){if(pr===0){var e=ba;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),pr=e}return pr}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vi(""+e)}function Dp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function lv(e,t,n,a,o){if(t==="submit"&&n&&n.stateNode===o){var d=Mp((o[kt]||null).action),m=a.submitter;m&&(t=(t=m[kt]||null)?Mp(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var b=new wi("action","action",null,a,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(pr!==0){var w=m?Dp(o,m):new FormData(o);uu(n,{pending:!0,data:w,method:o.method,action:d},null,w)}}else typeof d=="function"&&(b.preventDefault(),w=m?Dp(o,m):new FormData(o),uu(n,{pending:!0,data:w,method:o.method,action:d},d,w))},currentTarget:o}]})}}for(var Iu=0;Iu<Eo.length;Iu++){var Pu=Eo[Iu],iv=Pu.toLowerCase(),sv=Pu[0].toUpperCase()+Pu.slice(1);fn(iv,"on"+sv)}fn(df,"onAnimationEnd"),fn(ff,"onAnimationIteration"),fn(hf,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(_m,"onTransitionRun"),fn(Cm,"onTransitionStart"),fn(Am,"onTransitionCancel"),fn(pf,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var m=a.length-1;0<=m;m--){var b=a[m],w=b.instance,M=b.currentTarget;if(b=b.listener,w!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=M;try{d(o)}catch($){Ai($)}o.currentTarget=null,d=w}else for(m=0;m<a.length;m++){if(b=a[m],w=b.instance,M=b.currentTarget,b=b.listener,w!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=M;try{d(o)}catch($){Ai($)}o.currentTarget=null,d=w}}}}function je(e,t){var n=t[ro];n===void 0&&(n=t[ro]=new Set);var a=e+"__bubble";n.has(a)||(Up(t,e,2,!1),n.add(a))}function Yu(e,t,n){var a=0;t&&(a|=4),Up(n,e,a,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Ku(e){if(!e[ds]){e[ds]=!0,Td.forEach(function(n){n!=="selectionchange"&&(ov.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Yu("selectionchange",!1,t))}}function Up(e,t,n,a){switch(dg(t)){case 2:var o=Uv;break;case 8:o=Nv;break;default:o=oc}n=o.bind(null,t,n,e),o=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ju(e,t,n,a,o){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var b=a.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=a.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=na(b),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){a=d=m;continue e}b=b.parentNode}}a=a.return}$d(function(){var M=d,$=co(n),P=[];e:{var D=gf.get(e);if(D!==void 0){var L=wi,re=e;switch(e){case"keypress":if(xi(n)===0)break e;case"keydown":case"keyup":L=tm;break;case"focusin":re="focus",L=mo;break;case"focusout":re="blur",L=mo;break;case"beforeblur":case"afterblur":L=mo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=am;break;case df:case ff:case hf:L=Yy;break;case pf:L=im;break;case"scroll":case"scrollend":L=Vy;break;case"wheel":L=om;break;case"copy":case"cut":case"paste":L=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Pd;break;case"toggle":case"beforetoggle":L=cm}var he=(t&4)!==0,qe=!he&&(e==="scroll"||e==="scrollend"),k=he?D!==null?D+"Capture":null:D;he=[];for(var E=M,z;E!==null;){var G=E;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||k===null||(G=ol(E,k),G!=null&&he.push(Vl(E,G,z))),qe)break;E=E.return}0<he.length&&(D=new L(D,re,null,n,$),P.push({event:D,listeners:he}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",D&&n!==uo&&(re=n.relatedTarget||n.fromElement)&&(na(re)||re[ta]))break e;if((L||D)&&(D=$.window===$?$:(D=$.ownerDocument)?D.defaultView||D.parentWindow:window,L?(re=n.relatedTarget||n.toElement,L=M,re=re?na(re):null,re!==null&&(qe=u(re),he=re.tag,re!==qe||he!==5&&he!==27&&he!==6)&&(re=null)):(L=null,re=M),L!==re)){if(he=Gd,G="onMouseLeave",k="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(he=Pd,G="onPointerLeave",k="onPointerEnter",E="pointer"),qe=L==null?D:sl(L),z=re==null?D:sl(re),D=new he(G,E+"leave",L,n,$),D.target=qe,D.relatedTarget=z,G=null,na($)===M&&(he=new he(k,E+"enter",re,n,$),he.target=z,he.relatedTarget=qe,G=he),qe=G,L&&re)t:{for(he=uv,k=L,E=re,z=0,G=k;G;G=he(G))z++;G=0;for(var ce=E;ce;ce=he(ce))G++;for(;0<z-G;)k=he(k),z--;for(;0<G-z;)E=he(E),G--;for(;z--;){if(k===E||E!==null&&k===E.alternate){he=k;break t}k=he(k),E=he(E)}he=null}else he=null;L!==null&&Np(P,D,L,he,!1),re!==null&&qe!==null&&Np(P,qe,re,he,!0)}}e:{if(D=M?sl(M):window,L=D.nodeName&&D.nodeName.toLowerCase(),L==="select"||L==="input"&&D.type==="file")var Me=Zd;else if(Wd(D))if(ef)Me=xm;else{Me=vm;var ie=mm}else L=D.nodeName,!L||L.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&oo(M.elementType)&&(Me=Zd):Me=bm;if(Me&&(Me=Me(e,M))){Fd(P,Me,n,$);break e}ie&&ie(e,D,M),e==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&so(D,"number",D.value)}switch(ie=M?sl(M):window,e){case"focusin":(Wd(ie)||ie.contentEditable==="true")&&(da=ie,_o=M,yl=null);break;case"focusout":yl=_o=da=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,uf(P,n,$);break;case"selectionchange":if(wm)break;case"keydown":case"keyup":uf(P,n,$)}var we;if(bo)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ca?Qd(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(Yd&&n.locale!=="ko"&&(ca||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ca&&(we=Vd()):(Fn=$,po="value"in Fn?Fn.value:Fn.textContent,ca=!0)),ie=fs(M,ke),0<ie.length&&(ke=new Id(ke,e,null,n,$),P.push({event:ke,listeners:ie}),we?ke.data=we:(we=Xd(n),we!==null&&(ke.data=we)))),(we=fm?hm(e,n):pm(e,n))&&(ke=fs(M,"onBeforeInput"),0<ke.length&&(ie=new Id("onBeforeInput","beforeinput",null,n,$),P.push({event:ie,listeners:ke}),ie.data=we)),lv(P,e,M,n,$)}Bp(P,t)})}function Vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fs(e,t){for(var n=t+"Capture",a=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=ol(e,n),o!=null&&a.unshift(Vl(e,o,d)),o=ol(e,t),o!=null&&a.push(Vl(e,o,d))),e.tag===3)return a;e=e.return}return[]}function uv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Np(e,t,n,a,o){for(var d=t._reactName,m=[];n!==null&&n!==a;){var b=n,w=b.alternate,M=b.stateNode;if(b=b.tag,w!==null&&w===a)break;b!==5&&b!==26&&b!==27||M===null||(w=M,o?(M=ol(n,d),M!=null&&m.unshift(Vl(n,M,w))):o||(M=ol(n,d),M!=null&&m.push(Vl(n,M,w)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var cv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function Lp(e){return(typeof e=="string"?e:""+e).replace(cv,`
`).replace(dv,"")}function Hp(e,t){return t=Lp(t),Lp(e)===t}function Ve(e,t,n,a,o,d){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||sa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&sa(e,""+a);break;case"className":yi(e,"class",a);break;case"tabIndex":yi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(e,n,a);break;case"style":Ld(e,a,d);break;case"data":if(t!=="object"){yi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=vi(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",o.name,o,null),Ve(e,t,"formEncType",o.formEncType,o,null),Ve(e,t,"formMethod",o.formMethod,o,null),Ve(e,t,"formTarget",o.formTarget,o,null)):(Ve(e,t,"encType",o.encType,o,null),Ve(e,t,"method",o.method,o,null),Ve(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=vi(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=kn);break;case"onScroll":a!=null&&je("scroll",e);break;case"onScrollEnd":a!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=vi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":je("beforetoggle",e),je("toggle",e),gi(e,"popover",a);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":gi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Hy.get(n)||n,gi(e,n,a))}}function Qu(e,t,n,a,o,d){switch(n){case"style":Ld(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?sa(e,a):(typeof a=="number"||typeof a=="bigint")&&sa(e,""+a);break;case"onScroll":a!=null&&je("scroll",e);break;case"onScrollEnd":a!=null&&je("scrollend",e);break;case"onClick":a!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[kt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof a=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,o);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):gi(e,n,a)}}}function xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var a=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var m=n[d];if(m!=null)switch(d){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ve(e,t,d,m,n,null)}}o&&Ve(e,t,"srcSet",n.srcSet,n,null),a&&Ve(e,t,"src",n.src,n,null);return;case"input":je("invalid",e);var b=d=m=o=null,w=null,M=null;for(a in n)if(n.hasOwnProperty(a)){var $=n[a];if($!=null)switch(a){case"name":o=$;break;case"type":m=$;break;case"checked":w=$;break;case"defaultChecked":M=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:Ve(e,t,a,$,n,null)}}Dd(e,d,b,w,M,m,o,!1);return;case"select":je("invalid",e),a=m=d=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":m=b;break;case"multiple":a=b;default:Ve(e,t,o,b,n,null)}t=d,n=m,e.multiple=!!a,t!=null?ia(e,!!a,t,!1):n!=null&&ia(e,!!a,n,!0);return;case"textarea":je("invalid",e),d=o=a=null;for(m in n)if(n.hasOwnProperty(m)&&(b=n[m],b!=null))switch(m){case"value":a=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ve(e,t,m,b,n,null)}Ud(e,a,o,d);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(a=n[w],a!=null))switch(w){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ve(e,t,w,a,n,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(a=0;a<$l.length;a++)je($l[a],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ve(e,t,M,a,n,null)}return;default:if(oo(t)){for($ in n)n.hasOwnProperty($)&&(a=n[$],a!==void 0&&Qu(e,t,$,a,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(a=n[b],a!=null&&Ve(e,t,b,a,n,null))}function fv(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,b=null,w=null,M=null,$=null;for(L in n){var P=n[L];if(n.hasOwnProperty(L)&&P!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=P;default:a.hasOwnProperty(L)||Ve(e,t,L,null,a,P)}}for(var D in a){var L=a[D];if(P=n[D],a.hasOwnProperty(D)&&(L!=null||P!=null))switch(D){case"type":d=L;break;case"name":o=L;break;case"checked":M=L;break;case"defaultChecked":$=L;break;case"value":m=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:L!==P&&Ve(e,t,D,L,a,P)}}io(e,m,b,w,M,$,d,o);return;case"select":L=m=b=D=null;for(d in n)if(w=n[d],n.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":L=w;default:a.hasOwnProperty(d)||Ve(e,t,d,null,a,w)}for(o in a)if(d=a[o],w=n[o],a.hasOwnProperty(o)&&(d!=null||w!=null))switch(o){case"value":D=d;break;case"defaultValue":b=d;break;case"multiple":m=d;default:d!==w&&Ve(e,t,o,d,a,w)}t=b,n=m,a=L,D!=null?ia(e,!!n,D,!1):!!a!=!!n&&(t!=null?ia(e,!!n,t,!0):ia(e,!!n,n?[]:"",!1));return;case"textarea":L=D=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ve(e,t,b,null,a,o)}for(m in a)if(o=a[m],d=n[m],a.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":D=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==d&&Ve(e,t,m,o,a,d)}Bd(e,D,L);return;case"option":for(var re in n)if(D=n[re],n.hasOwnProperty(re)&&D!=null&&!a.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ve(e,t,re,null,a,D)}for(w in a)if(D=a[w],L=n[w],a.hasOwnProperty(w)&&D!==L&&(D!=null||L!=null))switch(w){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ve(e,t,w,D,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)D=n[he],n.hasOwnProperty(he)&&D!=null&&!a.hasOwnProperty(he)&&Ve(e,t,he,null,a,D);for(M in a)if(D=a[M],L=n[M],a.hasOwnProperty(M)&&D!==L&&(D!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:Ve(e,t,M,D,a,L)}return;default:if(oo(t)){for(var qe in n)D=n[qe],n.hasOwnProperty(qe)&&D!==void 0&&!a.hasOwnProperty(qe)&&Qu(e,t,qe,void 0,a,D);for($ in a)D=a[$],L=n[$],!a.hasOwnProperty($)||D===L||D===void 0&&L===void 0||Qu(e,t,$,D,a,L);return}}for(var k in n)D=n[k],n.hasOwnProperty(k)&&D!=null&&!a.hasOwnProperty(k)&&Ve(e,t,k,null,a,D);for(P in a)D=a[P],L=n[P],!a.hasOwnProperty(P)||D===L||D==null&&L==null||Ve(e,t,P,D,a,L)}function $p(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var o=n[a],d=o.transferSize,m=o.initiatorType,b=o.duration;if(d&&b&&$p(m)){for(m=0,b=o.responseEnd,a+=1;a<n.length;a++){var w=n[a],M=w.startTime;if(M>b)break;var $=w.transferSize,P=w.initiatorType;$&&$p(P)&&(w=w.responseEnd,m+=$*(w<b?1:(b-M)/(w-M)))}if(--a,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xu=null,Wu=null;function hs(e){return e.nodeType===9?e:e.ownerDocument}function Vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function pv(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,yv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(mv)}:Gp;function mv(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function Pp(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(o),La(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")ql(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ql(n);for(var d=n.firstChild;d;){var m=d.nextSibling,b=d.nodeName;d[il]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=m}}else n==="body"&&ql(e.ownerDocument.body);n=o}while(n);La(t)}function Yp(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ec(n),ao(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function vv(e,t,n,a){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=an(e.nextSibling),e===null)break}return null}function bv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=an(e.nextSibling),e===null))return null;return e}function Kp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=an(e.nextSibling),e===null))return null;return e}function tc(e){return e.data==="$?"||e.data==="$~"}function nc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rc=null;function Jp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return an(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Qp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Xp(e,t,n){switch(t=hs(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ql(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ao(e)}var ln=new Map,Wp=new Set;function ps(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pn=Q.d;Q.d={f:Sv,r:wv,D:_v,C:Cv,L:Av,m:Ev,X:Tv,S:jv,M:kv};function Sv(){var e=Pn.f(),t=ls();return e||t}function wv(e){var t=ra(e);t!==null&&t.tag===5&&t.type==="form"?ph(t):Pn.r(e)}var Ba=typeof document>"u"?null:document;function Fp(e,t,n){var a=Ba;if(a&&typeof t=="string"&&t){var o=Wt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Wp.has(o)||(Wp.add(o),e={rel:e,crossOrigin:n,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),xt(t,"link",e),ht(t),a.head.appendChild(t)))}}function _v(e){Pn.D(e),Fp("dns-prefetch",e,null)}function Cv(e,t){Pn.C(e,t),Fp("preconnect",e,t)}function Av(e,t,n){Pn.L(e,t,n);var a=Ba;if(a&&e&&t){var o='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Wt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Wt(n.imageSizes)+'"]')):o+='[href="'+Wt(e)+'"]';var d=o;switch(t){case"style":d=Ua(e);break;case"script":d=Na(e)}ln.has(d)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ln.set(d,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(Gl(d))||t==="script"&&a.querySelector(Il(d))||(t=a.createElement("link"),xt(t,"link",e),ht(t),a.head.appendChild(t)))}}function Ev(e,t){Pn.m(e,t);var n=Ba;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Wt(a)+'"][href="'+Wt(e)+'"]',d=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(e)}if(!ln.has(d)&&(e=S({rel:"modulepreload",href:e},t),ln.set(d,e),n.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Il(d)))return}a=n.createElement("link"),xt(a,"link",e),ht(a),n.head.appendChild(a)}}}function jv(e,t,n){Pn.S(e,t,n);var a=Ba;if(a&&e){var o=aa(a).hoistableStyles,d=Ua(e);t=t||"default";var m=o.get(d);if(!m){var b={loading:0,preload:null};if(m=a.querySelector(Gl(d)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ln.get(d))&&ac(e,n);var w=m=a.createElement("link");ht(w),xt(w,"link",e),w._p=new Promise(function(M,$){w.onload=M,w.onerror=$}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gs(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(d,m)}}}function Tv(e,t){Pn.X(e,t);var n=Ba;if(n&&e){var a=aa(n).hoistableScripts,o=Na(e),d=a.get(o);d||(d=n.querySelector(Il(o)),d||(e=S({src:e,async:!0},t),(t=ln.get(o))&&lc(e,t),d=n.createElement("script"),ht(d),xt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function kv(e,t){Pn.M(e,t);var n=Ba;if(n&&e){var a=aa(n).hoistableScripts,o=Na(e),d=a.get(o);d||(d=n.querySelector(Il(o)),d||(e=S({src:e,async:!0,type:"module"},t),(t=ln.get(o))&&lc(e,t),d=n.createElement("script"),ht(d),xt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(o,d))}}function Zp(e,t,n,a){var o=(o=ee.current)?ps(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ua(n.href),n=aa(o).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ua(n.href);var d=aa(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(Gl(e)))&&!d._p&&(m.instance=d,m.state.loading=5),ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ln.set(e,n),d||Rv(o,e,n,m.state))),t&&a===null)throw Error(s(528,""));return m}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Na(n),n=aa(o).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+Wt(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function eg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Rv(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),xt(t,"link",n),ht(t),e.head.appendChild(t))}function Na(e){return'[src="'+Wt(e)+'"]'}function Il(e){return"script[async]"+e}function tg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Wt(n.href)+'"]');if(a)return t.instance=a,ht(a),a;var o=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ht(a),xt(a,"style",o),gs(a,n.precedence,e),t.instance=a;case"stylesheet":o=Ua(n.href);var d=e.querySelector(Gl(o));if(d)return t.state.loading|=4,t.instance=d,ht(d),d;a=eg(n),(o=ln.get(o))&&ac(a,o),d=(e.ownerDocument||e).createElement("link"),ht(d);var m=d;return m._p=new Promise(function(b,w){m.onload=b,m.onerror=w}),xt(d,"link",a),t.state.loading|=4,gs(d,n.precedence,e),t.instance=d;case"script":return d=Na(n.src),(o=e.querySelector(Il(d)))?(t.instance=o,ht(o),o):(a=n,(o=ln.get(d))&&(a=S({},n),lc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),ht(o),xt(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,gs(a,n.precedence,e));return t.instance}function gs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,d=o,m=0;m<a.length;m++){var b=a[m];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ys=null;function ng(e,t,n){if(ys===null){var a=new Map,o=ys=new Map;o.set(n,a)}else o=ys,a=o.get(n),a||(a=new Map,o.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[il]||d[yt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var b=a.get(m);b?b.push(d):a.set(m,[d])}}return a}function rg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ov(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ag(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zv(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ua(a.href),d=t.querySelector(Gl(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ms.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,ht(d);return}d=t.ownerDocument||t,a=eg(a),(o=ln.get(o))&&ac(a,o),d=d.createElement("link"),ht(d);var m=d;m._p=new Promise(function(b,w){m.onload=b,m.onerror=w}),xt(d,"link",a),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ms.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ic=0;function Mv(e,t){return e.stylesheets&&e.count===0&&bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&bs(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&ic===0&&(ic=62500*hv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bs(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>ic?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function ms(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vs=null;function bs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vs=new Map,t.forEach(Dv,e),vs=null,ms.call(e))}function Dv(e,t){if(!(t.state.loading&4)){var n=vs.get(e);if(n)var a=n.get(null);else{n=new Map,vs.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),a=m)}a&&n.set(null,a)}o=t.instance,m=o.getAttribute("data-precedence"),d=n.get(m)||a,d===a&&n.set(null,o),n.set(m,o),this.count++,a=ms.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Pl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Bv(e,t,n,a,o,d,m,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function lg(e,t,n,a,o,d,m,b,w,M,$,P){return e=new Bv(e,t,n,m,w,M,$,P,b),t=1,d===!0&&(t|=24),d=Nt(3,null,null,t),e.current=d,d.stateNode=e,t=Ho(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:n,cache:t},Go(d),e}function ig(e){return e?(e=pa,e):pa}function sg(e,t,n,a,o,d){o=ig(o),a.context===null?a.context=o:a.pendingContext=o,a=ar(t),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=lr(e,a,t),n!==null&&(Bt(n,e,t),_l(n,e,t))}function og(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sc(e,t){og(e,t),(e=e.alternate)&&og(e,t)}function ug(e){if(e.tag===13||e.tag===31){var t=zr(e,67108864);t!==null&&Bt(t,e,67108864),sc(e,67108864)}}function cg(e){if(e.tag===13||e.tag===31){var t=qt();t=to(t);var n=zr(e,t);n!==null&&Bt(n,e,t),sc(e,t)}}var xs=!0;function Uv(e,t,n,a){var o=B.T;B.T=null;var d=Q.p;try{Q.p=2,oc(e,t,n,a)}finally{Q.p=d,B.T=o}}function Nv(e,t,n,a){var o=B.T;B.T=null;var d=Q.p;try{Q.p=8,oc(e,t,n,a)}finally{Q.p=d,B.T=o}}function oc(e,t,n,a){if(xs){var o=uc(a);if(o===null)Ju(e,t,a,Ss,n),fg(e,a);else if(Hv(o,e,t,n,a))a.stopPropagation();else if(fg(e,a),t&4&&-1<Lv.indexOf(e)){for(;o!==null;){var d=ra(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=jr(d.pendingLanes);if(m!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var w=1<<31-Pe(m);b.entanglements[1]|=w,m&=~w}Cn(d),(Be&6)===0&&(rs=gt()+500,Hl(0))}}break;case 31:case 13:b=zr(d,2),b!==null&&Bt(b,d,2),ls(),sc(d,2)}if(d=uc(a),d===null&&Ju(e,t,a,Ss,n),d===o)break;o=d}o!==null&&a.stopPropagation()}else Ju(e,t,a,null,n)}}function uc(e){return e=co(e),cc(e)}var Ss=null;function cc(e){if(Ss=null,e=na(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ss=e,null}function dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case le:return 2;case Qe:return 8;case te:case at:return 32;case ze:return 268435456;default:return 32}default:return 32}}var dc=!1,yr=null,mr=null,vr=null,Yl=new Map,Kl=new Map,br=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fg(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(t.pointerId)}}function Jl(e,t,n,a,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[o]},t!==null&&(t=ra(t),t!==null&&ug(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Hv(e,t,n,a,o){switch(t){case"focusin":return yr=Jl(yr,e,t,n,a,o),!0;case"dragenter":return mr=Jl(mr,e,t,n,a,o),!0;case"mouseover":return vr=Jl(vr,e,t,n,a,o),!0;case"pointerover":var d=o.pointerId;return Yl.set(d,Jl(Yl.get(d)||null,e,t,n,a,o)),!0;case"gotpointercapture":return d=o.pointerId,Kl.set(d,Jl(Kl.get(d)||null,e,t,n,a,o)),!0}return!1}function hg(e){var t=na(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Ed(e.priority,function(){cg(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Ed(e.priority,function(){cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);uo=a,n.target.dispatchEvent(a),uo=null}else return t=ra(n),t!==null&&ug(t),e.blockedOn=n,!1;t.shift()}return!0}function pg(e,t,n){ws(e)&&n.delete(t)}function $v(){dc=!1,yr!==null&&ws(yr)&&(yr=null),mr!==null&&ws(mr)&&(mr=null),vr!==null&&ws(vr)&&(vr=null),Yl.forEach(pg),Kl.forEach(pg)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,dc||(dc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$v)))}var Cs=null;function gg(e){Cs!==e&&(Cs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Cs===e&&(Cs=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(cc(a||n)===null)continue;break}var d=ra(n);d!==null&&(e.splice(t,3),t-=3,uu(d,{pending:!0,data:o,method:n.method,action:a},a,o))}}))}function La(e){function t(w){return _s(w,e)}yr!==null&&_s(yr,e),mr!==null&&_s(mr,e),vr!==null&&_s(vr,e),Yl.forEach(t),Kl.forEach(t);for(var n=0;n<br.length;n++){var a=br[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<br.length&&(n=br[0],n.blockedOn===null);)hg(n),n.blockedOn===null&&br.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var o=n[a],d=n[a+1],m=o[kt]||null;if(typeof d=="function")m||gg(n);else if(m){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[kt]||null)b=m.formAction;else if(cc(o)!==null)continue}else b=m.action;typeof b=="function"?n[a+1]=b:(n.splice(a,3),a-=3),gg(n)}}}function yg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function fc(e){this._internalRoot=e}As.prototype.render=fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=qt();sg(n,a,e,t,null,null)},As.prototype.unmount=fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sg(e.current,2,null,e,null,null),ls(),t[ta]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<br.length&&t!==0&&t<br[n].priority;n++);br.splice(n,0,e),n===0&&hg(e)}};var mg=r.version;if(mg!=="19.2.0")throw Error(s(527,mg,"19.2.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Vv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{_t=Es.inject(Vv),He=Es}catch{}}return Xl.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,a="",o=Ch,d=Ah,m=Eh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=lg(e,1,!1,null,null,n,a,null,o,d,m,yg),e[ta]=t.current,Ku(e),new fc(t)},Xl.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var a=!1,o="",d=Ch,m=Ah,b=Eh,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=lg(e,1,!0,t,n??null,a,o,w,d,m,b,yg),t.context=ig(null),n=t.current,a=qt(),a=to(a),o=ar(a),o.callback=null,lr(n,o,a),n=a,t.current.lanes=n,ll(t,n),Cn(t),e[ta]=t.current,Ku(e),new As(t)},Xl.version="19.2.0",Xl}var Tg;function Zv(){if(Tg)return gc.exports;Tg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),gc.exports=Fv(),gc.exports}var e1=Zv(),bc={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function t1(){if(kg)return be;kg=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function A(v){return v===null||typeof v!="object"?null:(v=T&&v[T]||v["@@iterator"],typeof v=="function"?v:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,_={};function N(v,C,V){this.props=v,this.context=C,this.refs=_,this.updater=V||R}N.prototype.isReactComponent={},N.prototype.setState=function(v,C){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,C,"setState")},N.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=N.prototype;function Y(v,C,V){this.props=v,this.context=C,this.refs=_,this.updater=V||R}var X=Y.prototype=new O;X.constructor=Y,U(X,N.prototype),X.isPureReactComponent=!0;var ne=Array.isArray;function Z(){}var H={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function pe(v,C,V){var I=V.ref;return{$$typeof:i,type:v,key:C,ref:I!==void 0?I:null,props:V}}function J(v,C){return pe(v.type,C,v.props)}function K(v){return typeof v=="object"&&v!==null&&v.$$typeof===i}function W(v){var C={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(V){return C[V]})}var de=/\/+/g;function fe(v,C){return typeof v=="object"&&v!==null&&v.key!=null?W(""+v.key):C.toString(36)}function me(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(Z,Z):(v.status="pending",v.then(function(C){v.status==="pending"&&(v.status="fulfilled",v.value=C)},function(C){v.status==="pending"&&(v.status="rejected",v.reason=C)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function B(v,C,V,I,F){var ee=typeof v;(ee==="undefined"||ee==="boolean")&&(v=null);var ae=!1;if(v===null)ae=!0;else switch(ee){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(v.$$typeof){case i:case r:ae=!0;break;case x:return ae=v._init,B(ae(v._payload),C,V,I,F)}}if(ae)return F=F(v),ae=I===""?"."+fe(v,0):I,ne(F)?(V="",ae!=null&&(V=ae.replace(de,"$&/")+"/"),B(F,C,V,"",function(un){return un})):F!=null&&(K(F)&&(F=J(F,V+(F.key==null||v&&v.key===F.key?"":(""+F.key).replace(de,"$&/")+"/")+ae)),C.push(F)),1;ae=0;var Ae=I===""?".":I+":";if(ne(v))for(var xe=0;xe<v.length;xe++)I=v[xe],ee=Ae+fe(I,xe),ae+=B(I,C,V,ee,F);else if(xe=A(v),typeof xe=="function")for(v=xe.call(v),xe=0;!(I=v.next()).done;)I=I.value,ee=Ae+fe(I,xe++),ae+=B(I,C,V,ee,F);else if(ee==="object"){if(typeof v.then=="function")return B(me(v),C,V,I,F);throw C=String(v),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ae}function Q(v,C,V){if(v==null)return v;var I=[],F=0;return B(v,I,"","",function(ee){return C.call(V,ee,F++)}),I}function oe(v){if(v._status===-1){var C=v._result;C=C(),C.then(function(V){(v._status===0||v._status===-1)&&(v._status=1,v._result=V)},function(V){(v._status===0||v._status===-1)&&(v._status=2,v._result=V)}),v._status===-1&&(v._status=0,v._result=C)}if(v._status===1)return v._result.default;throw v._result}var Ce=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},_e={map:Q,forEach:function(v,C,V){Q(v,function(){C.apply(this,arguments)},V)},count:function(v){var C=0;return Q(v,function(){C++}),C},toArray:function(v){return Q(v,function(C){return C})||[]},only:function(v){if(!K(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return be.Activity=S,be.Children=_e,be.Component=N,be.Fragment=l,be.Profiler=c,be.PureComponent=Y,be.StrictMode=s,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,be.__COMPILER_RUNTIME={__proto__:null,c:function(v){return H.H.useMemoCache(v)}},be.cache=function(v){return function(){return v.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(v,C,V){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var I=U({},v.props),F=v.key;if(C!=null)for(ee in C.key!==void 0&&(F=""+C.key),C)!ye.call(C,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&C.ref===void 0||(I[ee]=C[ee]);var ee=arguments.length-2;if(ee===1)I.children=V;else if(1<ee){for(var ae=Array(ee),Ae=0;Ae<ee;Ae++)ae[Ae]=arguments[Ae+2];I.children=ae}return pe(v.type,F,I)},be.createContext=function(v){return v={$$typeof:f,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:u,_context:v},v},be.createElement=function(v,C,V){var I,F={},ee=null;if(C!=null)for(I in C.key!==void 0&&(ee=""+C.key),C)ye.call(C,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(F[I]=C[I]);var ae=arguments.length-2;if(ae===1)F.children=V;else if(1<ae){for(var Ae=Array(ae),xe=0;xe<ae;xe++)Ae[xe]=arguments[xe+2];F.children=Ae}if(v&&v.defaultProps)for(I in ae=v.defaultProps,ae)F[I]===void 0&&(F[I]=ae[I]);return pe(v,ee,F)},be.createRef=function(){return{current:null}},be.forwardRef=function(v){return{$$typeof:p,render:v}},be.isValidElement=K,be.lazy=function(v){return{$$typeof:x,_payload:{_status:-1,_result:v},_init:oe}},be.memo=function(v,C){return{$$typeof:g,type:v,compare:C===void 0?null:C}},be.startTransition=function(v){var C=H.T,V={};H.T=V;try{var I=v(),F=H.S;F!==null&&F(V,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(Z,Ce)}catch(ee){Ce(ee)}finally{C!==null&&V.types!==null&&(C.types=V.types),H.T=C}},be.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},be.use=function(v){return H.H.use(v)},be.useActionState=function(v,C,V){return H.H.useActionState(v,C,V)},be.useCallback=function(v,C){return H.H.useCallback(v,C)},be.useContext=function(v){return H.H.useContext(v)},be.useDebugValue=function(){},be.useDeferredValue=function(v,C){return H.H.useDeferredValue(v,C)},be.useEffect=function(v,C){return H.H.useEffect(v,C)},be.useEffectEvent=function(v){return H.H.useEffectEvent(v)},be.useId=function(){return H.H.useId()},be.useImperativeHandle=function(v,C,V){return H.H.useImperativeHandle(v,C,V)},be.useInsertionEffect=function(v,C){return H.H.useInsertionEffect(v,C)},be.useLayoutEffect=function(v,C){return H.H.useLayoutEffect(v,C)},be.useMemo=function(v,C){return H.H.useMemo(v,C)},be.useOptimistic=function(v,C){return H.H.useOptimistic(v,C)},be.useReducer=function(v,C,V){return H.H.useReducer(v,C,V)},be.useRef=function(v){return H.H.useRef(v)},be.useState=function(v){return H.H.useState(v)},be.useSyncExternalStore=function(v,C,V){return H.H.useSyncExternalStore(v,C,V)},be.useTransition=function(){return H.H.useTransition()},be.version="19.2.0",be}var Rg;function n1(){return Rg||(Rg=1,bc.exports=t1()),bc.exports}var ti=n1();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,l,s)=>s?s.toUpperCase():l.toLowerCase()),Og=i=>{const r=a1(i);return r.charAt(0).toUpperCase()+r.slice(1)},x0=(...i)=>i.filter((r,l,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===l).join(" ").trim(),l1=i=>{for(const r in i)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=ti.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:c="",children:u,iconNode:f,...p},y)=>ti.createElement("svg",{ref:y,...i1,width:r,height:r,stroke:i,strokeWidth:s?Number(l)*24/Number(r):l,className:x0("lucide",c),...!u&&!l1(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,x])=>ti.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(i,r)=>{const l=ti.forwardRef(({className:s,...c},u)=>ti.createElement(s1,{ref:u,iconNode:r,className:x0(`lucide-${r1(Og(i))}`,`lucide-${i}`,s),...c}));return l.displayName=Og(i),l};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],u1=Oe("arrow-down",o1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cr=Oe("arrow-left",c1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],id=Oe("arrow-right",d1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],h1=Oe("arrow-up",f1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],g1=Oe("bot",p1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],m1=Oe("brain-circuit",y1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],js=Oe("chevron-down",v1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ts=Oe("chevron-up",b1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sd=Oe("circle-check-big",x1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w1=Oe("circle-question-mark",S1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],S0=Oe("circle-x",_1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$c=Oe("clock",C1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Wa=Oe("dumbbell",A1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fa=Oe("eye",E1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],od=Oe("flame",j1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Xs=Oe("footprints",T1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Vc=Oe("gamepad-2",k1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],zg=Oe("graduation-cap",R1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],z1=Oe("info",O1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D1=Oe("layers",M1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U1=Oe("log-out",B1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qc=Oe("lock",N1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],H1=Oe("play",L1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ud=Oe("refresh-ccw",$1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],q1=Oe("refresh-cw",V1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],I1=Oe("save",G1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],w0=Oe("skull",P1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_0=Oe("square-pen",Y1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wr=Oe("star",K1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gc=Oe("target",J1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],C0=Oe("trending-up",Q1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],W1=Oe("trophy",X1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],A0=Oe("user",F1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cd=Oe("x",Z1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ui=Oe("zap",eb),E0=i=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",...i},j.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},j.createElement("path",{d:"M1853 5109 c-78 -13 -178 -54 -253 -104 -90 -60 -198 -176 -243 -263 -33 -62 -40 -70 -79 -81 -136 -40 -285 -169 -351 -302 -43 -88 -67 -186 -67 -279 l0 -65 -48 -27 c-148 -84 -276 -259 -328 -449 -27 -99 -25 -274 4 -367 l23 -73 -65 -69 c-111 -118 -186 -305 -186 -463 0 -124 44 -289 105 -393 l25 -43 -30 -49 c-69 -112 -108 -282 -96 -413 12 -132 78 -290 162 -387 l37 -43 2 -122 c2 -95 7 -138 25 -192 69 -215 201 -370 393 -461 75 -35 185 -64 249 -64 33 0 41 -5 69 -47 101 -151 277 -276 458 -325 111 -30 288 -30 394 0 194 55 373 188 470 349 18 29 34 52 37 52 3 0 19 -23 37 -52 97 -161 276 -294 470 -349 106 -30 283 -30 394 0 181 49 357 174 458 325 28 42 36 47 69 47 69 0 177 30 260 70 184 91 316 249 382 455 18 55 23 97 25 191 l1 122 38 43 c52 61 104 156 134 247 21 64 26 96 26 192 0 138 -17 210 -78 331 l-43 86 23 39 c58 95 103 263 104 387 1 160 -74 348 -186 467 l-65 69 23 73 c29 93 31 268 4 367 -52 190 -180 365 -328 449 l-48 27 0 65 c0 93 -24 191 -67 279 -66 132 -217 262 -351 302 -39 11 -46 19 -79 81 -107 203 -340 358 -563 374 -238 17 -464 -102 -622 -326 l-18 -25 -17 25 c-174 245 -428 363 -690 319z m208 -203 c139 -32 282 -152 343 -287 54 -117 56 -140 56 -591 0 -230 -2 -418 -4 -418 -2 0 -25 10 -52 22 -34 15 -70 22 -117 22 -65 1 -70 -1 -98 -32 -61 -68 -21 -144 86 -163 71 -12 115 -39 153 -93 l27 -39 3 -985 2 -985 -64 60 c-112 105 -232 165 -396 199 -114 23 -176 16 -212 -25 -36 -41 -37 -81 0 -122 24 -27 36 -31 107 -40 173 -21 294 -78 400 -191 202 -214 218 -534 40 -783 -78 -110 -176 -183 -305 -227 -94 -33 -247 -32 -349 1 -144 47 -260 143 -343 284 -23 37 -50 73 -61 78 -10 6 -65 12 -121 13 -110 3 -153 15 -242 72 -175 110 -278 332 -246 528 7 40 9 81 6 92 -4 10 -34 48 -66 83 -105 115 -156 250 -145 386 5 69 34 163 61 200 13 18 16 17 74 -22 104 -69 240 -113 356 -113 30 0 45 7 72 34 46 46 46 86 2 130 -28 28 -42 34 -98 39 -220 20 -400 184 -455 415 -45 187 27 386 185 509 93 72 95 88 35 232 -80 192 -13 433 163 584 213 181 495 146 684 -84 64 -78 118 -222 118 -316 0 -55 39 -101 91 -109 31 -5 42 -1 70 24 34 30 34 31 33 114 -1 140 -60 294 -159 420 -134 171 -359 278 -559 265 l-78 -5 6 50 c43 321 403 465 654 261 69 -56 121 -61 166 -16 19 19 26 36 26 66 0 36 -6 47 -54 93 -57 55 -165 114 -248 135 -27 6 -48 16 -48 21 0 19 136 144 186 170 102 55 208 70 315 44z m1204 -1 c32 -9 81 -28 109 -43 50 -26 186 -151 186 -170 0 -5 -21 -15 -47 -21 -84 -21 -192 -80 -249 -135 -48 -46 -54 -57 -54 -93 0 -30 7 -47 26 -66 45 -45 97 -40 166 16 61 49 115 74 192 88 206 38 411 -101 455 -309 20 -94 22 -91 -66 -85 -354 23 -690 -291 -719 -671 -7 -81 -6 -83 22 -115 42 -46 91 -52 133 -15 28 26 33 38 42 104 25 205 122 354 290 444 166 90 360 67 508 -59 179 -153 247 -393 166 -586 -60 -144 -58 -160 35 -232 158 -123 230 -322 185 -509 -34 -143 -121 -267 -239 -343 -65 -41 -122 -61 -217 -74 -63 -8 -78 -14 -101 -41 -35 -39 -36 -79 -2 -119 32 -39 74 -46 169 -32 91 13 188 51 267 104 70 47 72 46 109 -52 64 -170 18 -362 -123 -516 -69 -75 -68 -70 -53 -215 17 -172 -68 -351 -221 -464 -92 -69 -151 -89 -270 -92 -56 -1 -111 -7 -121 -13 -11 -5 -38 -41 -61 -78 -83 -141 -199 -237 -343 -284 -102 -33 -255 -34 -349 -1 -212 73 -363 244 -414 469 -73 323 136 650 459 718 39 8 89 15 112 15 62 0 108 42 108 100 0 35 -6 47 -33 71 -39 35 -90 38 -209 13 -159 -32 -279 -93 -389 -197 l-64 -60 2 985 3 984 25 37 c37 54 88 87 150 94 74 9 115 45 115 103 0 35 -6 47 -34 72 -33 29 -37 30 -98 25 -35 -4 -84 -15 -110 -27 -25 -11 -47 -20 -49 -20 -2 0 -4 188 -4 418 0 345 3 428 15 477 42 160 127 274 264 352 107 61 214 77 326 48z"}),j.createElement("path",{d:"M2024 4280 c-32 -13 -64 -59 -64 -91 0 -40 46 -88 91 -95 31 -5 42 -1 70 24 28 25 34 37 34 72 0 35 -6 47 -33 71 -33 29 -60 35 -98 19z"}),j.createElement("path",{d:"M1125 3451 c-11 -5 -28 -18 -39 -29 -46 -52 -24 -222 50 -372 85 -172 260 -317 437 -363 33 -9 61 -18 64 -21 10 -9 -9 -47 -47 -95 -46 -59 -117 -96 -210 -110 -81 -13 -115 -42 -115 -100 0 -49 33 -88 81 -97 46 -8 167 18 239 52 111 53 216 180 255 310 12 40 13 41 84 57 89 21 216 83 278 137 70 60 75 123 14 172 -38 31 -80 23 -161 -33 -90 -61 -166 -89 -260 -96 -278 -20 -535 215 -535 488 0 33 -7 48 -34 75 -34 34 -61 41 -101 25z"}),j.createElement("path",{d:"M1860 2023 c-252 -27 -503 -179 -646 -392 -35 -52 -44 -74 -44 -109 0 -56 35 -92 89 -92 47 0 72 18 120 88 65 97 169 186 273 236 105 50 155 63 265 73 64 5 81 11 107 34 25 22 31 35 31 69 0 35 -6 47 -33 71 -33 30 -58 33 -162 22z"}),j.createElement("path",{d:"M1125 1221 c-91 -38 -74 -171 24 -186 132 -21 164 -30 223 -63 144 -81 230 -194 273 -357 8 -32 15 -78 15 -102 0 -55 39 -101 91 -109 31 -5 42 -1 70 24 34 30 34 31 33 114 -2 189 -105 395 -263 527 -135 112 -373 189 -466 152z"}),j.createElement("path",{d:"M3024 4280 c-32 -13 -64 -59 -64 -91 0 -40 46 -88 91 -95 31 -5 42 -1 70 24 28 25 34 37 34 72 0 35 -6 47 -33 71 -33 29 -60 35 -98 19z"}),j.createElement("path",{d:"M3924 3450 c-37 -15 -64 -59 -64 -104 0 -109 -63 -251 -151 -338 -67 -68 -172 -122 -268 -140 -123 -23 -274 17 -398 105 -57 41 -104 48 -139 19 -61 -49 -56 -112 14 -172 62 -54 189 -116 280 -137 72 -17 72 -18 83 -57 47 -174 197 -313 379 -352 98 -21 125 -18 162 15 27 24 33 36 33 70 0 61 -35 92 -117 103 -89 12 -161 50 -208 109 -38 48 -57 86 -47 95 3 3 31 12 64 21 177 46 352 191 437 363 51 105 82 233 73 309 -8 75 -70 117 -133 91z"}),j.createElement("path",{d:"M3124 2021 c-32 -14 -64 -60 -64 -92 0 -17 11 -41 28 -59 25 -28 36 -32 132 -45 58 -7 128 -21 155 -30 141 -48 284 -156 366 -277 48 -70 73 -88 120 -88 54 0 89 36 89 92 0 35 -9 57 -45 110 -119 178 -317 317 -523 368 -92 22 -229 33 -258 21z"}),j.createElement("path",{d:"M3820 1214 c-86 -18 -216 -83 -291 -145 -152 -127 -250 -317 -265 -513 -7 -81 -6 -83 22 -115 42 -46 91 -52 133 -15 28 26 33 38 42 104 19 157 77 273 184 372 74 70 214 127 307 128 57 0 103 45 103 100 0 35 -6 47 -33 71 -27 25 -40 29 -85 28 -28 0 -81 -7 -117 -15z"}))),q={bg:"linear-gradient(145deg, #201d55ff 0%, #161146ff 100%)",surface:"rgba(30, 41, 59, 0.5)",text:"#f1f5f9",subtext:"#a8b2d1",accentPink:"#f472b6",accentViolet:"#a78bfa",accentCyan:"#67e8f9",accentBlue:"#5C6CFF",easyGreen:"#34D399",normalYellow:"#FBBF24",hardRed:"#F87171",playBtnFrom:"#5b21b6",playBtnTo:"#7e22ce",borderColor:"rgba(255,255,255,0.1)",shadow:"0 10px 30px rgba(0,0,0,0.45)"},tb="/MazeMind-TFG/assets/bg-CWbwpWtr.mp3",nb="/MazeMind-TFG/assets/tick-BauwulXa.mp3",rb="/MazeMind-TFG/assets/tick_final-BTyZbypb.mp3",ab="/MazeMind-TFG/assets/start-CBlbqM98.mp3",lb="/MazeMind-TFG/assets/thud-CRrKTc_2.mp3",ib="data:audio/mpeg;base64,//uQyAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAIAAAJrQBNTU1NTU1NTU1NTU1ubm5ubm5ubm5ubm6VlZWVlZWVlZWVlZWVtbW1tbW1tbW1tbW11dXV1dXV1dXV1dXV1ebm5ubm5ubm5ubm5vPz8/Pz8/Pz8/Pz8/P///////////////8AAABOTEFNRTMuOThyA7oAAAAAAAAAAPQgJAfhQQAB4AAACa2B7zefAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uwyAAACthxTnWEAAaowiV3P+AAIAJcuUDTHSHTHWO/cEIYGIhzicWmcKC7E3/jcvtoiSLg3AXBufX/82iECgoYnoifwiC54Pv/rB8HwcBAEAQd/UCAPg+D8o7/BAEDnwTB/8/8oCAIHP+ngcDgcDgcDgcCgQAgAAxoUtcMxTQGBGAmGAgg2o4AMmAIAZh5MZPMchC41GHyFP5iDQH+YWMSOGGeghZlUJBAY+SQZGBOADYOAGgEBFK0mWwrGaoHT5f8wLhYQCBUYbgrRs5o3GEOAoDhFTC7AzLgslMIEAqs3UwLAczCzKEMsFWsygh6WtmAmAWYZoFSB7WjBCAaMGcAJ+TBtDwMRsSAw8xujLIIwMgEJS/SCEBkiC+L1beAQACmB2ABKQgDpaQ6B2YCgZRkvCMmDsCTM31VDAQBCa3J9RIEATAIC2gtgYBlG4Qg8GEQFuYGQBrj1sG6AwCoDADSqVRTxAAYnbFPmFVy8hgYBMGAuAmDQBi5QJAOAoFY8GKjkDACkfamqrnAYBVmulTzmdZwAwAiM95zJrI0Bcg6mK6TDhUAIvlLsWlpBxax2A1B0wcdtwRpm6tinUBu8+k+ZVXVkfV/X1kafbq71bexdXVA2a0t245DlSLVNDDSbl9aEvs6mFyQN9z3cdam1qXXYjF2zf//////////////9mUQzGv///////////////7rjS6+gAAAAAAKku9avjKZQ6wFaGh2mmIlkkWl/Zbx//9z4AXBRstf////DT5wGVGt////fcNmYXtt///+kSG3T1r///4b+PAbFFGt//83u/ncHJhe23/6avuHaK+3Wv//+2DILgBTHZtRvaeAClC0afG4mbjxmG/3AgwpH1v/ulLw9wIdJ4MW28U/pA1EjzPt1rX3vfFM7raR9vPpApS0SW0GSesXGMYpTN6SZ1C3Bqo1QAAwACLqzW7klTeM2jjfxxdb/rtgefw6o0mBGhHCliJL/qJgcgWEgTGzfpk2RMnCLG36mJsnyMJUni8bf/22BYUAVbOf45MmDjwgJOJJT/lkCCBMxMiRI7n2Iw844sjMzm+2IStEls1uQ0GYmegk5EjMGWnphZxeHTkve+HRSIwlWZU2myk4SNpyzXtPoRcJzGrWrOAAMAAACnLvGY1zs4FSs9NcBQtK7cVj1Szc/5sLAAL/+3DID4ASJZtNrajRChUwqb24GXkCU1bD/uJADAFMEEx/0FQaiFOVvzyYEJCSM//9z1hBMBEq//7kCxwSUSW/9+MJlFovla+tDoJqJJVWv+xA1IjBIibDP4QPLhJzZhu56SCaJyT28+7KmjtRl3l7xMw+CTmmnHQg6SC5LRgqmhGy6ltlRAfAAAAAAAAAuSbyqZ/+GEzI1Mr1y5TUpa6IZHAlEGPt9blETsTxt+tMmyHE8Xr+tMvmYSRn//wZiwCEkc//hAskaRJJP78OTLgkSS3P+YpNE4lVdoiHo1pme0Rlu2zM4za2XlPM1btE1J2HHVviLdnljqZl6q403CjS3pp3KbXLeqmNEGxUdQE5Jd+8vzrLjSJcwQDZJL6epb3/0KgYOCYte////qOG3Z+u5//4BAkGSf/9//tgyBYBD+V/SG2YdUoNpCfdtRnh7cBhiT7n/exAlJq3PzCBwSAiRJJ+8EFE1EiRJ+93ZRcAQCU/RTY1XPKk5Cj83QnlRjlpvCNYqqqQnQmqqpG9ljVbbYrLGzNyIyNVEsIaq5YtcwTAAE3NdTS2XOKYKRnpxBEjNRn69yZs/EwaGhAa8qK3KhLAJEY9+o/C4FsWUf4MIgwVv/8GBBMAhKLdogEIgxIlP8eEE0Xytz8w02Dq+fwtBI0ijjO9lGsSqqbnrQSIosxzSmYXCW1WZdKWFgqBOQmCqOzooqiJkDYGPQhNma2HzXXKXZVAAAMPKS3X/45c6WLV6wm/+GZYWU+gVSgk//tgyAyADm0VSayox6m8Iuf9NJodj8a/YwSdlf/wCApqNf/sYcWRbf/zziyKq/uCziyKLd4QLOPIkc2Ggs6yKM/tD1ZptW+w7eapZ+mFlWSSSSPdiyoSSCg+mYKoTkJgqhPVECqNcm/9c//+r9/9QAAAAwJIrbtvhdEgQHgInckD7eTInYPnHYX+suAYTXn+WuNEzX+V5iA/BF67QQHgFX/aMWChOz/BaQBIkkn/PONya17souDUW22i0CJFHNbLURRlGGncnG6OXsm5SWluVL5SQ0MrRJgr9DfttjoragASoSldZAxrR0lDHZWCQ6M1l2mAF8Wmr8wHqOYxb1GI9SVV+UCg//sgyBMACgC/LU00x+j4EGR08KWEFX/ewIWExv7niBzEt+9MgAiSX9/cOS3PcrI5Tzt5Rsmm9qiiv1C1l9X7AATKV1mzYAFoK8HeS0sL7OPdsJ070/8LEz4Nf9pxE3kspsUmdv+MBSIWbuO5N6eePcmQotbHtyRGpR5S2hQgF2qAAP/7EMgCg0JIDSTgBEAgOo3dTAAIvRGAt//oBV1ueYKhRHql1Gioik6LZ/KYKDp/tNVMQU1FMy45OC4yVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQyBuDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",sb="/MazeMind-TFG/assets/reveal-CGSCSWDT.mp3",ob="/MazeMind-TFG/assets/toggle_on-BHTAYZGm.mp3",ub="/MazeMind-TFG/assets/toggle_off-Mx7awV3T.mp3",cb="/MazeMind-TFG/assets/win-wz0UrQrh.wav",db="/MazeMind-TFG/assets/fail-BxnXAJS1.mp3",fb="/MazeMind-TFG/assets/play-mK8qUHIr.wav",hb="/MazeMind-TFG/assets/slide2-DqiafzHX.wav",pb="/MazeMind-TFG/assets/hover2-Cp587VMP.mp3",Ic="mazeMindSettings",xc={backgroundColor:q.bg,textColor:q.text,subtextColor:q.subtext,surfaceColor:q.surface,borderColor:q.borderColor,accentColor1:q.playBtnFrom,accentColor2:q.playBtnTo,easyColor:q.easyGreen,normalColor:q.normalYellow,hardColor:q.hardRed,mazePathColor:"#EEF2FF",mazeWallColor:"#3B82F6",mazePlayerColor:"#111",mazeExitColor:"#F59E0B",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#E11D48"},Mg={visuals:{home:{...xc},levelSelect:{...xc},levelScreen:{...xc}},game:{soundEffects:!0,backgroundMusic:!0,keyMoveUp:"w",keyMoveDown:"s",keyMoveLeft:"a",keyMoveRight:"d",keyHelpReveal:"h",keyHelpPath:"j",keyHelpCrash:"k"}},Dg={"Per Defecte":{backgroundColor:q.bg,textColor:q.text,subtextColor:q.subtext,surfaceColor:q.surface,borderColor:q.borderColor,accentColor1:q.playBtnFrom,accentColor2:q.playBtnTo,easyColor:q.easyGreen,normalColor:q.normalYellow,hardColor:q.hardRed,mazePathColor:"#EEF2FF",mazeWallColor:"#3B82F6",mazePlayerColor:"#111",mazeExitColor:"#F59E0B",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#E11D48"},Fosc:{backgroundColor:"radial-gradient(1200px 600px at 20% 0%, rgba(86,180,233,0.12), transparent 60%), linear-gradient(145deg, #0B1021 0%, #141A32 100%)",textColor:"#FFFFFF",subtextColor:"rgba(255,255,255,0.85)",surfaceColor:"#131A33",borderColor:"rgba(255,255,255,0.18)",accentColor1:"#56B4E9",accentColor2:"#0072B2",easyColor:"#34D399",normalColor:"#FBBF24",hardColor:"#F87171",mazePathColor:"#EEF2FF",mazeWallColor:"#2D6CDF",mazePlayerColor:"#0B1021",mazeExitColor:"#F0B429",mazeWallThickness:3,playerPathColor:"#22D3EE",crashHelpColor:"#E11D48"},Clar:{backgroundColor:"linear-gradient(180deg, #F7FAFF 0%, #EAF1FF 100%)",textColor:"#0B1021",subtextColor:"#334155",surfaceColor:"#FFFFFF",borderColor:"rgba(2,6,23,0.12)",accentColor1:"#4C6FFF",accentColor2:"#CC79A7",easyColor:"#22C55E",normalColor:"#F59E0B",hardColor:"#EF4444",mazePathColor:"#FFFFFF",mazeWallColor:"#2F3A8A",mazePlayerColor:"#0B1021",mazeExitColor:"#D55E00",mazeWallThickness:3,playerPathColor:"rgba(0, 0, 0, 0.4)",crashHelpColor:"#EF4444"},"Alt Contrast":{backgroundColor:"#000000",textColor:"#FFFFFF",subtextColor:"#FFFFFF",surfaceColor:"#000000",borderColor:"#FFFFFF",accentColor1:"#2563eb",accentColor2:"#2563eb",easyColor:"#39FF14",normalColor:"#FFFF00",hardColor:"#FF3131",mazePathColor:"#383838ff",mazeWallColor:"#FFFFFF",mazePlayerColor:"#2563eb",mazeExitColor:"#2563eb",mazeWallThickness:4,playerPathColor:"#39FF14",crashHelpColor:"#FF3131"}};function gb(){try{const i=localStorage.getItem(Ic);if(i){const r=JSON.parse(i);return T0(Mg,r)}}catch(i){console.error("Error al carregar configuraci:",i),localStorage.removeItem(Ic)}return j0(Mg)}function yb(i){try{localStorage.setItem(Ic,JSON.stringify(i))}catch(r){console.error("Error al guardar configuraci:",r)}}function j0(i){return JSON.parse(JSON.stringify(i))}function Sc(i){return i&&typeof i=="object"&&!Array.isArray(i)}function T0(i,r){const l=j0(i);return Sc(i)&&Sc(r)&&Object.keys(r).forEach(s=>{Sc(r[s])?s in i?l[s]=T0(i[s],r[s]):Object.assign(l,{[s]:r[s]}):Object.assign(l,{[s]:r[s]})}),l}const k0=j.createContext(void 0),mb=({children:i})=>{const[r,l]=j.useState(()=>gb()),s=j.useCallback(u=>{l(u),yb(u)},[]),c=j.useCallback(u=>r.visuals[u]||r.visuals.home,[r]);return h.jsx(k0.Provider,{value:{settings:r,updateSettings:s,getVisualSettings:c},children:i})},wt=()=>{const i=j.useContext(k0);if(i===void 0)throw new Error("useSettings must be used within a SettingsProvider");return i},Bg={music:{src:tb,loop:!0,volume:.5},tick:{src:nb,volume:.7},tickFinal:{src:rb,volume:.8},start:{src:ab,volume:.7},crash:{src:lb,volume:.7},starLoss:{src:ib,volume:.7},reveal:{src:sb,volume:.7},toggleOn:{src:ob,volume:.7},toggleOff:{src:ub,volume:.7},win:{src:cb,volume:.8},fail:{src:db,volume:.7},playBtn:{src:fb,volume:.7},slide:{src:hb,volume:.8},hover:{src:pb,volume:.5}},Pr=i=>{i&&(i.currentTime=0,i.play().catch(r=>console.error("Error en reproduir udio:",r)))},Ha=i=>{if(!i)return;const r=i.cloneNode(!0);r.volume=i.volume,r.play().catch(l=>console.error("Error en reproduir udio:",l))},on=()=>{const{settings:i}=wt(),{soundEffects:r,backgroundMusic:l}=i.game,s=j.useMemo(()=>{if(typeof window>"u")return new Map;const c=new Map;for(const u in Bg){const f=u,p=Bg[f],y=new Audio(p.src);y.loop=!!p.loop,y.volume=p.volume??1,y.preload="auto",y.load(),c.set(f,y)}return c},[]);return{playTick:j.useCallback(()=>{r&&Pr(s.get("tick"))},[s,r]),playTickFinal:j.useCallback(()=>{r&&Pr(s.get("tickFinal"))},[s,r]),playStart:j.useCallback(()=>{r&&Pr(s.get("start"))},[s,r]),playCrash:j.useCallback(()=>{r&&Pr(s.get("crash"))},[s,r]),playStarLoss:j.useCallback(()=>{r&&Pr(s.get("starLoss"))},[s,r]),playReveal:j.useCallback(()=>{r&&Pr(s.get("reveal"))},[s,r]),playToggleOn:j.useCallback(()=>{r&&Ha(s.get("toggleOn"))},[s,r]),playToggleOff:j.useCallback(()=>{r&&Ha(s.get("toggleOff"))},[s,r]),playWin:j.useCallback(()=>{r&&Pr(s.get("win"))},[s,r]),playFail:j.useCallback(()=>{r&&Ha(s.get("fail"))},[s,r]),playBtnSound:j.useCallback(()=>{r&&Ha(s.get("playBtn"))},[s,r]),playSlide:j.useCallback(()=>{r&&Ha(s.get("slide"))},[s,r]),playHover:j.useCallback(()=>{r&&Ha(s.get("hover"))},[s,r]),startMusic:j.useCallback(()=>{if(!l){const u=s.get("music");u&&(u.pause(),u.currentTime=0);return}const c=s.get("music");c&&c.play().catch(u=>{console.error("Error al reproduir msica:",u);const f=()=>{c.play().catch(()=>{}),window.removeEventListener("pointerdown",f),window.removeEventListener("keydown",f)};window.addEventListener("pointerdown",f,{once:!0}),window.addEventListener("keydown",f,{once:!0})})},[s,l]),stopMusic:j.useCallback(()=>{const c=s.get("music");c&&(c.pause(),c.currentTime=0)},[s])}},Pc="mazeMindProgress",vb={levels:{},highestUnlocked:{easy:1,normal:1,hard:1}};function bb(i){return Object.values(i.levels).filter(r=>r.stars>0).length}function xb(i){return Object.values(i.levels).reduce((r,l)=>r+l.stars,0)}function Sb(i){return Object.values(i.levels).filter(r=>r.stars===3).length}function Gs(){try{const i=localStorage.getItem(Pc);if(i){const r=JSON.parse(i);return{levels:r.levels||{},highestUnlocked:{easy:r.highestUnlocked?.easy||1,normal:r.highestUnlocked?.normal||1,hard:r.highestUnlocked?.hard||1}}}}catch(i){console.error("Error al carregar progrs:",i),localStorage.removeItem(Pc)}return{...vb}}function wb(i,r,l,s,c){const u=Gs(),f=`${i}-${r}`,p=u.levels[f],y=p?.bestTime??null,g=p?.bestPoints??null,x=p?.stars??0,S=y===null||s<y?s:y,T=g===null||c>g?c:g,A=Math.max(x,l);u.levels[f]={stars:A,bestTime:S,bestPoints:T};const R=r+1;R<=15&&R>u.highestUnlocked[i]&&(u.highestUnlocked[i]=R);try{localStorage.setItem(Pc,JSON.stringify(u))}catch(U){console.error("Error al guardar progrs:",U)}return u}function _b(i,r,l){const s=`${r}-${l}`;return i.levels[s]||null}function Cb({user:i,onNavigate:r,onUserClick:l,onLogout:s,onSettingsClick:c,progress:u}){const{getVisualSettings:f}=wt(),p=f("home"),y=j.useMemo(()=>[{icon:"",label:"Nivells Superats",value:bb(u)},{icon:"",label:"Estrelles",value:xb(u)},{icon:"",label:"Nivells Perfectes",value:Sb(u)}],[u]),g=()=>{i?s():l()},x=on(),[S,T]=j.useState(!1),[A,R]=j.useState(!1),U=()=>{x.playFail(),r()},_=()=>{x.playFail(),c()},N=()=>{x.playFail(),g()},O=j.useMemo(()=>({page:{minHeight:"100svh",width:"100vw",margin:0,background:p.backgroundColor,color:p.textColor,display:"grid",placeItems:"center",padding:24,boxSizing:"border-box"},userButton:{position:"absolute",top:"clamp(16px, 3vw, 24px)",right:"clamp(16px, 3vw, 24px)",background:p.surfaceColor,border:`1px solid ${p.borderColor}`,color:p.subtextColor,borderRadius:"50%",width:"48px",height:"48px",display:"grid",placeItems:"center",cursor:"pointer",boxShadow:q.shadow,zIndex:10,transition:"background 0.2s ease"},container:{width:"min(1100px, 100%)",display:"grid",justifyItems:"center",textAlign:"center",gap:24,paddingInline:"min(4vw, 40px)"},logoSvg:{width:80,height:80,filter:"brightness(0) invert(1)"},logoWrap:{background:`linear-gradient(135deg, ${p.accentColor1}, ${p.accentColor2})`,borderRadius:32,padding:24,marginBottom:16,boxShadow:q.shadow,fontSize:40,lineHeight:1,display:"grid",placeItems:"center"},title:{fontSize:"clamp(42px, 6vw, 68px)",fontWeight:900,margin:0,letterSpacing:"-0.02em",textShadow:"0 2px 0 rgba(0,0,0,.25)",color:p.textColor},subtitle:{fontSize:"clamp(16px, 1.6vw, 20px)",margin:0,maxWidth:760,color:p.subtextColor,marginInline:"auto"},statsGrid:{listStyle:"none",padding:0,margin:"8px 0 0 0",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,width:"80%"},statCard:{background:p.surfaceColor,border:`1px solid ${p.borderColor}`,borderRadius:16,padding:"16px 20px",display:"grid",justifyItems:"center",alignContent:"center",gap:8,boxShadow:q.shadow},statIcon:{fontSize:22,lineHeight:1},statValue:{fontSize:28,fontWeight:800,letterSpacing:"0.02em",color:p.textColor},statLabel:{fontSize:14,color:p.subtextColor},actionsCol:{display:"grid",gridTemplateColumns:"1fr",gap:12,width:"min(420px, 100%)",marginTop:8},playBtn:{padding:"16px",borderRadius:12,border:"2px solid transparent",background:`linear-gradient(90deg, ${p.accentColor1}, ${p.accentColor2})`,color:p.textColor,fontSize:18,fontWeight:800,cursor:"pointer",boxShadow:q.shadow,transition:"transform .05s ease",outline:"3px solid transparent"},secondaryBtn:{padding:"16px",borderRadius:12,border:`2px solid ${p.borderColor}`,background:"rgba(255,255,255,0.06)",color:p.textColor,fontSize:18,fontWeight:700,cursor:"pointer",transition:"transform .05s ease",outline:"3px solid transparent"},welcomeMessage:{color:p.subtextColor,fontSize:16,marginBottom:8}}),[p]);return h.jsxs("main",{role:"main",style:O.page,children:[h.jsx("button",{style:O.userButton,onClick:N,onMouseEnter:()=>x.playHover(),"aria-label":i?`Compte de ${i.email}. Tancar sessi.`:"Iniciar sessi o registrar-se",children:i?h.jsx(U1,{size:24}):h.jsx(A0,{size:24})}),h.jsxs("div",{style:O.container,"aria-labelledby":"title",children:[h.jsx("div",{style:O.logoWrap,role:"img","aria-label":"Logotip de MazeMind",children:h.jsx(E0,{style:O.logoSvg})}),h.jsx("h1",{id:"title",style:O.title,children:"MazeMind"}),h.jsx("p",{style:O.subtitle,children:"Entrena la teva memria visoespacial resolent laberints"}),h.jsx("ul",{style:O.statsGrid,"aria-label":"Estadstiques de progrs",children:y.map(Y=>h.jsxs("li",{style:O.statCard,children:[h.jsx("div",{"aria-hidden":"true",style:O.statIcon,children:Y.icon}),h.jsx("div",{style:O.statValue,"aria-live":"polite",children:Y.value}),h.jsx("div",{style:O.statLabel,children:Y.label})]},Y.label))}),h.jsxs("nav",{id:"actions","aria-label":"Accions",style:O.actionsCol,children:[h.jsxs("button",{type:"button",style:{...O.playBtn,...S?{outline:`3px solid ${p.accentColor1}`,transform:"translateY(-1px) scale(1.01)"}:{}},onClick:U,onMouseEnter:()=>x.playHover(),onFocus:()=>{T(!0),x.playHover()},onBlur:()=>T(!1),"aria-label":"Jugar a MazeMind",children:[h.jsx("span",{"aria-hidden":"true",children:""})," Jugar"]}),h.jsxs("button",{type:"button",style:{...O.secondaryBtn,...A?{outline:`3px solid ${p.accentColor2}`,transform:"translateY(-1px) scale(1.01)"}:{}},onClick:_,onMouseEnter:()=>x.playHover(),onFocus:()=>{R(!0),x.playHover()},onBlur:()=>R(!1),"aria-label":"Obrir configuraci",children:[h.jsx("span",{"aria-hidden":"true",children:""})," Configuraci"]})]})]})]})}function Ab(i){if(i===null)return null;const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}function Eb({index:i,unlocked:r,difficulty:l,stars:s,bestTime:c,onPlay:u}){const f=on(),p=l.charAt(0).toUpperCase()+l.slice(1),{getVisualSettings:y}=wt(),g=y("levelSelect"),x={easy:{icon:h.jsx(Wa,{size:18}),accent:g.easyColor,badgeBg:`${g.easyColor}26`},normal:{icon:h.jsx(ui,{size:18}),accent:g.normalColor,badgeBg:`${g.normalColor}26`},hard:{icon:h.jsx(od,{size:18}),accent:g.hardColor,badgeBg:`${g.hardColor}26`}},S=`Jugar el nivell ${i} en dificultat ${p}`,T=`Nivell ${i} (Bloquejat)`,A=()=>{const _=[];for(let N=0;N<3;N++)_.push(h.jsx(wr,{size:14,fill:N<s?q.normalYellow:"none",color:N<s?q.normalYellow:q.subtext+"80"},N));return _},R=Ab(c),U={cardBase:{background:g.surfaceColor,border:`1px solid ${g.borderColor}`,borderRadius:16,padding:8,width:"100%",aspectRatio:"1/1",boxShadow:q.shadow,transition:"transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease",display:"flex"},cardLocked:{borderColor:g.borderColor,boxShadow:"none",opacity:.6},cardInner:{flexGrow:1,borderRadius:12,background:"linear-gradient(180deg, rgba(255,255,255,0.08), transparent)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"clamp(8px, 2vw, 12px)"},badge:{background:"rgba(255,255,255,.1)",borderRadius:"999px",padding:"4px 8px",fontSize:16,lineHeight:1},levelNum:{fontSize:32,fontWeight:800,color:g.textColor},stars:{color:g.subtextColor},starsContainer:{display:"flex",gap:"2px",margin:"4px 0"},bestTime:{display:"flex",alignItems:"center",gap:"4px",fontSize:12,color:g.subtextColor,margin:"0 0 8px 0"},playBtnBase:{width:"100%",padding:"10px 12px",border:"none",borderRadius:10,color:g.textColor,fontWeight:700,cursor:"pointer",fontSize:16,transition:"transform 0.1s ease"},lockedIcon:{flexGrow:1,display:"grid",placeItems:"center",fontSize:28}};return h.jsx("div",{style:{...U.cardBase,borderColor:r?x[l].accent+"60":g.borderColor,...r?{}:U.cardLocked},"aria-label":r?`Nivell ${i}`:T,"aria-disabled":!r,children:h.jsxs("div",{style:U.cardInner,children:[h.jsx("div",{style:{...U.badge,background:x[l].badgeBg,color:x[l].accent},children:x[l].icon}),h.jsx("div",{style:U.levelNum,children:i}),r?h.jsxs(h.Fragment,{children:[h.jsx("div",{style:U.starsContainer,"aria-label":`Puntuaci: ${s} de 3 estrelles`,children:A()}),R&&h.jsxs("div",{style:U.bestTime,"aria-label":`Millor temps: ${R}`,children:[h.jsx($c,{size:12})," ",R]}),h.jsxs("button",{style:{...U.playBtnBase,background:x[l].accent,color:q.bg},onClick:u,onMouseEnter:()=>f.playHover(),"aria-label":S,children:[h.jsx(H1,{size:16})," Jugar"]})]}):h.jsx("div",{style:{...U.lockedIcon,color:x[l].accent+"90"},children:h.jsx(qc,{size:28})})]})})}function Fe(i,r){const l=Math.max(0,Math.min(1,r));if(typeof i!="string"||i.includes("gradient"))return i;if(i.startsWith("#")){let c=i.slice(1);if(c.length===3&&(c=c.split("").map(u=>u+u).join("")),c.length===6||c.length===8){const u=parseInt(c.slice(0,2),16),f=parseInt(c.slice(2,4),16),p=parseInt(c.slice(4,6),16);return`rgba(${u}, ${f}, ${p}, ${l})`}}const s=i.match(/rgba?\(([^)]+)\)/);if(s){const c=s[1].split(",").map(u=>u.trim());if(c.length>=3){const[u,f,p]=c;return`rgba(${u}, ${f}, ${p}, ${l})`}}return i}const gn=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i,jb=i=>{const r=i.accentColor1,l=i.accentColor2,s=i.easyColor,c=i.normalColor,u=i.hardColor,f=Fe(i.textColor,.06),p=Fe(i.textColor,.16);return{styles:{overlay:{position:"fixed",inset:0,background:Fe(i.textColor,.75),display:"grid",placeItems:"center",zIndex:50,padding:"16px",backdropFilter:"blur(8px)"},modalContent:{background:i.surfaceColor,color:i.textColor,borderRadius:"16px",border:`1px solid ${i.borderColor}`,maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative"},header:{padding:"16px 24px",borderBottom:`1px solid ${i.borderColor}`,display:"flex",alignItems:"center",gap:"12px"},title:{fontSize:"1.5rem",fontWeight:700,margin:0},closeButton:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:i.subtextColor,cursor:"pointer",padding:"4px",borderRadius:"50%"},body:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},section:{display:"flex",flexDirection:"column",gap:"12px"},sectionTitle:{fontSize:"1.1rem",fontWeight:600,margin:0,display:"flex",alignItems:"center",gap:"8px",color:i.textColor},card:{background:f,borderRadius:"8px",padding:"16px",border:`1px solid ${i.borderColor}`},cardTitle:{fontWeight:600,marginBottom:"8px",color:i.textColor},cardText:{fontSize:"0.9rem",color:i.subtextColor,margin:0},stepItem:{display:"flex",alignItems:"start",gap:"12px"},stepNumber:{width:"32px",height:"32px",background:Fe(r,.2),borderRadius:"50%",display:"grid",placeItems:"center",fontWeight:700,color:r,flexShrink:0},keyDisplay:{background:p,padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace",fontSize:"0.8rem"},starRow:{display:"flex",alignItems:"center",gap:"8px"},controlsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},controlItem:{display:"flex",alignItems:"center",gap:"8px"},tutorialCard:{background:`linear-gradient(100deg, ${Fe(s,.15)}, ${Fe(l,.15)})`,border:`1px solid ${s}`,padding:"20px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"16px",textAlign:"left"},tutorialIconWrapper:{width:"64px",height:"64px",background:`linear-gradient(135deg, ${s}, ${l})`,borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},tutorialContent:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},tutorialButton:{background:`linear-gradient(90deg, ${s}, ${l})`,color:"#0A192F",border:"none",padding:"10px 16px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap",flexShrink:0},list:{paddingLeft:"20px",listStyle:"disc",color:i.subtextColor,fontSize:"0.9rem",marginTop:"8px"}},colors:{accentPrimary:r,accentSecondary:l,successColor:s,warningColor:c,dangerColor:u}}};function Tb({open:i,onClose:r,onStartTutorial:l}){const{settings:s,getVisualSettings:c}=wt(),u=s.game,f=c("levelSelect"),{styles:p,colors:y}=j.useMemo(()=>jb(f),[f]);return i?h.jsx("div",{style:p.overlay,onClick:r,children:h.jsxs("div",{style:p.modalContent,onClick:g=>g.stopPropagation(),children:[h.jsx("button",{style:p.closeButton,onClick:r,"aria-label":"Tancar",children:h.jsx(cd,{size:24})}),h.jsxs("div",{style:p.header,children:[h.jsx(Gc,{size:28,color:y.accentSecondary}),h.jsx("h2",{style:p.title,children:"Com Jugar a MazeMind"})]}),h.jsxs("div",{style:p.body,children:[h.jsx("section",{style:p.section,children:h.jsxs("div",{style:p.card,children:[h.jsxs("h3",{style:{...p.sectionTitle,color:y.accentSecondary,marginBottom:"8px"},children:[h.jsx(W1,{size:20})," Objectiu"]}),h.jsx("p",{style:p.cardText,children:"Entrena la teva memria visoespacial navegant per laberints invisibles. Memoritza el cam, desprs troba la sortida sense veure les parets!"})]})}),h.jsxs("section",{style:p.section,children:[h.jsxs("h3",{style:{...p.sectionTitle,color:y.accentPrimary},children:[h.jsx(Vc,{size:20,color:y.accentPrimary})," Com Jugar"]}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx("div",{style:p.stepNumber,children:"1"}),h.jsxs("div",{style:{flex:1},children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:" Fase de Memoritzaci"}),h.jsx("p",{style:p.cardText,children:"Veurs el laberint complet durant uns segons. Memoritza el cam des de l'inici (cercle) fins a la sortida (quadrat)."})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx("div",{style:p.stepNumber,children:"2"}),h.jsxs("div",{children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Les Parets Desapareixen"}),h.jsx("p",{style:p.cardText,children:"Quan acabi el temps, les parets es tornaran invisibles. Ara has de recordar el cam!"})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx("div",{style:p.stepNumber,children:"3"}),h.jsxs("div",{children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Navega fins la Sortida"}),h.jsxs("p",{style:p.cardText,children:["Usa les Fletxes o les tecles "," ",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyMoveUp)})," ",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyMoveLeft)})," ",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyMoveDown)})," ",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyMoveRight)})," per moure't."]})]})]})})]}),h.jsxs("section",{style:p.section,children:[h.jsxs("h3",{style:{...p.sectionTitle,color:y.successColor},children:[h.jsx(Vc,{size:20,color:y.successColor})," Controls"]}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.controlsGrid,children:[h.jsxs("div",{style:p.controlItem,children:[h.jsxs("kbd",{style:p.keyDisplay,children:[h.jsx(h1,{size:12,style:{marginBottom:-1}})," ",gn(u.keyMoveUp)]}),h.jsx("span",{children:"Amunt"})]}),h.jsxs("div",{style:p.controlItem,children:[h.jsxs("kbd",{style:p.keyDisplay,children:[h.jsx(u1,{size:12,style:{marginBottom:-1}})," ",gn(u.keyMoveDown)]}),h.jsx("span",{children:"Avall"})]}),h.jsxs("div",{style:p.controlItem,children:[h.jsxs("kbd",{style:p.keyDisplay,children:[h.jsx(Cr,{size:12,style:{marginBottom:-1}})," ",gn(u.keyMoveLeft)]}),h.jsx("span",{children:"Esquerra"})]}),h.jsxs("div",{style:p.controlItem,children:[h.jsxs("kbd",{style:p.keyDisplay,children:[h.jsx(id,{size:12,style:{marginBottom:-1}})," ",gn(u.keyMoveRight)]}),h.jsx("span",{children:"Dreta"})]})]})})]}),h.jsxs("section",{style:p.section,children:[h.jsxs("h3",{style:{...p.sectionTitle,color:y.warningColor},children:[h.jsx(wr,{size:20,color:y.warningColor})," Sistema d'Estrelles"]}),h.jsxs("div",{style:p.card,children:[h.jsx("p",{style:p.cardText,children:"Comences amb 1000 punts. Els punts disminueixen amb el temps i si uses ajudes. Les estrelles es basen en els punts finals:"}),h.jsxs("ul",{style:p.list,children:[h.jsx("li",{children:": 800+ punts"}),h.jsx("li",{children:": 400-799 punts"}),h.jsx("li",{children:": 1-399 punts"})]})]})]}),h.jsxs("section",{style:p.section,children:[h.jsxs("h3",{style:{...p.sectionTitle,color:y.accentPrimary},children:[h.jsx(ui,{size:20,color:y.accentPrimary})," Ajudes Disponibles"]}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(Fa,{size:20,color:y.accentPrimary,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Revelar (",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyHelpReveal)}),")"]}),h.jsx("p",{style:p.cardText,children:"Mostra el laberint durant 0.5 segons. 3 usos per nivell. Cost: 50 punts."})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(Xs,{size:20,color:y.successColor,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Mostrar Cam (",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyHelpPath)}),")"]}),h.jsx("p",{style:p.cardText,children:"Mostra el cam que has recorregut. Activable/desactivable. Cost: +2 punts/segon mentre est activat."})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(w0,{size:20,color:y.dangerColor,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsxs("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:["Ajuda Xoc (",h.jsx("kbd",{style:p.keyDisplay,children:gn(u.keyHelpCrash)}),")"]}),h.jsx("p",{style:p.cardText,children:"Si xoques, mostra les parets properes. Activable/desactivable. Cost: 20 punts per xoc."})]})]})})]}),h.jsxs("section",{style:p.section,children:[h.jsxs("h3",{style:p.sectionTitle,children:[h.jsx(D1,{size:20})," Modes de Joc"]}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(Gc,{size:20,color:y.accentPrimary,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Clssic"}),h.jsx("p",{style:p.cardText,children:"Supera els nivells predefinits en dificultats Fcil, Normal i Difcil. Guanya estrelles i desbloqueja el segent nivell."})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(Wa,{size:20,color:y.successColor,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Prctica IA"}),h.jsx("p",{style:p.cardText,children:"Entrena sense pressi. Juga laberints aleatoris adaptats al teu nivell a partir de la IA."})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(C0,{size:20,color:y.warningColor,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Prctica Score"}),h.jsx("p",{style:p.cardText,children:"Juga laberints aleatoris que van pujant de dificultat i consegueix la puntuaci ms alta (mida, temps)."})]})]})}),h.jsx("div",{style:p.card,children:h.jsxs("div",{style:p.stepItem,children:[h.jsx(_0,{size:20,color:y.accentSecondary,style:{flexShrink:0}}),h.jsxs("div",{children:[h.jsx("h4",{style:{...p.cardTitle,display:"flex",alignItems:"center",gap:"8px",margin:0},children:"Lliure / Creador"}),h.jsx("p",{style:p.cardText,children:"Defineix la mida del laberint, el temps de memoritzaci, mode de dificultat i juga al teu gust."})]})]})})]}),h.jsxs("section",{style:p.section,children:[h.jsxs("h3",{style:p.sectionTitle,children:[h.jsx(z1,{size:20})," Consells"]}),h.jsx("div",{style:p.card,children:h.jsxs("ul",{style:p.list,children:[h.jsx("li",{children:"Centra't en recordar els girs principals."}),h.jsx("li",{children:"Visualitza mentalment el recorregut mentre memoritzes."}),h.jsx("li",{children:"No tinguis por d'utilitzar les ajudes al principi."})]})})]}),h.jsxs("div",{style:p.tutorialCard,children:[h.jsx("div",{style:p.tutorialIconWrapper,children:h.jsx(zg,{size:32,color:"#fff"})}),h.jsxs("div",{style:p.tutorialContent,children:[h.jsx("h3",{style:{...p.cardTitle,fontSize:"1.1rem",margin:0},children:"Primera vegada jugant?"}),h.jsx("p",{style:{...p.cardText,fontSize:"0.9rem",margin:"4px 0 0 0"},children:"Comena amb el segent tutorial guiat pas a pas i aprn jugant."})]}),h.jsxs("button",{style:p.tutorialButton,onClick:()=>{r(),l()},children:[h.jsx(zg,{size:18})," Comenar Tutorial"]})]})]})]})}):null}const R0="mazeMindPracticeBestScore";function kb(i){const r=li(),l=Math.max(r,i);try{localStorage.setItem(R0,JSON.stringify(l))}catch(s){console.error("Error guardant best practice score:",s)}return l}function li(){try{const i=localStorage.getItem(R0);if(!i)return 0;const r=JSON.parse(i);return typeof r=="number"&&!Number.isNaN(r)?r:0}catch{return 0}}const Rb=i=>{const r=Fe(i.textColor,.7),l=Fe(i.textColor,.06);return{overlay:{position:"fixed",inset:0,background:r,backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:60,padding:"16px"},modalContent:{background:i.surfaceColor,color:i.textColor,borderRadius:"16px",border:`1px solid ${i.borderColor}`,maxWidth:"500px",width:"100%",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative"},header:{padding:"16px 24px",borderBottom:`1px solid ${i.borderColor}`,display:"flex",alignItems:"center",gap:"12px"},title:{fontSize:"1.5rem",fontWeight:700,margin:0},closeButton:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:i.subtextColor,cursor:"pointer",padding:"4px",borderRadius:"50%"},body:{padding:"24px",display:"flex",flexDirection:"column",gap:"16px"},card:{background:l,border:`1px solid ${i.borderColor}`,borderRadius:"12px",padding:"20px",display:"flex",alignItems:"center",gap:"16px",cursor:"pointer",transition:"all 0.2s ease"},cardIcon:{width:"48px",height:"48px",borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},cardTitle:{fontWeight:600,fontSize:"1.1rem",margin:0},cardText:{fontSize:"0.9rem",color:i.subtextColor,margin:"4px 0 0 0"},bestScoreText:{fontSize:"0.8rem",opacity:.9}}};function Ob({open:i,onClose:r,onStartIA:l,onStartNormal:s,onStartFree:c}){const u=on(),{getVisualSettings:f}=wt(),p=f("levelSelect"),y=j.useMemo(()=>Rb(p),[p]),[g,x]=j.useState(0);if(j.useEffect(()=>{i&&x(li())},[i]),!i)return null;const S=T=>{u.playBtnSound(),T(),r()};return h.jsx("div",{style:y.overlay,onClick:r,children:h.jsxs("div",{style:y.modalContent,onClick:T=>T.stopPropagation(),children:[h.jsx("button",{style:y.closeButton,onClick:r,"aria-label":"Tancar",children:h.jsx(cd,{size:24})}),h.jsx("div",{style:y.header,children:h.jsx("h2",{style:y.title,children:"Modes de Prctica"})}),h.jsxs("div",{style:y.body,children:[h.jsxs("div",{style:y.card,onClick:()=>S(l),onMouseEnter:()=>u.playHover(),children:[h.jsx("div",{style:{...y.cardIcon,background:Fe(p.accentColor2,.2)},children:h.jsx(m1,{size:24,color:p.accentColor2})}),h.jsxs("div",{children:[h.jsx("h3",{style:y.cardTitle,children:"Prctica IA"}),h.jsx("p",{style:y.cardText,children:"Juga laberints aleatoris adaptats al teu nivell."})]})]}),h.jsxs("div",{style:y.card,onClick:()=>S(s),onMouseEnter:()=>u.playHover(),children:[h.jsx("div",{style:{...y.cardIcon,background:Fe(p.normalColor,.2)},children:h.jsx(C0,{size:24,color:p.normalColor})}),h.jsxs("div",{children:[h.jsx("h3",{style:y.cardTitle,children:"Prctica Score"}),h.jsxs("p",{style:y.cardText,children:["Juga laberints aleatoris que pugen de dificultat.",h.jsx("br",{}),h.jsxs("span",{style:y.bestScoreText,children:["Millor puntuaci: ",h.jsx("strong",{children:Math.round(g)})]})]})]})]}),h.jsxs("div",{style:y.card,onClick:()=>S(c),onMouseEnter:()=>u.playHover(),children:[h.jsx("div",{style:{...y.cardIcon,background:Fe(p.easyColor,.2)},children:h.jsx(_0,{size:24,color:p.easyColor})}),h.jsxs("div",{children:[h.jsx("h3",{style:y.cardTitle,children:"Mode Lliure / Creaci"}),h.jsx("p",{style:y.cardText,children:"Defineix la mida, temps i dificultat al teu gust."})]})]})]})]})})}const Ug={easy:"Fcil",normal:"Normal",hard:"Difcil"},zb={easy:h.jsx(Wa,{size:16}),normal:h.jsx(ui,{size:16}),hard:h.jsx(od,{size:16})};function Mb({onPlayLevel:i,onBack:r,onStartTutorial:l,progress:s,selectedDifficulty:c,onDifficultyChange:u,onStartPracticeIA:f,onStartPracticeNormal:p,onStartPracticeFree:y}){const g=on(),{getVisualSettings:x}=wt(),S=x("levelSelect"),T=j.useMemo(()=>({easy:S.easyColor,normal:S.normalColor,hard:S.hardColor}),[S]),A=c,[R,U]=j.useState(!1),[_,N]=j.useState(!1),O=j.useRef(null),[Y,X]=j.useState({});j.useEffect(()=>{if(!O.current)return;const K=O.current.querySelectorAll("button"),de=["easy","normal","hard"].indexOf(A),fe=K[de];X(fe?{left:`${fe.offsetLeft}px`,width:`${fe.offsetWidth}px`,background:T[A],opacity:1}:{opacity:0})},[A,T]);const ne=Array.from({length:15},(K,W)=>W+1),Z=s.highestUnlocked[A]||0,H=j.useCallback(()=>{g.playFail(),r()},[r,g]),ye=j.useCallback((K,W)=>{g.playFail(),i(K,W)},[i,g]),pe=j.useCallback(()=>{g.playFail(),N(!0)},[g]),J=j.useMemo(()=>({page:{background:S.backgroundColor,color:S.textColor,minHeight:"100svh",width:"100vw",padding:"clamp(16px, 4vw, 32px)",boxSizing:"border-box"},container:{maxWidth:960,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,gap:16},title:{margin:0,fontSize:"clamp(24px, 5vw, 32px)"},backBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${S.borderColor}`,background:S.surfaceColor,color:S.textColor,cursor:"pointer",fontSize:16,width:100},diffBarContainer:{position:"relative",display:"flex",justifyContent:"center",background:S.surfaceColor,borderRadius:999,padding:"6px",marginBottom:32,boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"},diffTab:{flexGrow:1,padding:"10px 16px",borderRadius:999,border:"none",background:"transparent",color:S.subtextColor,fontWeight:600,cursor:"pointer",transition:"color 0.3s ease",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},diffIndicator:{position:"absolute",top:"6px",bottom:"6px",borderRadius:999,boxShadow:q.shadow,transition:"left 0.3s ease, width 0.3s ease, background 0.3s ease",zIndex:1,opacity:0},diffBar:{display:"flex",justifyContent:"center",gap:12,marginBottom:24},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"clamp(12px, 2vw, 20px)"},footer:{display:"flex",justifyContent:"center",marginTop:32},practiceBtn:{padding:"12px 20px",borderRadius:12,border:`1px solid ${S.borderColor}`,background:S.surfaceColor,color:S.textColor,fontSize:16,cursor:"pointer"}}),[S]);return h.jsxs(h.Fragment,{children:[h.jsx("main",{style:J.page,children:h.jsxs("div",{style:J.container,children:[h.jsxs("header",{style:J.header,children:[h.jsxs("button",{style:J.backBtn,onMouseEnter:()=>g.playHover(),onClick:H,"aria-label":"Tornar a la pantalla d'inici",children:[h.jsx("span",{"aria-hidden":"true",children:""})," Inici"]}),h.jsx("div",{style:{textAlign:"center"},children:h.jsx("h1",{style:J.title,children:"Selecciona el Nivell"})}),h.jsx("div",{style:{width:100}})]}),h.jsxs("div",{role:"tablist","aria-label":"Selector de dificultat",style:J.diffBarContainer,ref:O,children:[h.jsx("div",{style:{...J.diffIndicator,...Y}}),["easy","normal","hard"].map(K=>h.jsxs("button",{role:"tab",onClick:()=>{g.playSlide(),u(K)},"aria-selected":A===K,style:{...J.diffTab,color:A===K?S.textColor:S.subtextColor},children:[zb[K],Ug[K]]},K))]}),h.jsx("section",{"aria-label":`Nivells de dificultat ${Ug[A]}`,children:h.jsx("div",{style:J.grid,children:ne.map(K=>{const W=_b(s,A,K);return h.jsx(Eb,{index:K,unlocked:K<=Z,difficulty:A,stars:W?.stars??0,bestTime:W?.bestTime??null,onPlay:()=>ye(K,A)},`${A}-${K}`)})})}),h.jsxs("footer",{style:J.footer,children:[h.jsxs("button",{style:J.practiceBtn,onMouseEnter:()=>g.playHover(),onClick:pe,children:[h.jsx(Wa,{size:18,style:{marginBottom:-1}})," Mode Prctica"]}),h.jsx("div",{style:{width:12}}),h.jsxs("button",{style:J.practiceBtn,onMouseEnter:()=>g.playHover(),onClick:()=>{g.playBtnSound(),U(!0)},children:[h.jsx(w1,{size:18,style:{marginBottom:-2}})," Com Jugar"]})]})]})}),h.jsx(Tb,{open:R,onClose:()=>U(!1),onStartTutorial:l}),h.jsx(Ob,{open:_,onClose:()=>N(!1),onStartIA:f,onStartNormal:p,onStartFree:y})]})}function dd({level:i,phase:r="memorize",playerPos:l,settings:s={},showReveal:c=!1,showPlayerPath:u=!1,crashPosition:f=null,forcePathHistory:p}){const y=j.useRef(null),g=j.useRef([]),x={path_color:"#EEF2FF",wall_color:"#3B82F6",wall_thickness:3,exit_color:"#F59E0B",player_color:"#111",player_path_color:"rgba(0, 0, 0, 0.4)",crash_help_color:"#E11D48",...s};return j.useEffect(()=>{const S=y.current;if(!S)return;r==="memorize"&&(g.current=[]);let T=[];if(p)T=p;else{if(r==="memorize"&&(g.current=[]),l){const R=g.current[g.current.length-1];(!R||R.x!==l.x||R.y!==l.y)&&g.current.push(l)}T=g.current}const A=()=>{const R=S.parentElement,U=Math.min(R.clientWidth,R.clientHeight);S.width=U,S.height=U;const _=S.getContext("2d"),N=Math.max(i.width,i.height),O=U/N,Y=i.width*O,X=i.height*O,ne=(U-Y)/2,Z=(U-X)/2;_.fillStyle=x.path_color,_.fillRect(0,0,U,U);const H=ne+i.exit.x*O,ye=Z+i.exit.y*O,pe=O*.7,J=(O-pe)/2;if(_.fillStyle=x.exit_color,_.roundRect?.(H+J,ye+J,pe,pe,O*.15)??_.fillRect(H+J,ye+J,pe,pe),_.fill(),r==="playing"&&u&&T.length>1){_.strokeStyle=x.player_path_color,_.lineWidth=x.wall_thickness,_.globalAlpha=.4,_.beginPath();const K=T[0];_.moveTo(ne+K.x*O+O/2,Z+K.y*O+O/2);for(const W of T.slice(1))_.lineTo(ne+W.x*O+O/2,Z+W.y*O+O/2);_.stroke(),_.globalAlpha=1}if(r==="memorize"||c){_.strokeStyle=x.wall_color,_.lineWidth=x.wall_thickness,_.lineCap="round",_.lineJoin="round";for(let K=0;K<i.height;K++)for(let W=0;W<i.width;W++){const de=i.maze[K][W],fe=ne+W*O,me=Z+K*O;_.beginPath(),de.walls.top&&(_.moveTo(fe,me),_.lineTo(fe+O,me)),de.walls.right&&(_.moveTo(fe+O,me),_.lineTo(fe+O,me+O)),de.walls.bottom&&(_.moveTo(fe,me+O),_.lineTo(fe+O,me+O)),de.walls.left&&(_.moveTo(fe,me),_.lineTo(fe,me+O)),_.stroke()}}if(r==="playing"&&f){_.strokeStyle=x.crash_help_color,_.lineWidth=x.wall_thickness+2,_.lineCap="round",_.lineJoin="round";const{x:K,y:W}=f;for(let de=W-1;de<=W+1;de++)for(let fe=K-1;fe<=K+1;fe++){if(fe<0||de<0||fe>=i.width||de>=i.height)continue;const me=i.maze[de][fe],B=ne+fe*O,Q=Z+de*O;_.beginPath(),me.walls.top&&(_.moveTo(B,Q),_.lineTo(B+O,Q)),me.walls.right&&(_.moveTo(B+O,Q),_.lineTo(B+O,Q+O)),me.walls.bottom&&(_.moveTo(B,Q+O),_.lineTo(B+O,Q+O)),me.walls.left&&(_.moveTo(B,Q),_.lineTo(B,Q+O)),_.stroke()}}if((r==="playing"||r==="memorize")&&l){const K=ne+l.x*O+O/2,W=Z+l.y*O+O/2,de=O*.3;_.fillStyle=x.player_color,_.beginPath(),_.arc(K,W,de,0,2*Math.PI),_.fill()}};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[i,r,l,c,u,f,x.path_color,x.wall_color,x.wall_thickness,x.exit_color,x.player_color,x.player_path_color,x.crash_help_color,p]),h.jsx("canvas",{ref:y,style:{width:"100%",height:"100%",borderRadius:12}})}function Db(i){const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}function Bb(i){return i>=800?"":i>=400?"":i>0?"":""}const $a=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function Ub({gameTime:i,points:r,revealCharges:l,isPathHelpActive:s,isCrashHelpActive:c,onRevealHelp:u,onTogglePathHelp:f,onToggleCrashHelp:p,lives:y,difficulty:g}){const{getVisualSettings:x,settings:S}=wt(),T=x("levelScreen"),{game:A}=S,R={container:{display:"flex",flexWrap:"wrap",gap:"12px",width:"100%",alignItems:"stretch"},card:{background:T.surfaceColor,border:`1px solid ${T.borderColor}`,borderRadius:14,padding:"12px 16px",color:T.textColor,display:"flex",flexDirection:"column",gap:"4px",flexGrow:1,flexBasis:"180px"},helpsCard:{flexDirection:"row",flexWrap:"wrap",gap:"8px",flexBasis:"300px",justifyContent:"center",alignItems:"center"},label:{fontSize:14,color:T.subtextColor,display:"flex",alignItems:"center",gap:"4px",fontWeight:500},valueLarge:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:700,lineHeight:1},valueSmall:{fontSize:"clamp(18px, 3vw, 22px)",fontWeight:700,lineHeight:1},pointsStars:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",gap:"8px"},stars:{fontSize:18,color:T.normalColor,lineHeight:1.2},helpButton:{background:"rgba(255,255,255,0.08)",border:`1px solid ${T.borderColor}`,color:T.subtextColor,padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:13,fontWeight:600,flexGrow:1},helpActive:{background:T.easyColor,color:"#000",borderColor:"transparent"},livesText:{fontSize:"clamp(20px, 4vw, 28px)",fontWeight:700,lineHeight:1,letterSpacing:"0.1em"}};return h.jsxs("div",{style:R.container,children:[h.jsxs("div",{style:R.card,children:[h.jsx("span",{style:R.label,children:" Temps"}),h.jsx("span",{style:R.valueLarge,children:Db(i)})]}),g==="hard"&&h.jsxs("div",{style:R.card,children:[h.jsx("span",{style:R.label,children:" Vides"}),h.jsxs("span",{style:R.livesText,"aria-label":`${y} vides restants`,children:["".repeat(y),"".repeat(Math.max(0,3-y))]})]}),h.jsxs("div",{style:R.card,children:[h.jsx("span",{style:R.label,children:" Objectiu"}),h.jsxs("div",{style:R.pointsStars,children:[h.jsxs("span",{style:R.valueSmall,children:[r," pts"]}),h.jsx("span",{style:R.stars,children:Bb(r)})]})]}),h.jsxs("div",{style:{...R.card,...R.helpsCard},children:[h.jsxs("button",{style:R.helpButton,onClick:u,disabled:l===0,title:`Mostra el laberint (${$a(A.keyHelpReveal)}) | Cost: 50 pts`,children:[h.jsx(Fa,{size:18}),h.jsxs("span",{children:["Revelar (",l,")"]}),h.jsx("kbd",{children:$a(A.keyHelpReveal)})]}),h.jsxs("button",{style:{...R.helpButton,...s?R.helpActive:{}},onClick:f,title:`Mostra el cam recorregut (${$a(A.keyHelpPath)}) | Cost: -2 pts/s`,children:[h.jsx(Xs,{size:18}),h.jsx("span",{children:"Cam"}),h.jsx("kbd",{children:$a(A.keyHelpPath)})]}),g!=="hard"&&h.jsxs("button",{style:{...R.helpButton,...c?R.helpActive:{}},onClick:p,title:`Mostra parets properes al xocar (${$a(A.keyHelpCrash)}) | Cost: -20 pts`,children:[h.jsx(w0,{size:18}),h.jsx("span",{children:"Ajuda Xoc"}),h.jsx("kbd",{children:$a(A.keyHelpCrash)})]})]})]})}function Nb(i){const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}function Lb(i){return"".repeat(i)+"".repeat(3-i)}const Hb=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Fe(i.textColor,.08);return{overlay:{position:"fixed",inset:0,background:Fe(i.surfaceColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:i.easyColor},results:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"16px",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:i.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600,color:i.textColor},starsValue:{color:i.normalColor},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function $b({levelNumber:i,stars:r,time:l,points:s,onRetry:c,onBack:u}){const f=on(),{getVisualSettings:p}=wt(),y=p("levelScreen"),g=j.useMemo(()=>Hb(y),[y]);return h.jsx("div",{style:g.overlay,children:h.jsxs("div",{style:g.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[h.jsxs("h2",{id:"modalTitle",style:g.title,children:["Nivell ",i," Superat!"]}),h.jsxs("div",{style:g.results,children:[h.jsxs("div",{style:g.resultItem,children:[h.jsx("span",{style:g.resultLabel,children:"Estrelles"}),h.jsx("span",{style:{...g.resultValue,...g.starsValue},children:Lb(r)})]}),h.jsxs("div",{style:g.resultItem,children:[h.jsx("span",{style:g.resultLabel,children:"Temps"}),h.jsx("span",{style:g.resultValue,children:Nb(l)})]}),h.jsxs("div",{style:g.resultItem,children:[h.jsx("span",{style:g.resultLabel,children:"Punts"}),h.jsx("span",{style:g.resultValue,children:s})]})]}),h.jsxs("div",{style:g.actions,children:[h.jsxs("button",{onMouseEnter:()=>f.playHover(),style:g.retryButton,onClick:c,children:[h.jsx(ud,{size:18})," Tornar a Jugar"]}),h.jsxs("button",{onMouseEnter:()=>f.playHover(),style:g.backButton,onClick:u,children:[h.jsx(Cr,{size:18})," Tornar als Nivells"]})]})]})})}const Vb=i=>{const r=Fe(i.textColor,.08),l=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`;return{overlay:{position:"fixed",inset:0,background:Fe(i.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(400px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"16px"},iconWrapper:{lineHeight:1,marginTop:"8px",color:i.hardColor},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:i.hardColor},subtitle:{fontSize:16,color:i.subtextColor,margin:"-8px 0 8px 0"},results:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"16px 0",marginTop:4},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:12,color:i.subtextColor,textTransform:"uppercase",letterSpacing:"0.08em"},resultValue:{fontSize:"clamp(18px, 4vw, 24px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",marginTop:"8px"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:l,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:r,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function O0({onRetry:i,onBack:r,score:l,bestScore:s,isPracticeScoreMode:c}){const u=on(),{getVisualSettings:f}=wt(),p=f("levelScreen"),y=j.useMemo(()=>Vb(p),[p]),g=typeof l=="number"?Math.round(l):void 0,x=typeof s=="number"?Math.round(s):void 0;return h.jsx("div",{style:y.overlay,children:h.jsxs("div",{style:y.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[h.jsx("div",{style:y.iconWrapper,children:h.jsx(S0,{size:64})}),h.jsx("h2",{id:"modalTitle",style:y.title,children:c?"Game Over":"Has Perdut!"}),h.jsx("p",{style:y.subtitle,children:"T'has quedat sense vides."}),typeof g=="number"&&typeof x=="number"&&h.jsxs("div",{style:y.results,children:[h.jsxs("div",{style:y.resultItem,children:[h.jsx("span",{style:y.resultLabel,children:"Score Actual"}),h.jsx("span",{style:y.resultValue,children:g})]}),h.jsxs("div",{style:y.resultItem,children:[h.jsx("span",{style:y.resultLabel,children:"Millor score"}),h.jsx("span",{style:y.resultValue,children:x})]})]}),h.jsxs("div",{style:y.actions,children:[h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.retryButton,onClick:i,children:[h.jsx(ud,{size:18})," Tornar a Intentar"]}),h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.backButton,onClick:r,children:[h.jsx(Cr,{size:18})," Tornar als Nivells"]})]})]})})}function qb(i){const r=Math.floor(i/60).toString(),l=(i%60).toString().padStart(2,"0");return`${r}:${l}`}const Gb=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Fe(i.textColor,.08),s={fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0};return{overlay:{position:"fixed",inset:0,background:Fe(i.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},title:s,results:{display:"grid",gridTemplateColumns:"1fr",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:i.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},newMazeButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},statusIcon:c=>({color:c?i.easyColor:i.hardColor,marginBottom:"-16px"}),statusTitle:c=>({...s,color:c?i.easyColor:i.hardColor})}};function Ib({status:i,time:r,onRetrySameMaze:l,onRetryNewMaze:s,onBackToSettings:c}){const u=on(),{getVisualSettings:f}=wt(),p=f("levelScreen"),y=j.useMemo(()=>Gb(p),[p]),g=i==="completed";return h.jsx("div",{style:y.overlay,children:h.jsxs("div",{style:y.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[h.jsx("div",{style:y.statusIcon(g),children:g?h.jsx(sd,{size:56}):h.jsx(S0,{size:56})}),h.jsx("h2",{id:"modalTitle",style:y.statusTitle(g),children:g?"Laberint Superat":"Derrota"}),h.jsx("div",{style:y.results,children:h.jsxs("div",{style:y.resultItem,children:[h.jsx("span",{style:y.resultLabel,children:"Temps Final"}),h.jsx("span",{style:y.resultValue,children:qb(r)})]})}),h.jsxs("div",{style:y.actions,children:[h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.retryButton,onClick:l,children:[h.jsx(ud,{size:18})," Repetir Laberint"]}),h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.newMazeButton,onClick:s,children:[h.jsx(g1,{size:18})," Nou Laberint (Mateixos Parmetres)"]}),h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.backButton,onClick:c,children:[h.jsx(Cr,{size:18})," Canviar Parmetres"]})]})]})})}const Wr=[{title:"Benvingut al Tutorial!",description:"Aprendrem junts com jugar a MazeMind. Prem 'Segent' per comenar.",icon:Gc},{title:"Memoritza el Laberint",description:"Fixa't b en el laberint. Les lnies sn parets que no pots travessar. Tu ets el cercle i el quadrat s la sortida.",icon:Fa},{title:"Prepara't!",description:"En uns segons, les parets desapareixeran i haurs de recordar el cam. Intenta visualitzar mentalment la ruta.",icon:Fa},{title:"Ara et toca!",description:"Usa les Fletxes o les tecles WASD configurades per moure't. Les parets sn invisibles per encara estan all! Intenta arribar a la sortida.",icon:Vc},{title:"Ajudes Disponibles",description:"Si et perds, pots usar les ajudes del HUD: 'Revelar' (costa punts), 'Mostrar Cam' o 'Ajuda Xoc' (costen punts per temps/s).",icon:ui},{title:"Tutorial Completat!",description:"Ja saps com jugar! Recorda que la prctica fa el mestre. Prem 'Comenar a Jugar!' per sortir del tutorial.",icon:sd}];function Pb({step:i,onNext:r,onSkip:l}){const s=Wr[i]||Wr[0],c=s.icon,u=i===Wr.length-1,f={overlay:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",zIndex:100,display:"grid",placeItems:"center",padding:"16px"},card:{background:q.surface,color:q.text,borderRadius:"16px",border:`1px solid ${q.borderColor}`,maxWidth:"500px",width:"100%",padding:"24px",boxShadow:q.shadow},header:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"20px"},iconWrapper:{width:"50px",height:"50px",background:`linear-gradient(135deg, ${q.accentViolet}, ${q.accentBlue})`,borderRadius:"50%",display:"grid",placeItems:"center",flexShrink:0},title:{fontSize:"1.4rem",fontWeight:700,margin:"0 0 4px 0"},stepCounter:{fontSize:"0.8rem",color:q.subtext,marginBottom:"8px"},description:{fontSize:"1rem",color:q.subtext,margin:0,lineHeight:1.6},progressBarTrack:{height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",marginBottom:"20px",overflow:"hidden"},progressBarFill:{height:"100%",background:`linear-gradient(90deg, ${q.accentViolet}, ${q.accentBlue})`,transition:"width 0.3s ease"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},skipButton:{background:"transparent",border:"none",color:q.subtext,cursor:"pointer",fontSize:"0.9rem"},nextButton:{background:`linear-gradient(90deg, ${q.accentViolet}, ${q.accentBlue})`,color:q.text,border:"none",padding:"10px 16px",borderRadius:"8px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}};return h.jsx("div",{style:f.overlay,children:h.jsxs("div",{style:f.card,children:[h.jsxs("div",{style:f.header,children:[h.jsx("div",{style:f.iconWrapper,children:h.jsx(c,{size:28,color:"#fff"})}),h.jsxs("div",{children:[h.jsxs("div",{style:f.stepCounter,children:["Pas ",i+1," de ",Wr.length]}),h.jsx("h2",{style:f.title,children:s.title}),h.jsx("p",{style:f.description,children:s.description})]})]}),h.jsx("div",{style:f.progressBarTrack,children:h.jsx("div",{style:{...f.progressBarFill,width:`${(i+1)/Wr.length*100}%`}})}),h.jsxs("div",{style:f.footer,children:[h.jsx("button",{style:f.skipButton,onClick:l,children:"Saltar Tutorial"}),h.jsxs("button",{style:f.nextButton,onClick:r,children:[u?"Comenar a Jugar!":"Segent",!u&&h.jsx(id,{size:18})]})]})]})})}var Yc=function(i,r){return Yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(l[c]=s[c])},Yc(i,r)};function z0(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Yc(i,r);function l(){this.constructor=i}i.prototype=r===null?Object.create(r):(l.prototype=r.prototype,new l)}var Is=function(){return Is=Object.assign||function(r){for(var l,s=1,c=arguments.length;s<c;s++){l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])}return r},Is.apply(this,arguments)};function el(i,r){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&r.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(i);c<s.length;c++)r.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(i,s[c])&&(l[s[c]]=i[s[c]]);return l}function M0(i,r,l,s){var c=arguments.length,u=c<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,l):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,l,s);else for(var p=i.length-1;p>=0;p--)(f=i[p])&&(u=(c<3?f(u):c>3?f(r,l,u):f(r,l))||u);return c>3&&u&&Object.defineProperty(r,l,u),u}function D0(i,r){return function(l,s){r(l,s,i)}}function B0(i,r,l,s,c,u){function f(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var p=s.kind,y=p==="getter"?"get":p==="setter"?"set":"value",g=!r&&i?s.static?i:i.prototype:null,x=r||(g?Object.getOwnPropertyDescriptor(g,s.name):{}),S,T=!1,A=l.length-1;A>=0;A--){var R={};for(var U in s)R[U]=U==="access"?{}:s[U];for(var U in s.access)R.access[U]=s.access[U];R.addInitializer=function(N){if(T)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(N||null))};var _=(0,l[A])(p==="accessor"?{get:x.get,set:x.set}:x[y],R);if(p==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(S=f(_.get))&&(x.get=S),(S=f(_.set))&&(x.set=S),(S=f(_.init))&&c.unshift(S)}else(S=f(_))&&(p==="field"?c.unshift(S):x[y]=S)}g&&Object.defineProperty(g,s.name,x),T=!0}function U0(i,r,l){for(var s=arguments.length>2,c=0;c<r.length;c++)l=s?r[c].call(i,l):r[c].call(i);return s?l:void 0}function N0(i){return typeof i=="symbol"?i:"".concat(i)}function L0(i,r,l){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:l?"".concat(l," ",r):r})}function H0(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function se(i,r,l,s){function c(u){return u instanceof l?u:new l(function(f){f(u)})}return new(l||(l=Promise))(function(u,f){function p(x){try{g(s.next(x))}catch(S){f(S)}}function y(x){try{g(s.throw(x))}catch(S){f(S)}}function g(x){x.done?u(x.value):c(x.value).then(p,y)}g((s=s.apply(i,r||[])).next())})}function $0(i,r){var l={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,c,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(g){return function(x){return y([g,x])}}function y(g){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,g[0]&&(l=0)),l;)try{if(s=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return l.label++,{value:g[1],done:!1};case 5:l.label++,c=g[1],g=[0];continue;case 7:g=l.ops.pop(),l.trys.pop();continue;default:if(u=l.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){l=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){l.label=g[1];break}if(g[0]===6&&l.label<u[1]){l.label=u[1],u=g;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(g);break}u[2]&&l.ops.pop(),l.trys.pop();continue}g=r.call(i,l)}catch(x){g=[6,x],c=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Ws=Object.create?(function(i,r,l,s){s===void 0&&(s=l);var c=Object.getOwnPropertyDescriptor(r,l);(!c||("get"in c?!r.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return r[l]}}),Object.defineProperty(i,s,c)}):(function(i,r,l,s){s===void 0&&(s=l),i[s]=r[l]});function V0(i,r){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(r,l)&&Ws(r,i,l)}function Ps(i){var r=typeof Symbol=="function"&&Symbol.iterator,l=r&&i[r],s=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function fd(i,r){var l=typeof Symbol=="function"&&i[Symbol.iterator];if(!l)return i;var s=l.call(i),c,u=[],f;try{for(;(r===void 0||r-- >0)&&!(c=s.next()).done;)u.push(c.value)}catch(p){f={error:p}}finally{try{c&&!c.done&&(l=s.return)&&l.call(s)}finally{if(f)throw f.error}}return u}function q0(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(fd(arguments[r]));return i}function G0(){for(var i=0,r=0,l=arguments.length;r<l;r++)i+=arguments[r].length;for(var s=Array(i),c=0,r=0;r<l;r++)for(var u=arguments[r],f=0,p=u.length;f<p;f++,c++)s[c]=u[f];return s}function I0(i,r,l){if(l||arguments.length===2)for(var s=0,c=r.length,u;s<c;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return i.concat(u||Array.prototype.slice.call(r))}function Za(i){return this instanceof Za?(this.v=i,this):new Za(i)}function P0(i,r,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(i,r||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(A){return function(R){return Promise.resolve(R).then(A,S)}}function p(A,R){s[A]&&(c[A]=function(U){return new Promise(function(_,N){u.push([A,U,_,N])>1||y(A,U)})},R&&(c[A]=R(c[A])))}function y(A,R){try{g(s[A](R))}catch(U){T(u[0][3],U)}}function g(A){A.value instanceof Za?Promise.resolve(A.value.v).then(x,S):T(u[0][2],A)}function x(A){y("next",A)}function S(A){y("throw",A)}function T(A,R){A(R),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Y0(i){var r,l;return r={},s("next"),s("throw",function(c){throw c}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(c,u){r[c]=i[c]?function(f){return(l=!l)?{value:Za(i[c](f)),done:!1}:u?u(f):f}:u}}function K0(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],l;return r?r.call(i):(i=typeof Ps=="function"?Ps(i):i[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(u){l[u]=i[u]&&function(f){return new Promise(function(p,y){f=i[u](f),c(p,y,f.done,f.value)})}}function c(u,f,p,y){Promise.resolve(y).then(function(g){u({value:g,done:p})},f)}}function J0(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var Yb=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},Kc=function(i){return Kc=Object.getOwnPropertyNames||function(r){var l=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[l.length]=s);return l},Kc(i)};function Q0(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var l=Kc(i),s=0;s<l.length;s++)l[s]!=="default"&&Ws(r,i,l[s]);return Yb(r,i),r}function X0(i){return i&&i.__esModule?i:{default:i}}function W0(i,r,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(i):s?s.value:r.get(i)}function F0(i,r,l,s,c){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!c:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?c.call(i,l):c?c.value=l:r.set(i,l),l}function Z0(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function ey(i,r,l){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,c;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],l&&(c=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");c&&(s=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:s,async:l})}else l&&i.stack.push({async:!0});return r}var Kb=typeof SuppressedError=="function"?SuppressedError:function(i,r,l){var s=new Error(l);return s.name="SuppressedError",s.error=i,s.suppressed=r,s};function ty(i){function r(u){i.error=i.hasError?new Kb(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var l,s=0;function c(){for(;l=i.stack.pop();)try{if(!l.async&&s===1)return s=0,i.stack.push(l),Promise.resolve().then(c);if(l.dispose){var u=l.dispose.call(l.value);if(l.async)return s|=2,Promise.resolve(u).then(c,function(f){return r(f),c()})}else s|=1}catch(f){r(f)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return c()}function ny(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,s,c,u,f){return s?r?".jsx":".js":c&&(!u||!f)?l:c+u+"."+f.toLowerCase()+"js"}):i}const Jb={__extends:z0,__assign:Is,__rest:el,__decorate:M0,__param:D0,__esDecorate:B0,__runInitializers:U0,__propKey:N0,__setFunctionName:L0,__metadata:H0,__awaiter:se,__generator:$0,__createBinding:Ws,__exportStar:V0,__values:Ps,__read:fd,__spread:q0,__spreadArrays:G0,__spreadArray:I0,__await:Za,__asyncGenerator:P0,__asyncDelegator:Y0,__asyncValues:K0,__makeTemplateObject:J0,__importStar:Q0,__importDefault:X0,__classPrivateFieldGet:W0,__classPrivateFieldSet:F0,__classPrivateFieldIn:Z0,__addDisposableResource:ey,__disposeResources:ty,__rewriteRelativeImportExtension:ny},Qb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ey,get __assign(){return Is},__asyncDelegator:Y0,__asyncGenerator:P0,__asyncValues:K0,__await:Za,__awaiter:se,__classPrivateFieldGet:W0,__classPrivateFieldIn:Z0,__classPrivateFieldSet:F0,__createBinding:Ws,__decorate:M0,__disposeResources:ty,__esDecorate:B0,__exportStar:V0,__extends:z0,__generator:$0,__importDefault:X0,__importStar:Q0,__makeTemplateObject:J0,__metadata:H0,__param:D0,__propKey:N0,__read:fd,__rest:el,__rewriteRelativeImportExtension:ny,__runInitializers:U0,__setFunctionName:L0,__spread:q0,__spreadArray:I0,__spreadArrays:G0,__values:Ps,default:Jb},Symbol.toStringTag,{value:"Module"})),Xb=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class hd extends Error{constructor(r,l="FunctionsError",s){super(r),this.name=l,this.context=s}}class Ng extends hd{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Lg extends hd{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Hg extends hd{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Jc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Jc||(Jc={}));class Wb{constructor(r,{headers:l={},customFetch:s,region:c=Jc.Any}={}){this.url=r,this.headers=l,this.region=c,this.fetch=Xb(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return se(this,arguments,void 0,function*(l,s={}){var c;try{const{headers:u,method:f,body:p,signal:y}=s;let g={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${l}`);x&&x!=="any"&&(g["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let T;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(g["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(g["Content-Type"]="application/json",T=JSON.stringify(p)):T=p;const A=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:T,signal:y}).catch(N=>{throw N.name==="AbortError"?N:new Ng(N)}),R=A.headers.get("x-relay-error");if(R&&R==="true")throw new Lg(A);if(!A.ok)throw new Hg(A);let U=((c=A.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),_;return U==="application/json"?_=yield A.json():U==="application/octet-stream"||U==="application/pdf"?_=yield A.blob():U==="text/event-stream"?_=A:U==="multipart/form-data"?_=yield A.formData():_=yield A.text(),{data:_,error:null,response:A}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new Ng(u)}:{data:null,error:u,response:u instanceof Hg||u instanceof Lg?u.context:void 0}}})}}var At={};const tl=Iv(Qb);var ks={},Rs={},Os={},zs={},Ms={},Ds={},$g;function ry(){if($g)return Ds;$g=1,Object.defineProperty(Ds,"__esModule",{value:!0});class i extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Ds.default=i,Ds}var Vg;function ay(){if(Vg)return Ms;Vg=1,Object.defineProperty(Ms,"__esModule",{value:!0});const r=tl.__importDefault(ry());class l{constructor(c){var u,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var g,x,S,T;let A=null,R=null,U=null,_=y.status,N=y.statusText;if(y.ok){if(this.method!=="HEAD"){const ne=await y.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?R=ne:R=JSON.parse(ne))}const Y=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),X=(S=y.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");Y&&X&&X.length>1&&(U=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(A={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,U=null,_=406,N="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const Y=await y.text();try{A=JSON.parse(Y),Array.isArray(A)&&y.status===404&&(R=[],A=null,_=200,N="OK")}catch{y.status===404&&Y===""?(_=204,N="No Content"):A={message:Y}}if(A&&this.isMaybeSingle&&(!((T=A?.details)===null||T===void 0)&&T.includes("0 rows"))&&(A=null,_=200,N="OK"),A&&this.shouldThrowOnError)throw new r.default(A)}return{error:A,data:R,count:U,status:_,statusText:N}});return this.shouldThrowOnError||(p=p.catch(y=>{var g,x,S;return{error:{message:`${(g=y?.name)!==null&&g!==void 0?g:"FetchError"}: ${y?.message}`,details:`${(x=y?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(S=y?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return Ms.default=l,Ms}var qg;function ly(){if(qg)return zs;qg=1,Object.defineProperty(zs,"__esModule",{value:!0});const r=tl.__importDefault(ay());class l extends r.default{select(c){let u=!1;const f=(c??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:f,foreignTable:p,referencedTable:y=p}={}){const g=y?`${y}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${c}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${c}`),this}range(c,u,{foreignTable:f,referencedTable:p=f}={}){const y=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(y,`${c}`),this.url.searchParams.set(g,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:f=!1,buffers:p=!1,wal:y=!1,format:g="text"}={}){var x;const S=[c?"analyze":null,u?"verbose":null,f?"settings":null,p?"buffers":null,y?"wal":null].filter(Boolean).join("|"),T=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${T}"; options=${S};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return zs.default=l,zs}var Gg;function pd(){if(Gg)return Os;Gg=1,Object.defineProperty(Os,"__esModule",{value:!0});const r=tl.__importDefault(ly()),l=new RegExp("[,()]");class s extends r.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}in(u,f){const p=Array.from(new Set(f)).map(y=>typeof y=="string"&&l.test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:p,type:y}={}){let g="";y==="plain"?g="pl":y==="phrase"?g="ph":y==="websearch"&&(g="w");const x=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${g}fts${x}.${f}`),this}match(u){return Object.entries(u).forEach(([f,p])=>{this.url.searchParams.append(f,`eq.${p}`)}),this}not(u,f,p){return this.url.searchParams.append(u,`not.${f}.${p}`),this}or(u,{foreignTable:f,referencedTable:p=f}={}){const y=p?`${p}.or`:"or";return this.url.searchParams.append(y,`(${u})`),this}filter(u,f,p){return this.url.searchParams.append(u,`${f}.${p}`),this}}return Os.default=s,Os}var Ig;function iy(){if(Ig)return Rs;Ig=1,Object.defineProperty(Rs,"__esModule",{value:!0});const r=tl.__importDefault(pd());class l{constructor(c,{headers:u={},schema:f,fetch:p}){this.url=c,this.headers=new Headers(u),this.schema=f,this.fetch=p}select(c,u){const{head:f=!1,count:p}=u??{},y=f?"HEAD":"GET";let g=!1;const x=(c??"*").split("").map(S=>/\s/.test(S)&&!g?"":(S==='"'&&(g=!g),S)).join("");return this.url.searchParams.set("select",x),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:f=!0}={}){var p;const y="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(g.length>0){const x=[...new Set(g)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:f=!1,count:p,defaultToNull:y=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const S=c.reduce((T,A)=>T.concat(Object.keys(A)),[]);if(S.length>0){const T=[...new Set(S)].map(A=>`"${A}"`);this.url.searchParams.set("columns",T.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:u}={}){var f;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var u;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Rs.default=l,Rs}var Pg;function Fb(){if(Pg)return ks;Pg=1,Object.defineProperty(ks,"__esModule",{value:!0});const i=tl,r=i.__importDefault(iy()),l=i.__importDefault(pd());class s{constructor(u,{headers:f={},schema:p,fetch:y}={}){this.url=u,this.headers=new Headers(f),this.schemaName=p,this.fetch=y}from(u){const f=new URL(`${this.url}/${u}`);return new r.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new s(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:p=!1,get:y=!1,count:g}={}){var x;let S;const T=new URL(`${this.url}/rpc/${u}`);let A;p||y?(S=p?"HEAD":"GET",Object.entries(f).filter(([U,_])=>_!==void 0).map(([U,_])=>[U,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([U,_])=>{T.searchParams.append(U,_)})):(S="POST",A=f);const R=new Headers(this.headers);return g&&R.set("Prefer",`count=${g}`),new l.default({method:S,url:T,headers:R,schema:this.schemaName,body:A,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return ks.default=s,ks}var Yg;function Zb(){if(Yg)return At;Yg=1,Object.defineProperty(At,"__esModule",{value:!0}),At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const i=tl,r=i.__importDefault(Fb());At.PostgrestClient=r.default;const l=i.__importDefault(iy());At.PostgrestQueryBuilder=l.default;const s=i.__importDefault(pd());At.PostgrestFilterBuilder=s.default;const c=i.__importDefault(ly());At.PostgrestTransformBuilder=c.default;const u=i.__importDefault(ay());At.PostgrestBuilder=u.default;const f=i.__importDefault(ry());return At.PostgrestError=f.default,At.default={PostgrestClient:r.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:f.default},At}var sy=Zb();const oy=b0(sy),ex=Gv({__proto__:null,default:oy},[sy]),{PostgrestClient:tx,PostgrestQueryBuilder:f2,PostgrestFilterBuilder:h2,PostgrestTransformBuilder:p2,PostgrestBuilder:g2,PostgrestError:y2}=oy||ex;class nx{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const s=l.node,c=parseInt(s.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let l=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(l+=`

Suggested solution: ${r.workaround}`),new Error(l)}static createWebSocket(r,l){const s=this.getWebSocketConstructor();return new s(r,l)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const rx="2.80.0",ax=`realtime-js/${rx}`,lx="1.0.0",Qc=1e4,ix=1e3,sx=100;var ni;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ni||(ni={}));var ft;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ft||(ft={}));var bn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(bn||(bn={}));var Xc;(function(i){i.websocket="websocket"})(Xc||(Xc={}));var Fr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Fr||(Fr={}));class ox{constructor(){this.HEADER_LENGTH=1}decode(r,l){return r.constructor===ArrayBuffer?l(this._binaryDecode(r)):l(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const l=new DataView(r),s=new TextDecoder;return this._decodeBroadcast(r,l,s)}_decodeBroadcast(r,l,s){const c=l.getUint8(1),u=l.getUint8(2);let f=this.HEADER_LENGTH+2;const p=s.decode(r.slice(f,f+c));f=f+c;const y=s.decode(r.slice(f,f+u));f=f+u;const g=JSON.parse(s.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:y,payload:g}}}class uy{constructor(r,l){this.callback=r,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ye||(Ye={}));const Kg=(i,r,l={})=>{var s;const c=(s=l.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((u,f)=>(u[f]=ux(f,i,r,c),u),{}):{}},ux=(i,r,l,s)=>{const c=r.find(p=>p.name===i),u=c?.type,f=l[i];return u&&!s.includes(u)?cy(u,f):Wc(f)},cy=(i,r)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return hx(r,l)}switch(i){case Ye.bool:return cx(r);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return dx(r);case Ye.json:case Ye.jsonb:return fx(r);case Ye.timestamp:return px(r);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return Wc(r);default:return Wc(r)}},Wc=i=>i,cx=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},dx=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},fx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},hx=(i,r)=>{if(typeof i!="string")return i;const l=i.length-1,s=i[l];if(i[0]==="{"&&s==="}"){let u;const f=i.slice(1,l);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>cy(r,p))}return i},px=i=>typeof i=="string"?i.replace(" ","T"):i,dy=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class wc{constructor(r,l,s={},c=Qc){this.channel=r,this.event=l,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,l){var s;return this._hasReceived(r)&&l((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:l}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(l))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Jg;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Jg||(Jg={}));class ri{constructor(r,l){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ri.syncState(this.state,c,u,f),this.pendingDiffs.forEach(y=>{this.state=ri.syncDiff(this.state,y,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},c=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ri.syncDiff(this.state,c,u,f),p())}),this.onJoin((c,u,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:f})}),this.onLeave((c,u,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,l,s,c){const u=this.cloneDeep(r),f=this.transformState(l),p={},y={};return this.map(u,(g,x)=>{f[g]||(y[g]=x)}),this.map(f,(g,x)=>{const S=u[g];if(S){const T=x.map(_=>_.presence_ref),A=S.map(_=>_.presence_ref),R=x.filter(_=>A.indexOf(_.presence_ref)<0),U=S.filter(_=>T.indexOf(_.presence_ref)<0);R.length>0&&(p[g]=R),U.length>0&&(y[g]=U)}else p[g]=x}),this.syncDiff(u,{joins:p,leaves:y},s,c)}static syncDiff(r,l,s,c){const{joins:u,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(u,(p,y)=>{var g;const x=(g=r[p])!==null&&g!==void 0?g:[];if(r[p]=this.cloneDeep(y),x.length>0){const S=r[p].map(A=>A.presence_ref),T=x.filter(A=>S.indexOf(A.presence_ref)<0);r[p].unshift(...T)}s(p,x,y)}),this.map(f,(p,y)=>{let g=r[p];if(!g)return;const x=y.map(S=>S.presence_ref);g=g.filter(S=>x.indexOf(S.presence_ref)<0),r[p]=g,c(p,g,y),g.length===0&&delete r[p]}),r}static map(r,l){return Object.getOwnPropertyNames(r).map(s=>l(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((l,s)=>{const c=r[s];return"metas"in c?l[s]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):l[s]=c,l},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Qg||(Qg={}));var ai;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(ai||(ai={}));var Yn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Yn||(Yn={}));class gd{constructor(r,l={config:{}},s){var c,u;if(this.topic=r,this.params=l,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new wc(this,bn.join,this.params,this.timeout),this.rejoinTimer=new uy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new ri(this),this.broadcastEndpointURL=dy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,l=this.timeout){var s,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:f,presence:p,private:y}}=this.params,g=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(A=>A.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[ai.PRESENCE]&&this.bindings[ai.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,S={},T={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(A=>r?.(Yn.CHANNEL_ERROR,A)),this._onClose(()=>r?.(Yn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},S)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:A})=>{var R;if(this.socket.setAuth(),A===void 0){r?.(Yn.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,_=(R=U?.length)!==null&&R!==void 0?R:0,N=[];for(let O=0;O<_;O++){const Y=U[O],{filter:{event:X,schema:ne,table:Z,filter:H}}=Y,ye=A&&A[O];if(ye&&ye.event===X&&ye.schema===ne&&ye.table===Z&&ye.filter===H)N.push(Object.assign(Object.assign({},Y),{id:ye.id}));else{this.unsubscribe(),this.state=ft.errored,r?.(Yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,r&&r(Yn.SUBSCRIBED);return}}).receive("error",A=>{this.state=ft.errored,r?.(Yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{r?.(Yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,l={}){return await this.send({type:"presence",event:"track",payload:r},l.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,l,s){return this.state===ft.joined&&r===ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,l,s)}async httpSend(r,l,s={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:l,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const g=await p.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(r,l={}){var s,c;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=r,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=l.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,y;const g=this._push(r.type,r,l.timeout||this.timeout);r.type==="broadcast"&&!(!((y=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ft.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new wc(this,bn.leave,{},r),s.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(r,l,s){const c=new AbortController,u=setTimeout(()=>c.abort(),s),f=await this.socket.fetch(r,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(u),f}_push(r,l,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new wc(this,r,l,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>sx){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(r,l,s){return l}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,l,s){var c,u;const f=r.toLocaleLowerCase(),{close:p,error:y,leave:g,join:x}=bn;if(s&&[p,y,g,x].indexOf(f)>=0&&s!==this._joinRef())return;let T=this._onMessage(f,l,s);if(l&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var R,U,_;return((R=A.filter)===null||R===void 0?void 0:R.event)==="*"||((_=(U=A.filter)===null||U===void 0?void 0:U.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===f}).map(A=>A.callback(T,s)):(u=this.bindings[f])===null||u===void 0||u.filter(A=>{var R,U,_,N,O,Y;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const X=A.id,ne=(R=A.filter)===null||R===void 0?void 0:R.event;return X&&((U=l.ids)===null||U===void 0?void 0:U.includes(X))&&(ne==="*"||ne?.toLocaleLowerCase()===((_=l.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const X=(O=(N=A?.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return X==="*"||X===((Y=l?.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof T=="object"&&"ids"in T){const R=T.data,{schema:U,table:_,commit_timestamp:N,type:O,errors:Y}=R;T=Object.assign(Object.assign({},{schema:U,table:_,commit_timestamp:N,eventType:O,new:{},old:{},errors:Y}),this._getPayloadRecords(R))}A.callback(T,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,l,s){const c=r.toLocaleLowerCase(),u={type:c,filter:l,callback:s};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(r,l){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&gd.isEqual(c.filter,l))})),this}static isEqual(r,l){if(Object.keys(r).length!==Object.keys(l).length)return!1;for(const s in r)if(r[s]!==l[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(bn.close,{},r)}_onError(r){this._on(bn.error,{},l=>r(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const l={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(l.new=Kg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(l.old=Kg(r.columns,r.old_record)),l}}const _c=()=>{},Bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gx=[1e3,2e3,5e3,1e4],yx=1e4,mx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vx{constructor(r,l){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qc,this.transport=null,this.heartbeatIntervalMs=Bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new ox,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((s=l?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${r}/${Xc.websocket}`,this.httpEndpoint=dy(r),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nx.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const l=r.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lx}))}disconnect(r,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},r?this.conn.close(r,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const l=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const r=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,l,s){this.logger(r,l,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return Fr.Connecting;case ni.open:return Fr.Open;case ni.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,l={config:{}}){const s=`realtime:${r}`,c=this.getChannels().find(u=>u.topic===s);if(c)return c;{const u=new gd(`realtime:${r}`,l,this);return this.channels.push(u),u}}push(r){const{topic:l,event:s,payload:c,ref:u}=r,f=()=>{this.encode(r,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${l} ${s} (${u})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(ix,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let l=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${r}"`),l.unsubscribe())}_remove(r){this.channels=this.channels.filter(l=>l.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:c,payload:u,ref:f}=l,p=f?`(${f})`:"",y=u.status||"";this.log("receive",`${y} ${s} ${c} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(c,u,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(r){var l;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var l;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(bn.error))}_appendParams(r,l){if(Object.keys(l).length===0)return r;const s=r.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${r}${s}${c}`}_workerObjectUrl(r){let l;if(r)l=r;else{const s=new Blob([mx],{type:"application/javascript"});l=URL.createObjectURL(s)}return l}_setConnectionState(r,l=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(r=null){let l;r?l=r:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(s=>{const c={access_token:l,version:ax};l&&s.updateJoinPayload(c),s.joinedOnce&&s._isJoined()&&s._push(bn.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${r}`,l)})}_triggerStateCallbacks(r,l){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(l)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new uy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var l,s,c,u,f,p,y,g,x;if(this.transport=(l=r?.transport)!==null&&l!==void 0?l:null,this.timeout=(s=r?.timeout)!==null&&s!==void 0?s:Qc,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:Bs.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:_c,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:(S=>gx[S-1]||yx),this.encode=(g=r?.encode)!==null&&g!==void 0?g:((S,T)=>T(JSON.stringify(S))),this.decode=(x=r?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class yd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function We(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class bx extends yd{constructor(r,l,s){super(r),this.name="StorageApiError",this.status=l,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fc extends yd{constructor(r,l){super(r),this.name="StorageUnknownError",this.originalError=l}}const md=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),xx=()=>Response,Zc=i=>{if(Array.isArray(i))return i.map(l=>Zc(l));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([l,s])=>{const c=l.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[c]=Zc(s)}),r},Sx=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Cc=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},wx=(i,r,l)=>se(void 0,void 0,void 0,function*(){const s=yield xx();i instanceof s&&!l?.noResolveJson?i.json().then(c=>{const u=i.status||500,f=c?.statusCode||u+"";r(new bx(Cc(c),u,f))}).catch(c=>{r(new Fc(Cc(c),c))}):r(new Fc(Cc(i),i))}),_x=(i,r,l,s)=>{const c={method:i,headers:r?.headers||{}};return i==="GET"||!s?c:(Sx(s)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(s)):c.body=s,r?.duplex&&(c.duplex=r.duplex),Object.assign(Object.assign({},c),l))};function ci(i,r,l,s,c,u){return se(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(l,_x(r,s,c,u)).then(y=>{if(!y.ok)throw y;return s?.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>wx(y,p,s))})})}function ii(i,r,l,s){return se(this,void 0,void 0,function*(){return ci(i,"GET",r,l,s)})}function vn(i,r,l,s,c){return se(this,void 0,void 0,function*(){return ci(i,"POST",r,s,c,l)})}function ed(i,r,l,s,c){return se(this,void 0,void 0,function*(){return ci(i,"PUT",r,s,c,l)})}function Cx(i,r,l,s){return se(this,void 0,void 0,function*(){return ci(i,"HEAD",r,Object.assign(Object.assign({},l),{noResolveJson:!0}),s)})}function vd(i,r,l,s,c){return se(this,void 0,void 0,function*(){return ci(i,"DELETE",r,s,c,l)})}class Ax{constructor(r,l){this.downloadFn=r,this.shouldThrowOnError=l}then(r,l){return this.execute().then(r,l)}execute(){return se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}}var fy;class Ex{constructor(r,l){this.downloadFn=r,this.shouldThrowOnError=l,this[fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ax(this.downloadFn,this.shouldThrowOnError)}then(r,l){return this.getPromise().then(r,l)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}}fy=Symbol.toStringTag;const jx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tx{constructor(r,l={},s,c){this.shouldThrowOnError=!1,this.url=r,this.headers=l,this.bucketId=s,this.fetch=md(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,l,s,c){return se(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},Xg),c);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),y&&u.append("metadata",this.encodeMetadata(y)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),y&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(y))):(u=s,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,y&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(y))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),c?.headers&&(p=Object.assign(Object.assign({},p),c.headers));const g=this._removeEmptyFolders(l),x=this._getFinalPath(g),S=yield(r=="PUT"?ed:vn)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:S.Id,fullPath:S.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}upload(r,l,s){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,l,s)})}uploadToSignedUrl(r,l,s,c){return se(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",l);try{let y;const g=Object.assign({upsert:Xg.upsert},c),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",g.cacheControl)):(y=s,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const S=yield ed(this.fetch,p.toString(),y,{headers:x});return{data:{path:u,fullPath:S.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(We(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(r,l){return se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const c=Object.assign({},this.headers);l?.upsert&&(c["x-upsert"]="true");const u=yield vn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:c}),f=new URL(this.url+u.url),p=f.searchParams.get("token");if(!p)throw new yd("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}update(r,l,s){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,l,s)})}move(r,l,s){return se(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}copy(r,l,s){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}createSignedUrl(r,l,s){return se(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),u=yield vn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:l},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}createSignedUrls(r,l,s){return se(this,void 0,void 0,function*(){try{const c=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:r},{headers:this.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}download(r,l){const c=typeof l?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(l?.transform||{}),f=u?`?${u}`:"",p=this._getFinalPath(r),y=()=>ii(this.fetch,`${this.url}/${c}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Ex(y,this.shouldThrowOnError)}info(r){return se(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{const s=yield ii(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:Zc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}exists(r){return se(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{return yield Cx(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s)&&s instanceof Fc){const c=s.originalError;if([400,404].includes(c?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,l){const s=this._getFinalPath(r),c=[],u=l?.download?`download=${l.download===!0?"":l.download}`:"";u!==""&&c.push(u);const p=typeof l?.transform<"u"?"render/image":"object",y=this.transformOptsToQueryString(l?.transform||{});y!==""&&c.push(y);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${g}`)}}}remove(r){return se(this,void 0,void 0,function*(){try{return{data:yield vd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}list(r,l,s){return se(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},jx),l),{prefix:r||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},s),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}listV2(r,l){return se(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},l),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const l=[];return r.width&&l.push(`width=${r.width}`),r.height&&l.push(`height=${r.height}`),r.resize&&l.push(`resize=${r.resize}`),r.format&&l.push(`format=${r.format}`),r.quality&&l.push(`quality=${r.quality}`),l.join("&")}}const hy="2.80.0",py={"X-Client-Info":`storage-js/${hy}`};class kx{constructor(r,l={},s,c){this.shouldThrowOnError=!1;const u=new URL(r);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),l),this.fetch=md(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return se(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(r);return{data:yield ii(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}getBucket(r){return se(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}createBucket(r){return se(this,arguments,void 0,function*(l,s={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}updateBucket(r,l){return se(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}emptyBucket(r){return se(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}deleteBucket(r){return se(this,void 0,void 0,function*(){try{return{data:yield vd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(r){const l={};return r&&("limit"in r&&(l.limit=String(r.limit)),"offset"in r&&(l.offset=String(r.offset)),r.search&&(l.search=r.search),r.sortColumn&&(l.sortColumn=r.sortColumn),r.sortOrder&&(l.sortOrder=r.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}class Rx{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),l),this.fetch=md(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return se(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}listBuckets(r){return se(this,void 0,void 0,function*(){try{const l=new URLSearchParams;r?.limit!==void 0&&l.set("limit",r.limit.toString()),r?.offset!==void 0&&l.set("offset",r.offset.toString()),r?.sortColumn&&l.set("sortColumn",r.sortColumn),r?.sortOrder&&l.set("sortOrder",r.sortOrder),r?.search&&l.set("search",r.search);const s=l.toString(),c=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield ii(this.fetch,c,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}deleteBucket(r){return se(this,void 0,void 0,function*(){try{return{data:yield vd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}}const bd={"X-Client-Info":`storage-js/${hy}`,"Content-Type":"application/json"};class gy extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Ac extends gy{constructor(r,l,s){super(r),this.name="StorageVectorsApiError",this.status=l,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ox extends gy{constructor(r,l){super(r),this.name="StorageVectorsUnknownError",this.originalError=l}}var Wg;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Wg||(Wg={}));const xd=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),zx=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Fg=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Mx=(i,r,l)=>se(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const c=i.status||500,u=i;if(typeof u.json=="function")u.json().then(f=>{const p=f?.statusCode||f?.code||c+"";r(new Ac(Fg(f),c,p))}).catch(()=>{const f=c+"",p=u.statusText||`HTTP ${c} error`;r(new Ac(p,c,f))});else{const f=c+"",p=u.statusText||`HTTP ${c} error`;r(new Ac(p,c,f))}}else r(new Ox(Fg(i),i))}),Dx=(i,r,l,s)=>{const c={method:i,headers:r?.headers||{}};return s?(zx(s)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(s)):c.body=s,Object.assign(Object.assign({},c),l)):c};function Bx(i,r,l,s,c,u){return se(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(l,Dx(r,s,c,u)).then(y=>{if(!y.ok)throw y;if(s?.noResolveJson)return y;const g=y.headers.get("content-type");return!g||!g.includes("application/json")?{}:y.json()}).then(y=>f(y)).catch(y=>Mx(y,p,s))})})}function It(i,r,l,s,c){return se(this,void 0,void 0,function*(){return Bx(i,"POST",r,s,c,l)})}class Ux{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),l),this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return se(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}getIndex(r,l){return se(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:l},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}listIndexes(r){return se(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}deleteIndex(r,l){return se(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:l},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}}class Nx{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),l),this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return se(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}getVectors(r){return se(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}listVectors(r){return se(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}queryVectors(r){return se(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}deleteVectors(r){return se(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}}class Lx{constructor(r,l={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),l),this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return se(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}getBucket(r){return se(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}listBuckets(){return se(this,arguments,void 0,function*(r={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}deleteBucket(r){return se(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}}class Hx extends Lx{constructor(r,l={}){super(r,l.headers||{},l.fetch)}from(r){return new $x(this.url,this.headers,r,this.fetch)}}class $x extends Ux{constructor(r,l,s,c){super(r,l,c),this.vectorBucketName=s}createIndex(r){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return se(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return se(this,arguments,void 0,function*(l={}){return r.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return se(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return se(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Vx(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Vx extends Nx{constructor(r,l,s,c,u){super(r,l,u),this.vectorBucketName=s,this.indexName=c}putVectors(r){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return se(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return se(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return se(this,arguments,void 0,function*(l={}){return r.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return se(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return se(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qx extends kx{constructor(r,l={},s,c){super(r,l,s,c)}from(r){return new Tx(this.url,this.headers,r,this.fetch)}get vectors(){return new Hx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rx(this.url+"/iceberg",this.headers,this.fetch)}}const Gx="2.80.0";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const Ix={"X-Client-Info":`supabase-js-${ei}/${Gx}`},Px={headers:Ix},Yx={schema:"public"},Kx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jx={},Qx=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Xx=()=>Headers,Wx=(i,r,l)=>{const s=Qx(l),c=Xx();return async(u,f)=>{var p;const y=(p=await r())!==null&&p!==void 0?p:i;let g=new c(f?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),s(u,Object.assign(Object.assign({},f),{headers:g}))}};function Fx(i){return i.endsWith("/")?i:i+"/"}function Zx(i,r){var l,s;const{db:c,auth:u,realtime:f,global:p}=i,{db:y,auth:g,realtime:x,global:S}=r,T={db:Object.assign(Object.assign({},y),c),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},S),p),{headers:Object.assign(Object.assign({},(l=S?.headers)!==null&&l!==void 0?l:{}),(s=p?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return i.accessToken?T.accessToken=i.accessToken:delete T.accessToken,T}function eS(i){const r=i?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fx(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yy="2.80.0",Ka=30*1e3,td=3,Ec=td*Ka,tS="http://localhost:9999",nS="supabase.auth.token",rS={"X-Client-Info":`gotrue-js/${yy}`},nd="X-Supabase-Api-Version",my={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lS=600*1e3;class si extends Error{constructor(r,l,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=s}}function ue(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class iS extends si{constructor(r,l,s){super(r,l,s),this.name="AuthApiError",this.status=l,this.code=s}}function sS(i){return ue(i)&&i.name==="AuthApiError"}class Zr extends si{constructor(r,l){super(r),this.name="AuthUnknownError",this.originalError=l}}class Ar extends si{constructor(r,l,s,c){super(r,s,c),this.name=l,this.status=s}}class yn extends Ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oS(i){return ue(i)&&i.name==="AuthSessionMissingError"}class Va extends Ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends Ar{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends Ar{constructor(r,l=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uS(i){return ue(i)&&i.name==="AuthImplicitGrantRedirectError"}class Zg extends Ar{constructor(r,l=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rd extends Ar{constructor(r,l){super(r,"AuthRetryableFetchError",l,void 0)}}function jc(i){return ue(i)&&i.name==="AuthRetryableFetchError"}class e0 extends Ar{constructor(r,l,s){super(r,"AuthWeakPasswordError",l,"weak_password"),this.reasons=s}}class ad extends Ar{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t0=` 	
\r=`.split(""),cS=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<t0.length;r+=1)i[t0[r].charCodeAt(0)]=-2;for(let r=0;r<Ys.length;r+=1)i[Ys[r].charCodeAt(0)]=r;return i})();function n0(i,r,l){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;l(Ys[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;l(Ys[s]),r.queuedBits-=6}}function vy(i,r,l){const s=cS[i];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)l(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function r0(i){const r=[],l=f=>{r.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=f=>{hS(f,s,l)};for(let f=0;f<i.length;f+=1)vy(i.charCodeAt(f),c,u);return r.join("")}function dS(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function fS(i,r){for(let l=0;l<i.length;l+=1){let s=i.charCodeAt(l);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(i.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}dS(s,r)}}function hS(i,r,l){if(r.utf8seq===0){if(i<=127){l(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&l(r.codepoint)}}function Qa(i){const r=[],l={queue:0,queuedBits:0},s=c=>{r.push(c)};for(let c=0;c<i.length;c+=1)vy(i.charCodeAt(c),l,s);return new Uint8Array(r)}function pS(i){const r=[];return fS(i,l=>r.push(l)),new Uint8Array(r)}function ea(i){const r=[],l={queue:0,queuedBits:0},s=c=>{r.push(c)};return i.forEach(c=>n0(c,l,s)),n0(null,l,s),r.join("")}function gS(i){return Math.round(Date.now()/1e3)+i}function yS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const r=Math.random()*16|0;return(i=="x"?r:r&3|8).toString(16)})}const Et=()=>typeof window<"u"&&typeof document<"u",Yr={tested:!1,writable:!1},by=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yr.tested)return Yr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Yr.tested=!0,Yr.writable=!0}catch{Yr.tested=!0,Yr.writable=!1}return Yr.writable};function mS(i){const r={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,u)=>{r[u]=c})}catch{}return l.searchParams.forEach((s,c)=>{r[c]=s}),r}const xy=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),vS=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ja=async(i,r,l)=>{await i.setItem(r,JSON.stringify(l))},Kr=async(i,r)=>{const l=await i.getItem(r);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Sr=async(i,r)=>{await i.removeItem(r)};class Fs{constructor(){this.promise=new Fs.promiseConstructor((r,l)=>{this.resolve=r,this.reject=l})}}Fs.promiseConstructor=Promise;function Tc(i){const r=i.split(".");if(r.length!==3)throw new ad("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!aS.test(r[s]))throw new ad("JWT not in base64url format");return{header:JSON.parse(r0(r[0])),payload:JSON.parse(r0(r[1])),signature:Qa(r[2]),raw:{header:r[0],payload:r[1]}}}async function bS(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function xS(i,r){return new Promise((s,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await i(u);if(!r(u,null,f)){s(f);return}}catch(f){if(!r(u,f)){c(f);return}}})()})}function SS(i){return("0"+i.toString(16)).substr(-2)}function wS(){const r=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=l.length;let c="";for(let u=0;u<56;u++)c+=l.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(r),Array.from(r,SS).join("")}async function _S(i){const l=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(s);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function CS(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await _S(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qa(i,r,l=!1){const s=wS();let c=s;l&&(c+="/PASSWORD_RECOVERY"),await Ja(i,`${r}-code-verifier`,c);const u=await CS(s);return[u,s===u?"plain":"s256"]}const AS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ES(i){const r=i.headers.get(nd);if(!r||!r.match(AS))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function jS(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function TS(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ga(i){if(!kS.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kc(){const i={};return new Proxy(i,{get:(r,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const s=l.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RS(i,r){return new Proxy(i,{get:(l,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,s,c)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(l,s,c)}})}function a0(i){return JSON.parse(JSON.stringify(i))}const Xr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),OS=[502,503,504];async function l0(i){var r;if(!vS(i))throw new rd(Xr(i),0);if(OS.includes(i.status))throw new rd(Xr(i),i.status);let l;try{l=await i.json()}catch(u){throw new Zr(Xr(u),u)}let s;const c=ES(i);if(c&&c.getTime()>=my["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?s=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(s=l.error_code),s){if(s==="weak_password")throw new e0(Xr(l),i.status,((r=l.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new yn}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new e0(Xr(l),i.status,l.weak_password.reasons);throw new iS(Xr(l),i.status||500,s)}const zS=(i,r,l,s)=>{const c={method:i,headers:r?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),l))};async function ge(i,r,l,s){var c;const u=Object.assign({},s?.headers);u[nd]||(u[nd]=my["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const f=(c=s?.query)!==null&&c!==void 0?c:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await MS(i,r,l+p,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(y):{data:Object.assign({},y),error:null}}async function MS(i,r,l,s,c,u){const f=zS(r,s,c,u);let p;try{p=await i(l,Object.assign({},f))}catch(y){throw console.error(y),new rd(Xr(y),0)}if(p.ok||await l0(p),s?.noResolveJson)return p;try{return await p.json()}catch(y){await l0(y)}}function mn(i){var r;let l=null;US(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=gS(i.expires_in)));const s=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:l,user:s},error:null}}function i0(i){const r=mn(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0)&&(r.data.weak_password=i.weak_password),r}function _r(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function DS(i){return{data:i,error:null}}function BS(i){const{action_link:r,email_otp:l,hashed_token:s,redirect_to:c,verification_type:u}=i,f=el(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:l,hashed_token:s,redirect_to:c,verification_type:u},y=Object.assign({},f);return{data:{properties:p,user:y},error:null}}function s0(i){return i}function US(i){return i.access_token&&i.refresh_token&&i.expires_in}const Rc=["global","local","others"];class NS{constructor({url:r="",headers:l={},fetch:s}){this.url=r,this.headers=l,this.fetch=xy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,l=Rc[0]){if(Rc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,l={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:_r})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:l}=r,s=el(r,["options"]),c=Object.assign(Object.assign({},s),l);return"newEmail"in s&&(c.new_email=s?.newEmail,delete c.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:BS,redirectTo:l?.redirectTo})}catch(l){if(ue(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:_r})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async listUsers(r){var l,s,c,u,f,p,y;try{const g={nextPage:null,lastPage:0,total:0},x=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(u=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:s0});if(x.error)throw x.error;const S=await x.json(),T=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(y=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(R=>{const U=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(R.split(";")[1].split("=")[1]);g[`${_}Page`]=U}),g.total=parseInt(T)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(ue(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){Ga(r);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:_r})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async updateUserById(r,l){Ga(r);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:l,headers:this.headers,xform:_r})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,l=!1){Ga(r);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:l},xform:_r})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){Ga(r.userId);try{const{data:l,error:s}=await ge(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:s}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _deleteFactor(r){Ga(r.userId),Ga(r.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _listOAuthClients(r){var l,s,c,u,f,p,y;try{const g={nextPage:null,lastPage:0,total:0},x=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(u=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:s0});if(x.error)throw x.error;const S=await x.json(),T=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(y=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(R=>{const U=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(R.split(";")[1].split("=")[1]);g[`${_}Page`]=U}),g.total=parseInt(T)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(ue(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _getOAuthClient(r){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _updateOAuthClient(r,l){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:l,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}}function o0(i={}){return{getItem:r=>i[r]||null,setItem:(r,l)=>{i[r]=l},removeItem:r=>{delete i[r]}}}const Ia={debug:!!(globalThis&&by()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sy extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class LS extends Sy{}async function HS(i,r,l){Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await l()}finally{Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(r===0)throw Ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new LS(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ia.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function $S(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wy(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function VS(i){return parseInt(i,16)}function qS(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function GS(i){var r;const{chainId:l,domain:s,expirationTime:c,issuedAt:u=new Date,nonce:f,notBefore:p,requestId:y,resources:g,scheme:x,uri:S,version:T}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const A=wy(i.address),R=x?`${x}://${s}`:s,U=i.statement?`${i.statement}
`:"",_=`${R} wants you to sign in with your Ethereum account:
${A}

${U}`;let N=`URI: ${S}
Version: ${T}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(c&&(N+=`
Expiration Time: ${c.toISOString()}`),p&&(N+=`
Not Before: ${p.toISOString()}`),y&&(N+=`
Request ID: ${y}`),g){let O=`
Resources:`;for(const Y of g){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);O+=`
- ${Y}`}N+=O}return`${_}
${N}`}class ut extends Error{constructor({message:r,code:l,cause:s,name:c}){var u;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=c??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=l}}class Ks extends ut{constructor(r,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:r}),this.name="WebAuthnUnknownError",this.originalError=l}}function IS({error:i,options:r}){var l,s,c;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ut({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(_y(f)){if(u.rp.id!==f)return new ut({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function PS({error:i,options:r}){const{publicKey:l}=r;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ut({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(_y(s)){if(l.rpId!==s)return new ut({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class YS{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const KS=new YS;function JS(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:l,excludeCredentials:s}=i,c=el(i,["challenge","user","excludeCredentials"]),u=Qa(r).buffer,f=Object.assign(Object.assign({},l),{id:Qa(l.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:u,user:f});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let y=0;y<s.length;y++){const g=s[y];p.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:Qa(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function QS(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:l}=i,s=el(i,["challenge","allowCredentials"]),c=Qa(r).buffer,u=Object.assign(Object.assign({},s),{challenge:c});if(l&&l.length>0){u.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const p=l[f];u.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Qa(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function XS(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:ea(new Uint8Array(i.response.attestationObject)),clientDataJSON:ea(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=l.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function WS(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,s=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ea(new Uint8Array(c.authenticatorData)),clientDataJSON:ea(new Uint8Array(c.clientDataJSON)),signature:ea(new Uint8Array(c.signature)),userHandle:c.userHandle?ea(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=l.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function _y(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function u0(){var i,r;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function FS(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ks("Browser returned unexpected credential type",r)}:{data:null,error:new Ks("Empty credential response",r)}}catch(r){return{data:null,error:IS({error:r,options:i})}}}async function ZS(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ks("Browser returned unexpected credential type",r)}:{data:null,error:new Ks("Empty credential response",r)}}catch(r){return{data:null,error:PS({error:r,options:i})}}}const ew={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tw={userVerification:"preferred",hints:["security-key"]};function Js(...i){const r=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of i)if(c)for(const u in c){const f=c[u];if(f!==void 0)if(Array.isArray(f))s[u]=f;else if(l(f))s[u]=f;else if(r(f)){const p=s[u];r(p)?s[u]=Js(p,f):s[u]=Js(f)}else s[u]=f}return s}function nw(i,r){return Js(ew,i,r||{})}function rw(i,r){return Js(tw,i,r||{})}class aw{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:l,friendlyName:s,signal:c},u){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:l});if(!f)return{data:null,error:p};const y=c??KS.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=nw(f.webauthn.credential_options.publicKey,u?.create),{data:x,error:S}=await FS({publicKey:g,signal:y});return x?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}case"request":{const g=rw(f.webauthn.credential_options.publicKey,u?.request),{data:x,error:S}=await ZS(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:y}));return x?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}}}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Zr("Unexpected error in challenge",f)}}}async _verify({challengeId:r,factorId:l,webauthn:s}){return this.client.mfa.verify({factorId:l,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}},u){if(!l)return{data:null,error:new si("rpId is required for WebAuthn authentication")};try{if(!u0())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:r,webauthn:{rpId:l,rpOrigins:s},signal:c},{request:u});if(!f)return{data:null,error:p};const{webauthn:y}=f;return this._verify({factorId:r,challengeId:f.challengeId,webauthn:{type:y.type,rpId:l,rpOrigins:s,credential_response:y.credential_response}})}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Zr("Unexpected error in authenticate",f)}}}async _register({friendlyName:r,rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c},u){if(!l)return{data:null,error:new si("rpId is required for WebAuthn registration")};try{if(!u0())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:r});if(!f)return await this.client.mfa.listFactors().then(x=>{var S;return(S=x.data)===null||S===void 0?void 0:S.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===r&&T.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:p};const{data:y,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:s},signal:c},{create:u});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:l,rpOrigins:s,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Zr("Unexpected error in register",f)}}}}$S();const lw={url:tS,storageKey:nS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function c0(i,r,l){return await l()}const Pa={};class oi{get jwks(){var r,l;return(l=(r=Pa[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(r){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,l;return(l=(r=Pa[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:r})}constructor(r){var l,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},lw),r);if(this.storageKey=u.storageKey,this.instanceID=(l=oi.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,oi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Et()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new NS({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=xy(u.fetch),this.lock=u.lock||c0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Et()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=HS:this.lock=c0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:by()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=o0(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yy}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let l={},s="none";if(Et()&&(l=mS(window.location.href),this._isImplicitGrantCallback(l)?s="implicit":await this._isPKCECallback(l)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:u}=await this._getSessionFromURL(l,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),uS(u)){const y=(r=u.details)===null||r===void 0?void 0:r.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ue(l)?this._returnResult({error:l}):this._returnResult({error:new Zr("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var l,s,c;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(l=r?.options)===null||l===void 0?void 0:l.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:mn}),{data:f,error:p}=u;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var l,s,c;try{let u;if("email"in r){const{email:x,password:S,options:T}=r;let A=null,R=null;this.flowType==="pkce"&&([A,R]=await qa(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:x,password:S,data:(l=T?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:A,code_challenge_method:R},xform:mn})}else if("phone"in r){const{phone:x,password:S,options:T}=r;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:S,data:(s=T?.data)!==null&&s!==void 0?s:{},channel:(c=T?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:mn})}else throw new Us("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let l;if("email"in r){const{email:u,password:f,options:p}=r;l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:i0})}else if("phone"in r){const{phone:u,password:f,options:p}=r;l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:i0})}else throw new Us("You must provide either an email or phone number and a password");const{data:s,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const u=new Va;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(r){var l,s,c,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(l=r.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:l}=r;switch(l){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(r){var l,s,c,u,f,p,y,g,x,S,T;let A,R;if("message"in r)A=r.message,R=r.signature;else{const{chain:U,wallet:_,statement:N,options:O}=r;let Y;if(Et())if(typeof _=="object")Y=_;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")Y=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=_}const X=new URL((l=O?.url)!==null&&l!==void 0?l:window.location.href),ne=await Y.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=wy(ne[0]);let H=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!H){const pe=await Y.request({method:"eth_chainId"});H=VS(pe)}const ye={domain:X.host,address:Z,statement:N,uri:X.href,version:"1",chainId:H,nonce:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=O?.signInWithEthereum)===null||x===void 0?void 0:x.resources};A=GS(ye),R=await Y.request({method:"personal_sign",params:[qS(A),Z]})}try{const{data:U,error:_}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:R},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:mn});if(_)throw _;if(!U||!U.session||!U.user){const N=new Va;return this._returnResult({data:{user:null,session:null},error:N})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:_})}catch(U){if(ue(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(r){var l,s,c,u,f,p,y,g,x,S,T,A;let R,U;if("message"in r)R=r.message,U=r.signature;else{const{chain:_,wallet:N,statement:O,options:Y}=r;let X;if(Et())if(typeof N=="object")X=N;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))X=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=N}const ne=new URL((l=Y?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in X&&X.signIn){const Z=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),O?{statement:O}:null));let H;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")H=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)H=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)R=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),U=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${ne.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(c=(s=Y?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=Y?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((f=Y?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((p=Y?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((y=Y?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((g=Y?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((S=(x=Y?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||S===void 0)&&S.length?["Resources",...Y.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const Z=await X.signMessage(new TextEncoder().encode(R),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=Z}}try{const{data:_,error:N}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:ea(U)},!((T=r.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=r.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:mn});if(N)throw N;if(!_||!_.session||!_.user){const O=new Va;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(r){const l=await Kr(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(l??"").split("/");try{const{data:u,error:f}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:mn});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const p=new Va;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:f})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:l,provider:s,token:c,access_token:u,nonce:f}=r,p=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:mn}),{data:y,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const x=new Va;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(r){var l,s,c,u,f;try{if("email"in r){const{email:p,options:y}=r;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await qa(this.storage,this.storageKey));const{error:S}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(s=y?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in r){const{phone:p,options:y}=r,{data:g,error:x}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:x})}throw new Us("You must provide either an email or phone number.")}catch(p){if(ue(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var l,s;try{let c,u;"options"in r&&(c=(l=r.options)===null||l===void 0?void 0:l.redirectTo,u=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:p}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:mn});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,g=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(r){var l,s,c;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await qa(this.storage,this.storageKey));const p=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(l=r.options)===null||l===void 0?void 0:l.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:DS});return this._returnResult(p)}catch(u){if(ue(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:l},error:s}=r;if(s)throw s;if(!l)throw new yn;const{error:c}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const l=`${this.url}/resend`;if("email"in r){const{email:s,type:c,options:u}=r,{error:f}=await ge(this.fetch,"POST",l,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in r){const{phone:s,type:c,options:u}=r,{data:f,error:p}=await ge(this.fetch,"POST",l,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Us("You must provide either an email or phone number and a type")}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(r,l){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=l();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await r(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const l=await Kr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?r=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const f=await Kr(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=kc()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};r.user=RS(r.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:_r}):await this._useSession(async l=>{var s,c,u;const{data:f,error:p}=l;if(p)throw p;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:_r})})}catch(l){if(ue(l))return oS(l)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(r,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,l))}async _updateUser(r,l={}){try{return await this._useSession(async s=>{const{data:c,error:u}=s;if(u)throw u;if(!c.session)throw new yn;const f=c.session;let p=null,y=null;this.flowType==="pkce"&&r.email!=null&&([p,y]=await qa(this.storage,this.storageKey));const{data:g,error:x}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:y}),jwt:f.access_token,xform:_r});if(x)throw x;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(ue(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new yn;const l=Date.now()/1e3;let s=l,c=!0,u=null;const{payload:f}=Tc(r.access_token);if(f.exp&&(s=f.exp,c=s<=l),c){const{data:p,error:y}=await this._callRefreshToken(r.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:y}=await this._getUser(r.access_token);if(y)throw y;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:s-l,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(l){if(ue(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async l=>{var s;if(!r){const{data:f,error:p}=l;if(p)throw p;r=(s=f.session)!==null&&s!==void 0?s:void 0}if(!r?.refresh_token)throw new yn;const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(r,l){try{if(!Et())throw new Ns("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ns(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Zg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ns("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Zg("No code detected.");const{data:O,error:Y}=await this._exchangeCodeForSession(r.code);if(Y)throw Y;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:u,refresh_token:f,expires_in:p,expires_at:y,token_type:g}=r;if(!u||!p||!f||!g)throw new Ns("No session defined in URL");const x=Math.round(Date.now()/1e3),S=parseInt(p);let T=x+S;y&&(T=parseInt(y));const A=T-x;A*1e3<=Ka&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${S}s`);const R=T-S;x-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,T,x):x-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,T,x);const{data:U,error:_}=await this._getUser(u);if(_)throw _;const N={provider_token:s,provider_refresh_token:c,access_token:u,expires_in:S,expires_at:T,refresh_token:f,token_type:g,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:r.type},error:null})}catch(s){if(ue(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const l=await Kr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&l)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async l=>{var s;const{data:c,error:u}=l;if(u)return this._returnResult({error:u});const f=(s=c.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(sS(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const l=yS(),s={id:l,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async l=>{var s,c;try{const{data:{session:u},error:f}=l;if(f)throw f;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,l={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await qa(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(u){if(ue(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:l,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=l.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var l;try{const{data:s,error:c}=await this._useSession(async u=>{var f,p,y,g,x;const{data:S,error:T}=u;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=r.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",A,{headers:this.headers,jwt:(x=(g=S.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Et()&&!(!((l=r.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:r.provider,url:s?.url},error:null})}catch(s){if(ue(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async l=>{var s;try{const{error:c,data:{session:u}}=l;if(c)throw c;const{options:f,provider:p,token:y,access_token:g,nonce:x}=r,S=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:y,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:mn}),{data:T,error:A}=S;return A?this._returnResult({data:{user:null,session:null},error:A}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new Va}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:A}))}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(r){try{return await this._useSession(async l=>{var s,c;const{data:u,error:f}=l;if(f)throw f;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(r){const l=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{const s=Date.now();return await xS(async c=>(c>0&&await bS(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:mn})),(c,u)=>{const f=200*Math.pow(2,c);return u&&jc(u)&&Date.now()+f-s<Ka})}catch(s){if(this._debug(l,"error",s),ue(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(l,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,l){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",l,"url",s),Et()&&!l.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,l;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await Kr(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Kr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Ja(this.userStorage,this.storageKey+"-user",f)),c.user=(r=f?.user)!==null&&r!==void 0?r:kc()}else if(c&&!c.user&&!c.user){const f=await Kr(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await Sr(this.storage,this.storageKey+"-user"),await Ja(this.storage,this.storageKey,c)):c.user=kc()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const u=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Ec;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${Ec}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),jc(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(c.access_token);!p&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var l,s;if(!r)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Fs;const{data:u,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!u.session)throw new yn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(c,"error",u),ue(u)){const f={data:null,error:u};return jc(u)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,l,s=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",l,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:l});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,l)}catch(y){u.push(y)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const l=Object.assign({},r),s=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&l.user&&await Ja(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const u=a0(c);await Ja(this.storage,this.storageKey,u)}else{const c=a0(l);await Ja(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ka);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async l=>{const{data:{session:s}}=l;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-r)/Ka);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ka}ms, refresh threshold is ${td} ticks`),c<=td&&await this._callRefreshToken(s.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Sy)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const l=`#_onVisibilityChanged(${r})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,l,s){const c=[`provider=${encodeURIComponent(l)}`];if(s?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,f]=await qa(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(p.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);c.push(u.toString())}return s?.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async l=>{var s;const{data:c,error:u}=l;return u?this._returnResult({data:null,error:u}):await ge(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(r){try{return await this._useSession(async l=>{var s,c;const{data:u,error:f}=l;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:y,error:g}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:c,error:u}=l;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?XS(r.webauthn.credential_response):WS(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:y}=await ge(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:y}))})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:c,error:u}=l;if(u)return this._returnResult({data:null,error:u});const f=await ge(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:JS(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:QS(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(r){const{data:l,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:l.id,code:r.code})}async _listFactors(){var r;const{data:{user:l},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=l?.factors)!==null&&r!==void 0?r:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var r,l;const{data:{session:s},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Tc(s.access_token);let f=null;u.aal&&(f=u.aal);let p=f;((l=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async l=>{const{data:{session:s},error:c}=l;return c?this._returnResult({data:null,error:c}):s?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new yn})})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(r,l){try{return await this._useSession(async s=>{const{data:{session:c},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new yn});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Et()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,l){try{return await this._useSession(async s=>{const{data:{session:c},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new yn});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Et()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,l={keys:[]}){let s=l.keys.find(p=>p.kid===r);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(p=>p.kid===r),s&&this.jwks_cached_at+lS>c)return s;const{data:u,error:f}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,s=u.keys.find(p=>p.kid===r),!s)?null:s}async getClaims(r,l={}){try{let s=r;if(!s){const{data:A,error:R}=await this.getSession();if(R||!A.session)return this._returnResult({data:null,error:R});s=A.session.access_token}const{header:c,payload:u,signature:f,raw:{header:p,payload:y}}=Tc(s);l?.allowExpired||jS(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!g){const{error:A}=await this.getUser(s);if(A)throw A;return{data:{claims:u,header:c,signature:f},error:null}}const x=TS(c.alg),S=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,S,f,pS(`${p}.${y}`)))throw new ad("Invalid JWT signature");return{data:{claims:u,header:c,signature:f},error:null}}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}}oi.nextInstanceID={};const iw=oi;class sw extends iw{constructor(r){super(r)}}class ow{constructor(r,l,s){var c,u,f;this.supabaseUrl=r,this.supabaseKey=l;const p=eS(r);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const y=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:Yx,realtime:Jx,auth:Object.assign(Object.assign({},Kx),{storageKey:y}),global:Px},x=Zx(s??{},g);this.storageKey=(c=x.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(S,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=Wx(l,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new tx(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new qx(this.storageUrl.href,this.headers,this.fetch,s?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Wb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,l={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,l,s)}channel(r,l={config:{}}){return this.realtime.channel(r,l)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,l;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(l=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:l,detectSessionInUrl:s,storage:c,userStorage:u,storageKey:f,flowType:p,lock:y,debug:g,throwOnError:x},S,T){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sw({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),S),storageKey:f,autoRefreshToken:r,persistSession:l,detectSessionInUrl:s,storage:c,userStorage:u,flowType:p,lock:y,debug:g,throwOnError:x,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new vx(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,s)=>{this._handleTokenChanged(l,"CLIENT",s?.access_token)})}_handleTokenChanged(r,l,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uw=(i,r,l)=>new ow(i,r,l);function cw(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}cw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sn=uw("https://xhrufumfqgnwbgyfzowt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhocnVmdW1mcWdud2JneWZ6b3d0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0ODQ5OTYsImV4cCI6MjA3ODA2MDk5Nn0.JqnMUm0zW6Sr3TRjc3TptsOhiLnIl5OodJmnypbaKRg",{auth:{persistSession:!0,autoRefreshToken:!0}}),Qs="mazeMindUser",dw=()=>{if(typeof window>"u")return null;try{const i=window.localStorage.getItem(Qs);return i?JSON.parse(i):null}catch(i){return console.error("Error parsing stored user",i),window.localStorage.removeItem(Qs),null}},d0=i=>i?{id:i.id,email:i.email??""}:null,Cy=j.createContext(void 0);function fw({children:i}){const[r,l]=j.useState(()=>dw());j.useEffect(()=>{typeof window>"u"||(r?window.localStorage.setItem(Qs,JSON.stringify(r)):window.localStorage.removeItem(Qs))},[r]),j.useEffect(()=>{let c=!0;(async()=>{try{const{data:p,error:y}=await sn.auth.getSession();if(y){console.error("Error getting Supabase session",y);return}const g=d0(p.session?.user??null);c&&l(g)}catch(p){console.error("Unexpected Supabase session error",p)}})();const{data:f}=sn.auth.onAuthStateChange((p,y)=>{l(d0(y?.user??null))});return()=>{c=!1,f.subscription.unsubscribe()}},[]);const s=j.useMemo(()=>({user:r,setUser:l}),[r]);return h.jsx(Cy.Provider,{value:s,children:i})}const Zs=()=>{const i=j.useContext(Cy);if(!i)throw new Error("useUser must be used within a UserProvider");return i},hw="mazeMindProgress",pw="mazeMindPracticeBestScore",gw=1,yw=15,Ay=i=>{const r=i.split("-");if(r.length!==2)return!1;const l=Number(r[1]);return Number.isFinite(l)&&l>=gw&&l<=yw};async function mw(i){if(!i)throw new Error("No s'ha proporcionat cap usuari per obtenir el progrs.");const{data:r,error:l}=await sn.from("level_progress").select("difficulty, level_number, stars, best_time, best_points").eq("user_id",i);if(l)throw l;const s={};for(const g of r??[]){if(!g.difficulty||typeof g.level_number!="number")continue;const x=`${g.difficulty}-${g.level_number}`;s[x]={stars:g.stars??0,bestTime:g.best_time??null,bestPoints:g.best_points??null}}const{data:c,error:u}=await sn.from("user_progress").select("easy, normal, hard").eq("user_id",i).maybeSingle();if(u)throw u;const f={easy:c?.easy??1,normal:c?.normal??1,hard:c?.hard??1},{data:p,error:y}=await sn.from("practice_best").select("max_score").eq("user_id",i).maybeSingle();if(y)throw y;return{progress:{levels:s,highestUnlocked:f},practiceBest:p?.max_score??0}}function vw(i,r){const l={};return new Set([...Object.keys(i.levels),...Object.keys(r.levels)]).forEach(c=>{if(!Ay(c))return;const u=i.levels[c],f=r.levels[c];!u&&!f||(l[c]={stars:Math.max(u?.stars??0,f?.stars??0),bestTime:bw(u?.bestTime??null,f?.bestTime??null),bestPoints:xw(u?.bestPoints??null,f?.bestPoints??null)})}),{levels:l,highestUnlocked:{easy:Math.max(i.highestUnlocked.easy,r.highestUnlocked.easy),normal:Math.max(i.highestUnlocked.normal,r.highestUnlocked.normal),hard:Math.max(i.highestUnlocked.hard,r.highestUnlocked.hard)}}}const bw=(i,r)=>i===null?r:r===null?i:Math.min(i,r),xw=(i,r)=>i===null?r:r===null?i:Math.max(i,r);async function Ey(i,r){if(!i)throw new Error("No s'ha proporcionat cap usuari per sincronitzar el progrs.");const l=Object.entries(r.levels).filter(([c])=>Ay(c)).map(([c,u])=>{const[f,p]=c.split("-");return{user_id:i,difficulty:f,level_number:Number(p),stars:u.stars,best_time:u.bestTime,best_points:u.bestPoints}}).filter(c=>Number.isFinite(c.level_number));if(l.length>0){const{error:c}=await sn.from("level_progress").upsert(l,{onConflict:"user_id,difficulty,level_number"});if(c)throw c}const{error:s}=await sn.from("user_progress").upsert({user_id:i,easy:r.highestUnlocked.easy,normal:r.highestUnlocked.normal,hard:r.highestUnlocked.hard},{onConflict:"user_id"});if(s)throw s}async function jy(i,r){if(!i)throw new Error("No s'ha proporcionat cap usuari per sincronitzar practice_best.");const l=Number.isFinite(r)?r:0,{error:s}=await sn.from("practice_best").upsert({user_id:i,max_score:l},{onConflict:"user_id"});if(s)throw s}async function Sw(i){const r=Gs(),l=li(),s=await mw(i),c=vw(r,s.progress);await Ey(i,c);const u=Math.max(l,s.practiceBest??0);return u>(s.practiceBest??0)&&await jy(i,u),ww(c,u),c}const ww=(i,r)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(hw,JSON.stringify(i)),window.localStorage.setItem(pw,JSON.stringify(r))}catch(l){console.error("No s'ha pogut guardar el progrs unificat localment",l)}},Ls=1e3,_w=1,Cw=2,Aw=20,Ew=50,f0=500,h0=3,Hs=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i,jw={easy:"Fcil",normal:"Normal",hard:"Difcil"};function Oc({level:i,onBack:r,onRetry:l,isTutorialMode:s,onCompleteTutorial:c,onLevelComplete:u,isPracticeMode:f}){const p=on(),{user:y}=Zs(),{getVisualSettings:g,settings:x}=wt(),S=g("levelScreen"),{keyMoveUp:T,keyMoveDown:A,keyMoveLeft:R,keyMoveRight:U}=x.game,_=i.memorizeTime,[N,O]=j.useState("memorize"),[Y,X]=j.useState(_),ne=j.useRef(_),[Z,H]=j.useState({x:i.start.x,y:i.start.y}),[ye,pe]=j.useState([{x:i.start.x,y:i.start.y}]),[J,K]=j.useState(s?0:-1),[W,de]=j.useState(0),[fe,me]=j.useState(Ls),B=i.difficulty==="hard",[Q,oe]=j.useState(B?h0:-1),Ce=te=>te>=800?3:te>=400?2:te>0?1:0,_e=j.useMemo(()=>Ce(fe),[fe]),v=j.useRef(Ce(Ls));j.useEffect(()=>{if(N==="completed"&&!s&&!f){const te=wb(i.difficulty,i.number,_e,W,fe);u(te),y&&Ey(y.id,te).catch(at=>{console.error("Error enviant progrs a Supabase:",at)})}},[N,s,i.difficulty,i.number,_e,W,fe,u,f,y]),j.useEffect(()=>{_e<v.current&&p.playStarLoss(),v.current=_e},[_e,p.playStarLoss]);const[C,V]=j.useState(3),[I,F]=j.useState(!1),[ee,ae]=j.useState(!1),[Ae,xe]=j.useState(!1),[un,Pt]=j.useState(null),Kn=j.useMemo(()=>{const te=ne.current-Y;return Math.min(100,Math.max(0,te/ne.current*100))},[Y]);j.useEffect(()=>{if(N!=="memorize"||s)return;const at=setInterval(()=>{X(ze=>ze<=1?(clearInterval(at),p.playStart(),O("playing"),H({x:i.start.x,y:i.start.y}),0):(ze<=4?p.playTickFinal():p.playTick(),ze-1))},1e3);return()=>clearInterval(at)},[N,i.start.x,i.start.y,p,s]);const Jn=j.useRef(I);j.useEffect(()=>{Jn.current=I},[I]);const Yt=j.useRef(ee);j.useEffect(()=>{Yt.current=ee},[ee]),j.useEffect(()=>{if(N==="playing"&&!(s&&J>=0))return p.startMusic(),()=>p.stopMusic();p.stopMusic()},[N,s,J,p]),j.useEffect(()=>{if(N!=="playing"||s&&J>=0)return;const te=setInterval(()=>{de(at=>at+1),me(at=>{let ze=_w;return Jn.current&&(ze+=Cw),Math.max(0,at-ze)})},1e3);return()=>clearInterval(te)},[N,s,J]);const Kt=j.useCallback(()=>{N!=="playing"||C<=0||Ae||(p.playReveal(),V(te=>te-1),me(te=>Math.max(0,te-Ew)),xe(!0),setTimeout(()=>xe(!1),f0))},[N,C,Ae,p]),xn=j.useCallback(()=>{N==="playing"&&F(te=>(te?p.playToggleOff():p.playToggleOn(),!te))},[N,p]),Er=j.useCallback(()=>{N==="playing"&&ae(te=>(te?p.playToggleOff():p.playToggleOn(),!te))},[N,p]),cn=j.useCallback(()=>{p.playFail(),p.stopMusic(),l()},[l,p]),Jt=j.useCallback(()=>{p.playFail(),r()},[r,p]),Qn=j.useCallback(()=>{p.playFail(),p.stopMusic(),l()},[l,p]),En=j.useCallback(()=>{p.playFail(),p.stopMusic(),r()},[r,p]),nl=j.useCallback(()=>{p.playFail(),p.stopMusic(),O("memorize"),X(_),H({x:i.start.x,y:i.start.y}),pe([{x:i.start.x,y:i.start.y}]),de(0),me(Ls),oe(B?h0:-1),V(3),F(!1),ae(!1),Pt(null)},[_,i.start.x,i.start.y,B,p]);j.useEffect(()=>{if(N!=="playing")return;const{game:te}=x,at=ze=>{const dn=ze.target;if(dn&&(["INPUT","TEXTAREA","SELECT"].includes(dn.tagName)||dn.isContentEditable)||Ae)return;Pt(null);const jt=ze.key.toLowerCase();if(ze.key===te.keyHelpReveal||jt===(te.keyHelpReveal||"").toLowerCase()){ze.preventDefault(),Kt();return}if(jt===(te.keyHelpPath||"").toLowerCase()){ze.preventDefault(),xn();return}const _t=(te.keyHelpCrash||"").toLowerCase();if(_t&&jt===_t&&i.difficulty!=="hard"){ze.preventDefault(),Er();return}const{x:He,y:tt}=Z;let Pe=He,Qt=tt,jn=!1;if(ze.key==="ArrowUp"||jt===(te.keyMoveUp||"").toLowerCase())ze.preventDefault(),i.maze[tt][He].walls.top?jn=!0:Qt-=1;else if(ze.key==="ArrowDown"||jt===(te.keyMoveDown||"").toLowerCase())ze.preventDefault(),i.maze[tt][He].walls.bottom?jn=!0:Qt+=1;else if(ze.key==="ArrowLeft"||jt===(te.keyMoveLeft||"").toLowerCase())ze.preventDefault(),i.maze[tt][He].walls.left?jn=!0:Pe-=1;else if(ze.key==="ArrowRight"||jt===(te.keyMoveRight||"").toLowerCase())ze.preventDefault(),i.maze[tt][He].walls.right?jn=!0:Pe+=1;else return;if(jn){if(B){p.playCrash();const Xn=Q-1;Xn<=0?(oe(0),p.stopMusic(),O("failed")):(oe(Xn),H({x:i.start.x,y:i.start.y}),pe([{x:i.start.x,y:i.start.y}]));return}ee&&(p.playCrash(),Pt({x:He,y:tt}),me(Xn=>Math.max(0,Xn-Aw)),setTimeout(()=>Pt(null),f0));return}Pe>=0&&Pe<i.width&&Qt>=0&&Qt<i.height&&(H({x:Pe,y:Qt}),pe(Xn=>[...Xn,{x:Pe,y:Qt}])),Pe===i.exit.x&&Qt===i.exit.y&&(p.playWin(),p.stopMusic(),O("completed"))};return window.addEventListener("keydown",at),()=>window.removeEventListener("keydown",at)},[N,Z,i,ee,Kt,xn,Er,Ae,p,fe,x,B,Q,cn,Jt]);const rl=()=>{const te=J+1;te>=Wr.length?(K(-1),c(),X(i.memorizeTime)):(K(te),N!=="memorize"&&O("memorize"),X(i.memorizeTime))},gt=()=>{K(-1),c(),O("memorize"),X(i.memorizeTime),H({x:i.start.x,y:i.start.y}),de(0),me(Ls)},ct=j.useMemo(()=>({path_color:S.mazePathColor||"#EEF2FF",wall_color:S.mazeWallColor||"#3B82F6",wall_thickness:S.mazeWallThickness||3,exit_color:S.mazeExitColor||S.normalColor||"#F59E0B",player_color:S.mazePlayerColor||"#111",player_path_color:S.playerPathColor||"rgba(0, 0, 0, 0.4)",crash_help_color:S.crashHelpColor||"#E11D48"}),[S]),le=j.useMemo(()=>({page:{minHeight:"100svh",width:"100%",margin:0,background:S.backgroundColor,color:S.textColor,boxSizing:"border-box",padding:"clamp(16px, 3vw, 24px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",alignItems:"center"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexShrink:0,width:"100%",maxWidth:"980px"},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},ghostBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${S.borderColor}`,background:S.surfaceColor,color:S.textColor,cursor:"pointer",fontSize:16,whiteSpace:"nowrap"},mainArea:{flexGrow:1,display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",minHeight:0,width:"100%",maxWidth:"980px"},memorizePanel:{background:`linear-gradient(90deg, ${S.accentColor1}, ${S.accentColor2})`,borderRadius:16,padding:"16px clamp(16px, 3vw, 24px) 20px",boxShadow:q.shadow,textAlign:"center",flexShrink:0},memorizeHeading:{margin:0,fontSize:"clamp(16px, 2vw, 18px)",opacity:.95},memorizeCounter:{fontSize:"clamp(40px, 6vw, 56px)",fontWeight:800,marginTop:6},progressTrack:{marginTop:10,height:10,borderRadius:999,background:"rgba(255,255,255,.35)",overflow:"hidden"},progressFill:{height:"100%",background:S.surfaceColor,borderRadius:999},boardWrap:{flexGrow:1,display:"grid",placeItems:"center",minHeight:0},boardInner:{width:"100%",height:"100%",aspectRatio:"1 / 1",maxWidth:"calc(100vh - 300px)",maxHeight:"100%",background:S.mazePathColor,borderRadius:16,boxShadow:"0 16px 48px rgba(0,0,0,.35), inset 0 0 0 3px rgba(0,0,0,.25)",overflow:"hidden",position:"relative"},footer:{flexShrink:0,width:"100%",maxWidth:"980px",textAlign:"center"},tip:{display:"inline-block",background:S.surfaceColor,border:`1px solid ${S.borderColor}`,padding:"10px 16px",borderRadius:10,color:S.subtextColor,fontSize:14}}),[S]),Qe=j.useMemo(()=>f?i.number===99?"Mode Lliure":"Mode Prctica":`Nivell ${i.number} - ${jw[i.difficulty]}`,[f,i.number,i.difficulty]);return h.jsxs("div",{style:le.page,children:[h.jsxs("header",{style:le.headerRow,children:[h.jsxs("button",{type:"button",onClick:Jt,onMouseEnter:()=>p.playHover(),style:le.ghostBtn,"aria-label":"Tornar a la selecci de nivell",children:[h.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),h.jsx("h1",{style:le.title,children:Qe}),h.jsxs("button",{type:"button",onClick:cn,onMouseEnter:()=>p.playHover(),style:{...le.ghostBtn,justifySelf:"end"},"aria-label":"Reintentar el nivell",children:[h.jsx("span",{"aria-hidden":"true",children:""})," Reintentar"]})]}),h.jsxs("main",{style:le.mainArea,children:[N==="memorize"?h.jsxs("section",{"aria-labelledby":"memorizeTitle",style:le.memorizePanel,children:[h.jsxs("h2",{id:"memorizeTitle",style:le.memorizeHeading,children:[h.jsx("span",{"aria-hidden":"true",children:""})," Memoritza el Laberint!"]}),h.jsx("div",{role:"status","aria-live":"polite",style:le.memorizeCounter,children:Y}),h.jsx("div",{role:"progressbar","aria-valuenow":Math.round(Kn),style:le.progressTrack,children:h.jsx("div",{style:{...le.progressFill,width:`${Kn}%`}})})]}):h.jsx(Ub,{gameTime:W,points:fe,revealCharges:C,isPathHelpActive:I,isCrashHelpActive:ee,onRevealHelp:Kt,onTogglePathHelp:xn,onToggleCrashHelp:Er,lives:Q,difficulty:i.difficulty}),h.jsx("section",{"aria-label":"Tauler del laberint",style:le.boardWrap,children:h.jsx("div",{style:le.boardInner,children:h.jsx(dd,{level:i,phase:N,playerPos:Z,showReveal:Ae,settings:ct,showPlayerPath:I,crashPosition:un,forcePathHistory:ye})})})]}),h.jsx("footer",{style:le.footer,children:N==="playing"?h.jsxs("p",{style:le.tip,children:["Utilitza les ",h.jsx("kbd",{children:"Fletxes"})," o",h.jsxs("kbd",{children:[" ",Hs(T)]}),h.jsx("kbd",{children:Hs(R)}),h.jsx("kbd",{children:Hs(A)}),h.jsxs("kbd",{children:[Hs(U)," "]}),"per mouret."]}):N==="memorize"?h.jsx("p",{style:le.tip,children:"Memoritza el cam des de l'inici (cercle) fins al final (quadrat)."}):null}),N==="completed"&&!s&&h.jsx($b,{levelNumber:i.number,stars:_e,time:W,points:fe,onRetry:cn,onBack:Jt}),N==="failed"&&h.jsx(O0,{onRetry:cn,onBack:Jt}),(N==="completed"||N==="failed")&&f&&h.jsx(Ib,{status:N,time:W,onRetrySameMaze:nl,onRetryNewMaze:Qn,onBackToSettings:En}),s&&J>=0&&J<Wr.length&&h.jsx(Pb,{step:J,onNext:rl,onSkip:gt})]})}class Tw{width;height;grid=[];constructor(r,l){this.width=r,this.height=l}generate(){this.grid=Array.from({length:this.height},()=>Array.from({length:this.width},()=>({walls:{top:!0,right:!0,bottom:!0,left:!0},visited:!1})));const r=[],l=0,s=0;for(this.grid[s][l].visited=!0,r.push({x:l,y:s});r.length;){const c=r[r.length-1],u=this.getUnvisitedNeighbors(c.x,c.y);if(u.length){const f=u[Math.floor(Math.random()*u.length)];this.removeWall(c,f),this.grid[f.y][f.x].visited=!0,r.push({x:f.x,y:f.y})}else r.pop()}return this.grid}getUnvisitedNeighbors(r,l){const s=[];return l>0&&!this.grid[l-1][r].visited&&s.push({x:r,y:l-1,dir:"top"}),r<this.width-1&&!this.grid[l][r+1].visited&&s.push({x:r+1,y:l,dir:"right"}),l<this.height-1&&!this.grid[l+1][r].visited&&s.push({x:r,y:l+1,dir:"bottom"}),r>0&&!this.grid[l][r-1].visited&&s.push({x:r-1,y:l,dir:"left"}),s}removeWall(r,l){const s=l.x-r.x,c=l.y-r.y;s===1?(this.grid[r.y][r.x].walls.right=!1,this.grid[l.y][l.x].walls.left=!1):s===-1?(this.grid[r.y][r.x].walls.left=!1,this.grid[l.y][l.x].walls.right=!1):c===1?(this.grid[r.y][r.x].walls.bottom=!1,this.grid[l.y][l.x].walls.top=!1):c===-1&&(this.grid[r.y][r.x].walls.top=!1,this.grid[l.y][l.x].walls.bottom=!1)}}function Xa(i){const r=new Tw(i.width,i.height);return{id:`${i.difficulty}-level-${i.levelNumber}`,number:i.levelNumber,difficulty:i.difficulty,maze:r.generate(),width:i.width,height:i.height,memorizeTime:i.memorizeTime,starThresholds:i.stars,start:{x:0,y:0},exit:{x:i.width-1,y:i.height-1}}}const kw=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Fe(i.textColor,.08),s=Fe(i.textColor,.75),c=Fe(i.hardColor,.15),u=Fe(i.hardColor,.3);return{overlay:{position:"fixed",inset:0,background:s,backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:100,padding:"1rem"},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"1rem",padding:"2rem",color:i.textColor,width:"min(400px, 95vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",position:"relative",display:"flex",flexDirection:"column",gap:"1.25rem"},closeButton:{position:"absolute",top:"0.75rem",right:"0.75rem",background:"none",border:"none",color:i.subtextColor,cursor:"pointer",padding:"0.25rem",lineHeight:0,borderRadius:"50%"},title:{fontSize:"1.5rem",fontWeight:700,margin:0,textAlign:"center",color:i.textColor},form:{display:"flex",flexDirection:"column",gap:"1rem"},label:{fontSize:"0.875rem",color:i.subtextColor,marginBottom:"-0.75rem",marginLeft:"0.25rem",textAlign:"left"},input:{padding:"0.75rem 1rem",borderRadius:"0.5rem",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"1rem",outline:"none"},submitButton:{padding:"0.875rem",borderRadius:"0.5rem",border:"none",background:r,color:"#fff",fontSize:"1rem",fontWeight:600,cursor:"pointer",marginTop:"0.5rem",transition:"opacity 0.2s ease"},toggleButton:{background:"none",border:"none",color:i.accentColor2,fontSize:"0.875rem",cursor:"pointer",textDecoration:"underline",marginTop:"0.75rem",alignSelf:"center"},errorMessage:{color:i.hardColor,background:c,border:`1px solid ${u}`,borderRadius:"0.5rem",padding:"0.75rem 1rem",fontSize:"0.875rem",textAlign:"center",margin:"-0.5rem 0 0.5rem 0"}}};function Rw({onClose:i,onLogin:r,onRegister:l}){const s=on(),{getVisualSettings:c}=wt(),u=c("home"),f=j.useMemo(()=>kw(u),[u]),{user:p}=Zs(),y=()=>{s.playFail(),i()},[g,x]=j.useState(""),[S,T]=j.useState(""),[A,R]=j.useState(!1),[U,_]=j.useState(null),[N,O]=j.useState(!1);j.useEffect(()=>{p&&i()},[p,i]);const Y=ne=>({id:ne.id,email:ne.email??g}),X=async ne=>{if(ne.preventDefault(),_(null),!g||!S){_("El correu i la contrasenya sn obligatoris.");return}if(S.length<6){_("La contrasenya ha de tenir com a mnim 6 carcters.");return}O(!0);try{if(A){const{data:Z,error:H}=await sn.auth.signUp({email:g,password:S});if(H)throw H;if(Z.user){const ye={id:Z.user.id,email:Z.user.email??g},{error:pe}=await sn.from("profiles").upsert(ye,{onConflict:"id"});if(pe)throw pe;l(ye),i()}else _("Revisa el teu correu per completar el registre.")}else{const{data:Z,error:H}=await sn.auth.signInWithPassword({email:g,password:S});if(H)throw H;if(Z.user){const ye=Y(Z.user);r(ye),i()}}}catch(Z){console.error("Error en autenticaci Supabase:",Z),_(Z instanceof Error?Z.message:"Ha ocorregut un error. Torna a intentar-ho.")}finally{O(!1)}};return h.jsx("div",{style:f.overlay,onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":"auth-title",children:h.jsxs("div",{style:f.modalContent,onClick:ne=>ne.stopPropagation(),children:[h.jsx("button",{style:f.closeButton,onClick:y,"aria-label":"Tancar modal d'autenticaci",children:h.jsx(cd,{size:20})}),h.jsx("h2",{id:"auth-title",style:f.title,children:A?"Crear Compte":"Iniciar Sessi"}),U&&h.jsx("p",{style:f.errorMessage,children:U}),h.jsxs("form",{onSubmit:X,style:f.form,children:[h.jsx("label",{htmlFor:"email-input",style:f.label,children:"Correu electrnic"}),h.jsx("input",{id:"email-input",type:"email",placeholder:"el.teu@correu.com",value:g,onChange:ne=>x(ne.target.value),style:f.input,required:!0,"aria-required":"true",autoComplete:"email"}),h.jsx("label",{htmlFor:"password-input",style:f.label,children:"Contrasenya"}),h.jsx("input",{id:"password-input",type:"password",placeholder:"",value:S,onChange:ne=>T(ne.target.value),style:f.input,required:!0,"aria-required":"true",minLength:6,autoComplete:A?"new-password":"current-password"}),h.jsx("button",{type:"submit",style:{...f.submitButton,opacity:N?.7:1},disabled:N,children:N?"Enviant...":A?"Registrar-se":"Entrar"})]}),h.jsx("button",{style:f.toggleButton,onClick:()=>{R(!A),_(null)},type:"button",children:A?"Ja tens compte? Inicia sessi":"No tens compte? Registra't"})]})})}const $s=i=>/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}$/.test(i);function Le({label:i,value:r,onChange:l,inputId:s}){const[c,u]=j.useState(r),[f,p]=j.useState(()=>$s(r)?r:"#ffffff");j.useEffect(()=>{u(r),$s(r)&&p(r)},[r]);const y=S=>{const T=S.target.value;p(T),u(T),l(T)},g=S=>{const T=S.target.value;u(T),$s(T)&&(p(T),l(T))},x=()=>{$s(c)||u(r)};return h.jsxs("div",{style:Wl.settingGroup,children:[h.jsx("label",{htmlFor:s,style:Wl.label,children:i}),h.jsxs("div",{style:Wl.colorInputWrapper,children:[h.jsx("input",{id:s,type:"color",value:f,onChange:y,style:Wl.colorInput,"aria-label":`${i} (selector visual)`}),h.jsx("input",{type:"text",value:c,onChange:g,onBlur:x,style:Wl.textInput,"aria-label":`${i} (codi hexadecimal)`,spellCheck:"false"})]})]})}const Wl={settingGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},colorInputWrapper:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(10, 25, 47, 0.7)",border:`1px solid ${q.borderColor}`,borderRadius:"6px",padding:"4px"},colorInput:{width:"28px",height:"28px",padding:0,border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent",flexShrink:0},textInput:{flexGrow:1,background:"transparent",border:"none",color:q.text,fontSize:"0.875rem",fontFamily:"monospace",outline:"none",padding:"4px 8px"}},zc=i=>{const r=i.match(/#[0-9A-Fa-f]{6}/g);return r&&r.length>=2?[r[0],r[1]]:[q.playBtnFrom,q.playBtnTo]};function Ow({settings:i,onChange:r}){const[l,s]=j.useState(()=>zc(i.backgroundColor)[0]),[c,u]=j.useState(()=>zc(i.backgroundColor)[1]);j.useEffect(()=>{const[g,x]=zc(i.backgroundColor);s(g),u(x)},[i.backgroundColor]);const f=j.useCallback((g,x)=>{const S=`linear-gradient(145deg, ${g} 0%, ${x} 100%)`;r("backgroundColor",S)},[r]),p=g=>{s(g),f(g,c)},y=g=>{u(g),f(l,g)};return h.jsxs("div",{style:Ya.container,children:[h.jsxs("div",{style:Ya.gradientGroup,children:[h.jsx("label",{style:Ya.label,children:"Gradient de Fons"}),h.jsx(Le,{label:"Color 1",value:l,onChange:p,inputId:"home-bg-color1"}),h.jsx(Le,{label:"Color 2",value:c,onChange:y,inputId:"home-bg-color2"})]}),h.jsxs("div",{style:Ya.grid,children:[h.jsxs("div",{style:Ya.column,children:[h.jsx(Le,{label:"Color de Text Principal",value:i.textColor,onChange:g=>r("textColor",g),inputId:"home-text-color"}),h.jsx(Le,{label:"Color d'Accent Principal",value:i.accentColor1,onChange:g=>r("accentColor1",g),inputId:"home-accent1-color"})]}),h.jsxs("div",{style:Ya.column,children:[h.jsx(Le,{label:"Color de Text Secundari",value:i.subtextColor,onChange:g=>r("subtextColor",g),inputId:"home-subtext-color"}),h.jsx(Le,{label:"Color d'Accent Secundari",value:i.accentColor2,onChange:g=>r("accentColor2",g),inputId:"home-accent2-color"})]}),h.jsx(Le,{label:"Color de les Targetes",value:i.surfaceColor.startsWith("rgba")?"#ffffff":i.surfaceColor,onChange:g=>r("surfaceColor",g),inputId:"home-surface-color"})]})]})}const Ya={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`}},zw=[{icon:"",label:"Nivells",value:11},{icon:"",label:"Estrelles",value:22},{icon:"",label:"Perfectes",value:33}];function Mw({settings:i}){const r={pagePreview:{background:i.backgroundColor,color:i.textColor,padding:"24px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",overflow:"hidden",position:"relative",boxSizing:"border-box"},userIconPreview:{position:"absolute",top:"12px",right:"12px",background:i.surfaceColor,color:i.subtextColor,borderRadius:"50%",width:"32px",height:"32px",display:"grid",placeItems:"center",border:`1px solid ${i.borderColor}`},logoWrapPreview:{background:`linear-gradient(135deg, ${i.accentColor1}, ${i.accentColor2||i.accentColor1})`,borderRadius:"16px",padding:"12px",display:"grid",placeItems:"center"},logoSvgPreview:{width:40,height:40,filter:"brightness(0) invert(1)"},titlePreview:{fontSize:"24px",fontWeight:900,margin:0},subtitlePreview:{fontSize:"12px",color:i.subtextColor,margin:0,maxWidth:"250px"},statsGridPreview:{display:"flex",gap:"8px",marginTop:"8px"},statCardPreview:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"8px",textAlign:"center",flex:1},statIconPreview:{fontSize:14},statValuePreview:{fontSize:16,fontWeight:700},statLabelPreview:{fontSize:10,color:i.subtextColor},actionsColPreview:{display:"flex",flexDirection:"column",gap:"8px",width:"80%",marginTop:"8px"},playBtnPreview:{padding:"10px",borderRadius:"8px",border:"none",background:`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2||i.accentColor1})`,color:"#fff",fontSize:"14px",fontWeight:700},secondaryBtnPreview:{padding:"10px",borderRadius:"8px",border:`1px solid ${i.borderColor}`,background:"rgba(255,255,255,0.06)",color:i.textColor,fontSize:"14px",fontWeight:600}};return h.jsxs("div",{style:r.pagePreview,children:[h.jsx("div",{style:r.userIconPreview,children:h.jsx(A0,{size:16})}),h.jsx("div",{style:r.logoWrapPreview,children:h.jsx(E0,{style:r.logoSvgPreview})}),h.jsx("h1",{style:r.titlePreview,children:"MazeMind"}),h.jsx("p",{style:r.subtitlePreview,children:"Entrena la memria visoespacial resolent laberints"}),h.jsx("div",{style:r.statsGridPreview,children:zw.map(l=>h.jsxs("div",{style:r.statCardPreview,children:[h.jsx("div",{style:r.statIconPreview,children:l.icon}),h.jsx("div",{style:r.statValuePreview,children:l.value}),h.jsx("div",{style:r.statLabelPreview,children:l.label})]},l.label))}),h.jsxs("div",{style:r.actionsColPreview,children:[h.jsx("div",{style:r.playBtnPreview,children:" Jugar"}),h.jsx("div",{style:r.secondaryBtnPreview,children:" Configuraci"})]})]})}const Mc=i=>{const r=i.match(/#[0-9A-Fa-f]{6}/g);return r&&r.length>=2?[r[0],r[1]]:[q.playBtnFrom,q.playBtnTo]};function Dw({settings:i,onChange:r}){const[l,s]=j.useState(()=>Mc(i.backgroundColor)[0]),[c,u]=j.useState(()=>Mc(i.backgroundColor)[1]);j.useEffect(()=>{const[g,x]=Mc(i.backgroundColor);s(g),u(x)},[i.backgroundColor]);const f=j.useCallback((g,x)=>{const S=`linear-gradient(145deg, ${g} 0%, ${x} 100%)`;r("backgroundColor",S)},[r]),p=g=>{s(g),f(g,c)},y=g=>{u(g),f(l,g)};return h.jsxs("div",{style:Jr.container,children:[h.jsxs("div",{style:Jr.gradientGroup,children:[h.jsx("label",{style:Jr.label,children:"Gradient de Fons"}),h.jsx(Le,{label:"Color 1",value:l,onChange:p,inputId:"levelselect-bg-color1"}),h.jsx(Le,{label:"Color 2",value:c,onChange:y,inputId:"levelselect-bg-color2"})]}),h.jsxs("div",{style:Jr.difficultyGroup,children:[h.jsx(Le,{label:"Color Fcil (Botons)",value:i.easyColor,onChange:g=>r("easyColor",g),inputId:"levelselect-easy-color"}),h.jsx(Le,{label:"Color Normal (Botons)",value:i.normalColor,onChange:g=>r("normalColor",g),inputId:"levelselect-normal-color"}),h.jsx(Le,{label:"Color Difcil (Botons)",value:i.hardColor,onChange:g=>r("hardColor",g),inputId:"levelselect-hard-color"})]}),h.jsxs("div",{style:Jr.grid,children:[h.jsxs("div",{style:Jr.column,children:[h.jsx(Le,{label:"Color de Text Principal",value:i.textColor,onChange:g=>r("textColor",g),inputId:"levelselect-text-color"}),h.jsx(Le,{label:"Color de Targetes/Botons",value:i.surfaceColor.startsWith("rgba")?"#ffffff":i.surfaceColor,onChange:g=>r("surfaceColor",g),inputId:"levelselect-surface-color"})]}),h.jsxs("div",{style:Jr.column,children:[h.jsx(Le,{label:"Color de Text Secundari",value:i.subtextColor,onChange:g=>r("subtextColor",g),inputId:"levelselect-subtext-color"}),h.jsx(Le,{label:"Color de Vores",value:i.borderColor,onChange:g=>r("borderColor",g),inputId:"levelselect-border-color"})]})]})]})}const Jr={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},difficultyGroup:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`}};function Bw({settings:i}){const[r,l]=j.useState("easy"),s=j.useCallback(u=>{const f=i;return u==="easy"?f.easyColor||f.accentColor1||q.easyGreen:u==="normal"?f.normalColor||f.accentColor2||q.normalYellow:f.hardColor||f.accentColor2||q.hardRed},[i]),c={pagePreview:{background:i.backgroundColor,color:i.textColor,padding:"16px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"12px",overflow:"hidden",position:"relative",boxSizing:"border-box"},headerPreview:{display:"flex",justifyContent:"space-between",alignItems:"center"},backBtnPreview:{background:i.surfaceColor,color:i.textColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"4px 6px",fontSize:"10px",display:"flex",alignItems:"center",gap:"4px"},titlePreview:{fontSize:"14px",fontWeight:700,margin:0},diffBarPreview:{display:"flex",background:i.surfaceColor,borderRadius:"99px",padding:"4px",position:"relative"},diffIndicatorPreview:{position:"absolute",top:"4px",left:"4px",width:"calc(50% - 4px)",height:"calc(100% - 8px)",background:i.easyColor,borderRadius:"99px",zIndex:1},diffTabPreview:{flex:1,padding:"4px",fontSize:"10px",borderRadius:"99px",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},gridPreview:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},cardPreview:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"12px",padding:"4px",aspectRatio:"1/1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",fontSize:"10px",transition:"opacity 0.2s ease"},cardLocked:{opacity:.6,borderColor:i.borderColor},levelNumPreview:{fontSize:"18px",fontWeight:700},starsPreview:{display:"flex",gap:"2px"},timePreview:{display:"flex",gap:"4px",alignItems:"center",fontSize:"10px",color:i.subtextColor},playBtnPreview:{background:i.easyColor,color:"#0B1021",fontSize:"10px",fontWeight:600,padding:"4px 8px",borderRadius:"6px"},footerPreview:{marginTop:"auto",display:"flex",justifyContent:"center"},practiceBtnPreview:{background:i.surfaceColor,color:i.textColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"6px 10px",fontSize:"10px",display:"flex",alignItems:"center",gap:"4px"}};return h.jsxs("div",{style:c.pagePreview,children:[h.jsxs("div",{style:c.headerPreview,children:[h.jsxs("div",{style:c.backBtnPreview,children:[h.jsx(Cr,{size:12})," Inici"]}),h.jsx("h1",{style:c.titlePreview,children:"Selecciona Nivell"}),h.jsx("div",{style:{width:40}})]}),h.jsxs("div",{style:c.diffBarPreview,children:[h.jsx("div",{style:{...c.diffIndicatorPreview,left:r==="easy"?"4px":r==="normal"?"calc(33.333% + 4px)":"calc(66.666% + 4px)",width:"calc(33.333% - 8px)",background:s(r)}}),["easy","normal","hard"].map(u=>h.jsxs("button",{onClick:()=>l(u),style:{...c.diffTabPreview,color:r===u?i.textColor:i.subtextColor,background:"transparent",border:"none"},children:[u==="easy"?h.jsx(Wa,{size:10}):u==="normal"?h.jsx(ui,{size:10}):h.jsx(od,{size:10})," ",u==="easy"?"Fcil":u==="normal"?"Normal":"Difcil"]},u))]}),h.jsxs("div",{style:c.gridPreview,children:[h.jsxs("div",{style:{...c.cardPreview,borderColor:(s(r)||q.easyGreen)+"60"},children:[h.jsx("div",{style:c.levelNumPreview,children:"1"}),h.jsxs("div",{style:c.starsPreview,children:[h.jsx(wr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),h.jsx(wr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),h.jsx(wr,{size:10,fill:"none",color:i.subtextColor+"80"})]}),h.jsxs("div",{style:c.timePreview,children:[h.jsx($c,{size:10})," 0:45"]}),h.jsx("div",{style:{...c.playBtnPreview,background:s(r)},children:"Jugar"})]}),h.jsxs("div",{style:{...c.cardPreview,borderColor:(s(r)||q.easyGreen)+"60"},children:[h.jsx("div",{style:c.levelNumPreview,children:"2"}),h.jsxs("div",{style:c.starsPreview,children:[h.jsx(wr,{size:10,fill:"#FBBF24",color:"#FBBF24"}),h.jsx(wr,{size:10,fill:"none",color:"#FBBF24"}),h.jsx(wr,{size:10,fill:"none",color:"#FBBF24"})]}),h.jsxs("div",{style:c.timePreview,children:[h.jsx($c,{size:10})," 1:12"]}),h.jsx("div",{style:{...c.playBtnPreview,background:s(r)},children:"Jugar"})]}),h.jsxs("div",{style:{...c.cardPreview,...c.cardLocked},children:[h.jsx("div",{style:c.levelNumPreview,children:"3"}),h.jsx(qc,{size:16,color:i.subtextColor})]}),h.jsxs("div",{style:{...c.cardPreview,...c.cardLocked},children:[h.jsx("div",{style:c.levelNumPreview,children:"4"}),h.jsx(qc,{size:16,color:i.subtextColor})]})]}),h.jsx("footer",{style:c.footerPreview,children:h.jsxs("div",{style:c.practiceBtnPreview,children:[h.jsx(Wa,{size:12})," Mode Prctica"]})})]})}const Uw=({label:i,value:r,onChange:l,inputId:s,min:c,max:u,step:f})=>h.jsxs("div",{style:An.settingGroup,children:[h.jsx("label",{htmlFor:s,style:An.label,children:i}),h.jsx("input",{id:s,type:"number",value:r,onChange:p=>l(parseFloat(p.target.value)),min:c,max:u,step:f,style:An.numberInput})]});function Nw({settings:i,onChange:r}){const[l,s]=j.useState(i.backgroundColor);j.useEffect(()=>{const u=i.backgroundColor.match(/#[0-9A-Fa-f]{6}/g);s(u?u[0]:i.backgroundColor)},[i.backgroundColor]);const c=u=>{s(u),r("backgroundColor",`linear-gradient(145deg, ${u} 0%, ${u} 100%)`)};return h.jsxs("div",{style:An.container,children:[h.jsxs("div",{style:An.grid,children:[h.jsxs("div",{style:An.column,children:[h.jsx(Le,{label:"Color de Fons",value:l,onChange:c,inputId:"levelscreen-bg-color"}),h.jsx(Le,{label:"Color de Text Principal",value:i.textColor,onChange:u=>r("textColor",u),inputId:"levelscreen-text-color"}),h.jsx(Le,{label:"Color de Text Secundari",value:i.subtextColor,onChange:u=>r("subtextColor",u),inputId:"levelscreen-subtext-color"})]}),h.jsxs("div",{style:An.column,children:[h.jsx(Le,{label:"Color de Targetes (HUD)",value:i.surfaceColor,onChange:u=>r("surfaceColor",u),inputId:"levelscreen-surface-color"}),h.jsx(Le,{label:"Color de Vores",value:i.borderColor,onChange:u=>r("borderColor",u),inputId:"levelscreen-border-color"})]})]}),h.jsxs("div",{style:An.gradientGroup,children:[h.jsx("label",{style:An.label,children:'Gradient Panell "Memoritzar"'}),h.jsx(Le,{label:"Accent 1",value:i.accentColor1,onChange:u=>r("accentColor1",u),inputId:"levelscreen-accent1-color"}),h.jsx(Le,{label:"Accent 2",value:i.accentColor2,onChange:u=>r("accentColor2",u),inputId:"levelscreen-accent2-color"})]}),h.jsxs("div",{style:An.mazeGroup,children:[h.jsx(Le,{label:"Color Cam (Fons Laberint)",value:i.mazePathColor||"",onChange:u=>r("mazePathColor",u),inputId:"levelscreen-maze-path"}),h.jsx(Le,{label:"Color Parets",value:i.mazeWallColor||"",onChange:u=>r("mazeWallColor",u),inputId:"levelscreen-maze-wall"}),h.jsx(Le,{label:"Color Jugador",value:i.mazePlayerColor||"",onChange:u=>r("mazePlayerColor",u),inputId:"levelscreen-maze-player"}),h.jsx(Le,{label:"Color Sortida",value:i.mazeExitColor||"",onChange:u=>r("mazeExitColor",u),inputId:"levelscreen-maze-exit"}),h.jsx(Le,{label:"Color Cam Recorregut",value:i.playerPathColor||"",onChange:u=>r("playerPathColor",u),inputId:"levelscreen-maze-path-help"}),h.jsx(Le,{label:"Color Ajuda Xoc",value:i.crashHelpColor||"",onChange:u=>r("crashHelpColor",u),inputId:"levelscreen-maze-crash-help"}),h.jsx(Uw,{label:"Gruix de la Paret (px)",value:i.mazeWallThickness||3,onChange:u=>r("mazeWallThickness",u),inputId:"levelscreen-maze-thickness",min:1,max:10,step:.5})]})]})}const An={container:{display:"flex",flexDirection:"column",gap:"20px"},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},column:{display:"flex",flexDirection:"column",gap:"16px"},settingGroup:{display:"flex",flexDirection:"column",gap:"6px"},gradientGroup:{display:"flex",flexDirection:"column",gap:"10px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},mazeGroup:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`,alignItems:"flex-end"},numberInput:{padding:"8px 12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`,background:"rgba(10, 25, 47, 0.7)",color:q.text,fontSize:"0.875rem",width:"100%",boxSizing:"border-box"}},Lw="easy-level-1",Hw=1,$w="easy",Vw=[[{walls:{top:!0,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!0,bottom:!1,left:!1}}],[{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!0}}],[{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!1}}],[{walls:{top:!0,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}},{walls:{top:!1,right:!0,bottom:!1,left:!0}}],[{walls:{top:!1,right:!1,bottom:!1,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!1,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!0}}],[{walls:{top:!1,right:!0,bottom:!1,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!0}},{walls:{top:!1,right:!0,bottom:!0,left:!1}},{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!0,bottom:!1,left:!1}}],[{walls:{top:!1,right:!1,bottom:!0,left:!0}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!0,right:!1,bottom:!0,left:!1}},{walls:{top:!1,right:!0,bottom:!0,left:!1}}]],qw=7,Gw=7,Iw=10,Pw=[60,45,30],Yw={x:0,y:0},Kw={x:6,y:6},Ty={id:Lw,number:Hw,difficulty:$w,maze:Vw,width:qw,height:Gw,memorizeTime:Iw,starThresholds:Pw,start:Yw,exit:Kw},Dc=Ty,Jw={x:2,y:2},Qw=[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2}];function p0({settings:i}){const r=j.useMemo(()=>({pagePreview:{background:i.backgroundColor,color:i.textColor,padding:"16px",borderRadius:"8px",height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"10px",overflow:"hidden",position:"relative",boxSizing:"border-box"},headerPreview:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"10px",flexShrink:0},headerBtn:{background:i.surfaceColor,color:i.textColor,border:`1px solid ${i.borderColor}`,borderRadius:"6px",padding:"4px 6px",display:"flex",alignItems:"center",gap:"4px"},headerTitle:{fontSize:"14px",fontWeight:700,margin:0},memorizePanel:{background:`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,borderRadius:"8px",padding:"8px 12px",textAlign:"center",flexShrink:0},memorizeTitle:{fontSize:"12px",fontWeight:600,margin:0,opacity:.9},memorizeTime:{fontSize:"24px",fontWeight:800,margin:"2px 0"},hudPreview:{display:"flex",gap:"6px",flexShrink:0},hudCard:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",padding:"6px 8px",flex:1},hudLabel:{fontSize:"10px",color:i.subtextColor,marginBottom:"2px"},hudValue:{fontSize:"14px",fontWeight:700},helpButton:{background:"rgba(255,255,255,0.1)",border:`1px solid ${i.borderColor}`,color:i.subtextColor,borderRadius:"6px",padding:"4px",fontSize:"10px",display:"flex",gap:"4px",alignItems:"center"},helpActive:{background:i.easyColor,color:"#000",borderColor:"transparent"},mazeWrap:{flexGrow:1,minHeight:0,background:i.mazePathColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",position:"relative",overflow:"hidden"}}),[i]);return h.jsxs("div",{style:r.pagePreview,children:[h.jsxs("div",{style:r.headerPreview,children:[h.jsxs("div",{style:r.headerBtn,children:[h.jsx(Cr,{size:10})," Nivells"]}),h.jsxs("h1",{style:r.headerTitle,children:["Nivell ",Dc.number]}),h.jsxs("div",{style:r.headerBtn,children:[h.jsx(q1,{size:10})," Reintentar"]})]}),h.jsxs("div",{style:r.memorizePanel,children:[h.jsx("h2",{style:r.memorizeTitle,children:" Memoritza el Laberint!"}),h.jsx("div",{style:r.memorizeTime,children:Dc.memorizeTime})]}),h.jsxs("div",{style:r.hudPreview,children:[h.jsxs("div",{style:r.hudCard,children:[h.jsx("div",{style:r.hudLabel,children:" Temps"}),h.jsx("div",{style:r.hudValue,children:"0:00"})]}),h.jsxs("div",{style:r.hudCard,children:[h.jsx("div",{style:r.hudLabel,children:" Objectiu"}),h.jsx("div",{style:r.hudValue,children:"1000"})]}),h.jsxs("div",{style:{...r.hudCard,padding:"6px",display:"flex",gap:"4px"},children:[h.jsx("div",{style:{...r.helpButton,...r.helpActive},children:h.jsx(Fa,{size:10})}),h.jsx("div",{style:r.helpButton,children:h.jsx(Xs,{size:10})})]})]}),h.jsx("div",{style:r.mazeWrap,children:h.jsx(dd,{level:Dc,phase:"playing",playerPos:Jw,showReveal:!0,showPlayerPath:!0,forcePathHistory:Qw,settings:{path_color:i.mazePathColor,wall_color:i.mazeWallColor,wall_thickness:i.mazeWallThickness,exit_color:i.mazeExitColor,player_color:i.mazePlayerColor,player_path_color:i.playerPathColor,crash_help_color:i.crashHelpColor}})})]})}function Xw({settings:i}){const r={container:{width:"100%",color:i.textColor},title:{fontSize:"1rem",fontWeight:600,margin:"0 0 12px 0",color:i.textColor},list:{listStyle:"none",padding:0,margin:0,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px 16px",alignItems:"start"},item:{display:"flex",alignItems:"center",gap:"10px",fontSize:"0.875rem",color:i.subtextColor},swatch:{width:"24px",height:"24px",borderRadius:"4px",border:`1px solid ${i.borderColor}`,flexShrink:0,boxSizing:"border-box"}};return h.jsxs("div",{style:r.container,children:[h.jsx("h4",{style:r.title,children:"Llegenda"}),h.jsxs("ul",{style:r.list,children:[h.jsxs("li",{style:r.item,children:[h.jsx("div",{style:{...r.swatch,background:i.mazePathColor,border:`${Math.max(2,(i.mazeWallThickness||3)/1.5)}px solid ${i.mazeWallColor}`}}),h.jsx("span",{children:"Parets del laberint"})]}),h.jsxs("li",{style:r.item,children:[h.jsx("div",{style:{...r.swatch,backgroundColor:i.mazePlayerColor,borderRadius:"50%"}}),h.jsx("span",{children:"Tu (jugador)"})]}),h.jsxs("li",{style:r.item,children:[h.jsx("div",{style:{...r.swatch,backgroundColor:i.mazeExitColor}}),h.jsx("span",{children:"Sortida del laberint"})]}),h.jsxs("li",{style:r.item,children:[h.jsx("div",{style:{...r.swatch,backgroundColor:i.mazePathColor}}),h.jsx("span",{children:"Fons/cam del laberint"})]})]})]})}const Ww=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function Qr({label:i,value:r,onChange:l,isError:s=!1}){const[c,u]=j.useState(!1),f=j.useRef(null);return j.useEffect(()=>{if(!c)return;const p=g=>{g.preventDefault(),g.stopPropagation(),g.key==="Escape"?u(!1):g.key!=="Shift"&&g.key!=="Control"&&g.key!=="Alt"&&g.key!=="Meta"&&(l(g.key.toLowerCase()),u(!1))},y=g=>{f.current&&!f.current.contains(g.target)&&u(!1)};return document.addEventListener("keydown",p,!0),document.addEventListener("mousedown",y,!0),()=>{document.removeEventListener("keydown",p,!0),document.removeEventListener("mousedown",y,!0)}},[c,l]),h.jsxs("div",{style:{...Fl.container,borderColor:s?q.hardRed:q.borderColor},children:[h.jsx("label",{style:Fl.label,children:i}),h.jsx("button",{ref:f,onClick:()=>u(!0),style:{...Fl.button,...c?Fl.buttonListening:{},...s?Fl.buttonError:{}},children:c?"Prement una tecla...":Ww(r)})]})}const Fl={container:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(10, 25, 47, 0.7)",padding:"8px 12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},label:{fontSize:"0.875rem",fontWeight:500,color:q.subtext},button:{fontFamily:"monospace",fontSize:"0.875rem",fontWeight:700,color:q.text,background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:"4px",padding:"6px 12px",minWidth:"100px",textAlign:"center",cursor:"pointer"},buttonListening:{color:q.accentPink,borderColor:q.accentPink,outline:"none"},buttonError:{color:q.hardRed,borderColor:q.hardRed}},g0=({label:i,checked:r,onChange:l})=>h.jsxs("label",{style:St.toggleContainer,children:[h.jsx("span",{style:St.toggleLabel,children:i}),h.jsx("button",{role:"switch","aria-checked":r,onClick:()=>l(!r),style:{...St.toggleSwitch,...r?St.toggleOn:St.toggleOff},children:h.jsx("span",{style:{...St.toggleKnob,...r?St.knobOn:St.knobOff}})})]}),Fw=["keyMoveUp","keyMoveDown","keyMoveLeft","keyMoveRight","keyHelpReveal","keyHelpPath","keyHelpCrash"];function Zw({settings:i,onChange:r}){const l=j.useMemo(()=>{const s=new Map;for(const u of Fw){const f=i[u];s.has(f)||s.set(f,[]),s.get(f).push(u)}const c=new Set;for(const u of s.values())u.length>1&&u.forEach(f=>c.add(f));return c},[i]);return h.jsxs("div",{style:St.container,children:[h.jsx("h4",{style:St.title,children:"Configuraci de So"}),h.jsxs("div",{style:St.group,children:[h.jsx(g0,{label:"Efectes de So (SFX)",checked:i.soundEffects,onChange:s=>r("soundEffects",s)}),h.jsx(g0,{label:"Msica de Fons",checked:i.backgroundMusic,onChange:s=>r("backgroundMusic",s)})]}),h.jsx("h4",{style:St.title,children:"Controls de Moviment (Lletres)"}),h.jsxs("div",{style:St.keyGrid,children:[h.jsx(Qr,{label:"Amunt",value:i.keyMoveUp,onChange:s=>r("keyMoveUp",s),isError:l.has("keyMoveUp")}),h.jsx(Qr,{label:"Avall",value:i.keyMoveDown,onChange:s=>r("keyMoveDown",s),isError:l.has("keyMoveDown")}),h.jsx(Qr,{label:"Esquerra",value:i.keyMoveLeft,onChange:s=>r("keyMoveLeft",s),isError:l.has("keyMoveLeft")}),h.jsx(Qr,{label:"Dreta",value:i.keyMoveRight,onChange:s=>r("keyMoveRight",s),isError:l.has("keyMoveRight")})]}),h.jsx("p",{style:St.note,children:"Nota: Les tecles de fletxa (, , , ) sempre funcionaran a ms d'aquestes."}),h.jsx("h4",{style:St.title,children:"Controls d'Ajuda"}),h.jsxs("div",{style:St.keyGrid,children:[h.jsx(Qr,{label:"Revelar Laberint",value:i.keyHelpReveal,onChange:s=>r("keyHelpReveal",s),isError:l.has("keyHelpReveal")}),h.jsx(Qr,{label:"Mostrar Cam",value:i.keyHelpPath,onChange:s=>r("keyHelpPath",s),isError:l.has("keyHelpPath")}),h.jsx(Qr,{label:"Ajuda Xoc",value:i.keyHelpCrash,onChange:s=>r("keyHelpCrash",s),isError:l.has("keyHelpCrash")})]}),l.size>0&&h.jsx("p",{style:St.errorText,children:"Error: Hi ha tecles duplicades. Cada acci ha de tenir una tecla nica."})]})}const St={container:{display:"flex",flexDirection:"column",gap:"16px"},title:{fontSize:"1rem",fontWeight:600,color:q.text,margin:"8px 0 0 0",borderTop:`1px solid ${q.borderColor}`,paddingTop:"16px"},group:{display:"flex",flexDirection:"column",gap:"12px"},keyGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},note:{fontSize:"0.8rem",color:q.subtext,margin:"0 0 8px 0",fontStyle:"italic"},toggleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(10, 25, 47, 0.7)",padding:"12px",borderRadius:"6px",border:`1px solid ${q.borderColor}`},toggleLabel:{fontSize:"0.875rem",fontWeight:500,color:q.text},toggleSwitch:{position:"relative",width:"44px",height:"24px",borderRadius:"99px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},toggleOn:{background:q.easyGreen},toggleOff:{background:q.surface},toggleKnob:{position:"absolute",top:"2px",width:"20px",height:"20px",background:"white",borderRadius:"50%",transition:"transform 0.2s ease"},knobOn:{transform:"translateX(2px)"},knobOff:{transform:"translateX(-20px)"},errorText:{color:q.hardRed,background:"rgba(248, 113, 113, 0.1)",border:`1px solid ${q.hardRed}`,borderRadius:"6px",padding:"10px 12px",fontSize:"0.875rem",fontWeight:500,margin:"8px 0 0 0"}},e2=["keyMoveUp","keyMoveDown","keyMoveLeft","keyMoveRight","keyHelpReveal","keyHelpPath","keyHelpCrash"];function t2({onBack:i}){const r=on(),{settings:l,updateSettings:s}=wt(),[c,u]=j.useState(()=>JSON.parse(JSON.stringify(l))),[f,p]=j.useState(null),[y,g]=j.useState("home"),[x,S]=j.useState(!1),T=wg.useRef(null),[A,R]=j.useState(!1),U=j.useMemo(()=>{try{return JSON.stringify(l)!==JSON.stringify(c)}catch{return!1}},[l,c]),_=()=>{if(U){R(!0);return}r.playFail(),i()},N=()=>{X(),R(!1),setTimeout(()=>i(),180)},O=()=>{R(!1),u(JSON.parse(JSON.stringify(l))),setTimeout(()=>i(),60)},Y=j.useMemo(()=>{const J=new Map;for(const W of e2){const de=c.game[W];J.has(de)||J.set(de,[]),J.get(de).push(W)}const K=new Set;for(const W of J.values())W.length>1&&W.forEach(de=>K.add(de));return K},[c.game]),X=j.useCallback(()=>{if(Y.size>0){p("game"),g("game");return}s(c),r.playFail(),S(!0),T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>{S(!1),T.current=null},1500)},[c,s,r]);wg.useEffect(()=>()=>{T.current&&window.clearTimeout(T.current)},[]);const ne=j.useCallback((J,K)=>{u(W=>{const de=J.split("."),fe=JSON.parse(JSON.stringify(W));let me=fe;for(let B=0;B<de.length-1;B++)if(me=me[de[B]],!me)return W;return me[de[de.length-1]]=K,fe})},[]),Z=J=>{p(K=>{const W=K===J?null:J;return W===J&&g(J),W}),r.playSlide()},H=(J,K,W)=>{ne(`visuals.${J}.${K}`,W)},ye=(J,K)=>{ne(`game.${J}`,K)},pe=j.useCallback(J=>{r.playBtnSound();const K=Dg[J];K&&u(W=>({...W,visuals:{home:{...W.visuals.home,...K},levelSelect:{...W.visuals.levelSelect,...K},levelScreen:{...W.visuals.levelScreen,...K}}}))},[]);return h.jsxs("div",{style:Ie.page,children:[h.jsxs("header",{style:Ie.header,children:[h.jsxs("button",{onClick:_,style:Ie.backButton,"aria-label":"Tornar",onMouseEnter:()=>r.playHover(),children:[h.jsx(Cr,{size:20})," Tornar"]}),h.jsx("h1",{style:Ie.title,children:"Configuraci i Accessibilitat"}),h.jsx("div",{style:{width:100}})]}),h.jsxs("div",{style:Ie.contentGrid,children:[h.jsxs("div",{style:Ie.accordionColumn,children:[h.jsxs("section",{style:Ie.presetsSection,children:[h.jsx("h3",{style:Ie.presetsTitle,children:"Temes Predefinits"}),h.jsx("div",{style:Ie.presetsGrid,children:Object.keys(Dg).map(J=>h.jsx("button",{style:Ie.presetButton,onClick:()=>pe(J),onMouseEnter:()=>r.playHover(),children:J},J))})]}),h.jsxs("div",{style:Ie.accordionItem,children:[h.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Z("home"),"aria-expanded":f==="home",children:[h.jsx("span",{children:" Pantalla d'Inici"}),f==="home"?h.jsx(Ts,{size:20}):h.jsx(js,{size:20})]}),f==="home"&&h.jsx("div",{style:Ie.accordionContent,children:h.jsx(Ow,{settings:c.visuals.home,onChange:(J,K)=>H("home",J,K)})})]}),h.jsxs("div",{style:Ie.accordionItem,children:[h.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Z("levelSelect"),"aria-expanded":f==="levelSelect",children:[h.jsx("span",{children:" Selecci de Nivell"}),f==="levelSelect"?h.jsx(Ts,{size:20}):h.jsx(js,{size:20})]}),f==="levelSelect"&&h.jsx("div",{style:Ie.accordionContent,children:h.jsx(Dw,{settings:c.visuals.levelSelect,onChange:(J,K)=>H("levelSelect",J,K)})})]}),h.jsxs("div",{style:Ie.accordionItem,children:[h.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Z("levelScreen"),"aria-expanded":f==="levelScreen",children:[h.jsx("span",{children:" Pantalla de Joc"}),f==="levelScreen"?h.jsx(Ts,{size:20}):h.jsx(js,{size:20})]}),f==="levelScreen"&&h.jsx("div",{style:Ie.accordionContent,children:h.jsx(Nw,{settings:c.visuals.levelScreen,onChange:(J,K)=>H("levelScreen",J,K)})})]}),h.jsxs("div",{style:Ie.accordionItem,children:[h.jsxs("button",{style:Ie.accordionHeader,onClick:()=>Z("game"),"aria-expanded":f==="game",children:[h.jsx("span",{children:" Configuraci de Joc"}),f==="game"?h.jsx(Ts,{size:20}):h.jsx(js,{size:20})]}),f==="game"&&h.jsx("div",{style:Ie.accordionContent,children:h.jsx(Zw,{settings:c.game,onChange:ye})})]}),h.jsxs("button",{onClick:X,style:Ie.saveButton,onMouseEnter:()=>r.playHover(),children:[h.jsx(I1,{size:18})," Desar Configuraci"]}),x&&h.jsx("div",{role:"status","aria-live":"polite",style:{textAlign:"center",color:"#059669",marginTop:8,fontWeight:700},children:"Configuraci seleccionada aplicada correctament!"})]}),h.jsxs("aside",{style:Ie.previewColumn,"aria-label":"Vista prvia en temps real",children:[h.jsx("div",{style:Ie.previewHeader,children:h.jsx("span",{children:"Vista Prvia en Temps Real"})}),h.jsxs("div",{style:Ie.previewContent,children:[y==="home"&&h.jsx(Mw,{settings:c.visuals.home}),y==="levelSelect"&&h.jsx(Bw,{settings:c.visuals.levelSelect}),y==="levelScreen"&&h.jsx(p0,{settings:c.visuals.levelScreen}),y==="game"&&h.jsx(p0,{settings:c.visuals.levelScreen}),!y&&h.jsx("p",{style:{color:q.subtext,fontStyle:"italic"},children:"Selecciona una secci per veure la previsualitzaci."})]}),h.jsx("div",{style:Ie.legend,children:y==="levelScreen"||y==="game"?h.jsx(Xw,{settings:c.visuals.levelScreen}):h.jsx("p",{children:"Pgina sense llegenda"})})]})]}),A&&h.jsx("div",{style:{position:"fixed",inset:0,display:"grid",placeItems:"center",background:"rgba(0,0,0,0.66)",zIndex:60},children:h.jsxs("div",{style:{width:"min(560px, 92%)",background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:12,padding:20,boxShadow:q.shadow},role:"dialog","aria-modal":"true",children:[h.jsx("h3",{style:{margin:0,marginBottom:8},children:"Tens canvis no desats"}),h.jsx("p",{style:{marginTop:0,color:q.subtext},children:"Vols desar els canvis abans de sortir?"}),h.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:16},children:[h.jsx("button",{onClick:()=>R(!1),style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${q.borderColor}`,background:"transparent",color:q.text},children:"Cancellar"}),h.jsx("button",{onClick:O,style:{padding:"8px 12px",borderRadius:8,border:`1px solid ${q.borderColor}`,background:"transparent",color:q.text},children:"Descartar i sortir"}),h.jsx("button",{onClick:N,style:{padding:"8px 12px",borderRadius:8,border:"none",background:q.easyGreen,color:"#0A192F",fontWeight:700},children:"Desar i sortir"})]})]})})]})}const Ie={page:{minHeight:"100svh",width:"100%",margin:0,background:q.bg,color:q.text,padding:"clamp(16px, 3vw, 24px)",boxSizing:"border-box"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",width:"100%",maxWidth:"1400px",margin:"0 auto 24px"},backButton:{padding:"10px 14px",borderRadius:12,border:q.borderColor,background:q.surface,color:q.text,cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",gap:"6px",width:100},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},contentGrid:{display:"grid",gridTemplateColumns:"minmax(400px, 3fr) minmax(300px, 2fr)",gap:"clamp(24px, 4vw, 40px)",width:"100%",maxWidth:"1400px",margin:"0 auto"},presetsSection:{display:"flex",flexDirection:"column",gap:"12px"},presetsTitle:{fontSize:"1.125rem",fontWeight:600,margin:0,color:q.accentCyan},presetsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},presetButton:{padding:"12px",borderRadius:"8px",border:`1px solid ${q.borderColor}`,background:"rgba(255, 255, 255, 0.06)",color:q.text,fontSize:"0.875rem",fontWeight:500,cursor:"pointer",textAlign:"center",transition:"background 0.2s ease"},accordionColumn:{background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:16,padding:"clamp(16px, 3vw, 24px)",boxShadow:q.shadow,display:"flex",flexDirection:"column",gap:"12px"},accordionItem:{borderBottom:`1px solid ${q.borderColor}`,paddingBottom:"12px"},accordionHeader:{background:"none",border:"none",color:q.text,fontSize:"1rem",fontWeight:600,cursor:"pointer",padding:"8px 0",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left"},accordionContent:{padding:"16px 4px 4px 4px",borderTop:`1px dashed ${q.borderColor}`,marginTop:"8px"},previewColumn:{borderRadius:16,display:"flex",flexDirection:"column",gap:"16px",position:"sticky",top:"24px",maxHeight:"calc(100vh - 48px)",overflow:"hidden"},previewHeader:{background:`linear-gradient(90deg, ${q.accentPink}, ${q.accentViolet})`,color:"#fff",padding:"12px 16px",borderRadius:"12px 12px 0 0",fontWeight:600},previewContent:{flexGrow:1,background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:"0 0 12px 12px",display:"grid",placeItems:"center",padding:"16px",minHeight:"300px"},legend:{background:q.surface,border:`1px solid ${q.borderColor}`,borderRadius:12,padding:"16px",fontSize:14,color:q.subtext},saveButton:{padding:"14px",borderRadius:10,border:"none",background:q.easyGreen,color:"#0A192F",fontSize:16,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"auto"}},Bc=(i,r,l)=>Math.max(r,Math.min(l,i));function n2({onBack:i,onStartGame:r}){const{getVisualSettings:l}=wt(),s=l("levelSelect"),[c,u]=j.useState("7"),[f,p]=j.useState("7"),[y,g]=j.useState("10"),[x,S]=j.useState("normal"),T=()=>{const R=parseInt(c,10),U=parseInt(f,10),_=parseInt(y,10),N=!Number.isNaN(R)&&R>=5&&R<=25,O=!Number.isNaN(U)&&U>=5&&U<=25,Y=!Number.isNaN(_)&&_>=3&&_<=60;if(!N||!O||!Y)return;const X={width:Bc(R,5,25),height:Bc(U,5,25),time:Bc(_,3,60),difficulty:x};r(X)},A=j.useMemo(()=>({page:{background:s.backgroundColor,color:s.textColor,minHeight:"100svh",width:"100vw",padding:"clamp(16px, 4vw, 32px)",boxSizing:"border-box"},container:{maxWidth:600,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},title:{margin:0,fontSize:"clamp(24px, 5vw, 32px)"},backBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${s.borderColor}`,background:s.surfaceColor,color:s.textColor,cursor:"pointer",fontSize:16},form:{display:"flex",flexDirection:"column",gap:"16px",background:s.surfaceColor,padding:"24px",borderRadius:"16px",border:`1px solid ${s.borderColor}`},label:{fontSize:14,color:s.subtextColor,marginBottom:4},input:{background:"rgba(0,0,0,0.2)",border:`1px solid ${s.borderColor}`,color:s.textColor,padding:"12px",borderRadius:"8px",fontSize:16,width:"100%",boxSizing:"border-box"},select:{background:"rgba(0,0,0,0.2)",border:`1px solid ${s.borderColor}`,color:s.textColor,padding:"12px",borderRadius:"8px",fontSize:16,width:"100%",boxSizing:"border-box"},playBtn:{padding:"16px",borderRadius:12,border:"none",background:`linear-gradient(90deg, ${s.accentColor1}, ${s.accentColor2})`,color:s.textColor,fontSize:18,fontWeight:800,cursor:"pointer",marginTop:"16px"}}),[s]);return h.jsx("main",{style:A.page,children:h.jsxs("div",{style:A.container,children:[h.jsxs("header",{style:A.header,children:[h.jsxs("button",{style:A.backBtn,onClick:i,"aria-label":"Tornar a selecci de nivell",children:[h.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),h.jsx("h1",{style:A.title,children:"Mode Lliure"}),h.jsx("div",{style:{width:100}})]}),h.jsxs("div",{style:A.form,children:[h.jsxs("div",{children:[h.jsx("label",{style:A.label,htmlFor:"width",children:"Amplada (Min: 5, Max: 25)"}),(()=>{const R=parseInt(c,10),U=!Number.isNaN(R)&&R>=5&&R<=25,_=c.trim()!==""&&!U,N={...A.input,border:`1px solid ${_?"#ef4444":s.borderColor}`};return h.jsxs(h.Fragment,{children:[h.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":_,"aria-describedby":_?"width-error":void 0,style:N,type:"text",id:"width",value:c,onChange:O=>u(O.target.value)}),_&&h.jsx("div",{id:"width-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Amplada invlida  ha de ser entre 5 i 25."})]})})()]}),h.jsxs("div",{children:[h.jsx("label",{style:A.label,htmlFor:"height",children:"Alada (Min: 5, Max: 25)"}),(()=>{const R=parseInt(f,10),U=!Number.isNaN(R)&&R>=5&&R<=25,_=f.trim()!==""&&!U,N={...A.input,border:`1px solid ${_?"#ef4444":s.borderColor}`};return h.jsxs(h.Fragment,{children:[h.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":_,"aria-describedby":_?"height-error":void 0,style:N,type:"text",id:"height",value:f,onChange:O=>p(O.target.value)}),_&&h.jsx("div",{id:"height-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Alada invlida  ha de ser entre 5 i 25."})]})})()]}),h.jsxs("div",{children:[h.jsx("label",{style:A.label,htmlFor:"time",children:"Temps de Memoritzaci (Min: 3, Max: 60)"}),(()=>{const R=parseInt(y,10),U=!Number.isNaN(R)&&R>=3&&R<=60,_=y.trim()!==""&&!U,N={...A.input,border:`1px solid ${_?"#ef4444":s.borderColor}`};return h.jsxs(h.Fragment,{children:[h.jsx("input",{inputMode:"numeric",pattern:"[0-9]*","aria-invalid":_,"aria-describedby":_?"time-error":void 0,style:N,type:"text",id:"time",value:y,onChange:O=>g(O.target.value)}),_&&h.jsx("div",{id:"time-error",style:{marginTop:6,color:"#ef4444",fontSize:13},children:"Temps invlid  ha de ser entre 3 i 60 segons."})]})})()]}),h.jsxs("div",{children:[h.jsx("label",{style:A.label,htmlFor:"difficulty",children:"Dificultat"}),h.jsxs("select",{id:"difficulty",style:A.select,value:x,onChange:R=>S(R.target.value),children:[h.jsx("option",{value:"normal",children:"Normal (Sense vides)"}),h.jsx("option",{value:"hard",children:"Difcil (Amb vides)"})]})]}),(()=>{const R=parseInt(c,10),U=parseInt(f,10),_=parseInt(y,10),N=!Number.isNaN(R)&&R>=5&&R<=25,O=!Number.isNaN(U)&&U>=5&&U<=25,Y=!Number.isNaN(_)&&_>=3&&_<=60,X=c.trim()!==""&&f.trim()!==""&&y.trim()!==""&&N&&O&&Y;return h.jsx("button",{style:{...A.playBtn,opacity:X?1:.5,cursor:X?"pointer":"not-allowed"},onClick:T,disabled:!X,"aria-disabled":!X,title:X?"Jugar":"Corregeix valors invlids abans de jugar",children:"Jugar"})})()]})]})})}const Vs=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function r2({totalScore:i,revealCharges:r,isPathHelpActive:l,onRevealHelp:s,onTogglePathHelp:c,lives:u}){const{getVisualSettings:f,settings:p}=wt(),y=f("levelScreen"),{game:g}=p,x={container:{display:"flex",flexWrap:"wrap",gap:"12px",width:"100%",alignItems:"stretch"},card:{background:y.surfaceColor,border:`1px solid ${y.borderColor}`,borderRadius:14,padding:"12px 16px",color:y.textColor,display:"flex",flexDirection:"column",gap:"4px",flexGrow:1,flexBasis:"180px"},helpsCard:{flexDirection:"row",flexWrap:"wrap",gap:"8px",flexBasis:"300px",justifyContent:"center",alignItems:"center"},label:{fontSize:14,color:y.subtextColor,display:"flex",alignItems:"center",gap:"4px",fontWeight:500},valueLarge:{fontSize:"clamp(24px, 4vw, 32px)",fontWeight:700,lineHeight:1},stars:{color:y.normalColor},helpButton:{background:"rgba(255,255,255,0.08)",border:`1px solid ${y.borderColor}`,color:y.subtextColor,padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:13,fontWeight:600,flexGrow:1},helpActive:{background:y.easyColor,color:"#000",borderColor:"transparent"},livesText:{fontSize:"clamp(20px, 4vw, 28px)",fontWeight:700,lineHeight:1,letterSpacing:"0.1em"}};return h.jsxs("div",{style:x.container,children:[h.jsxs("div",{style:x.card,children:[h.jsx("span",{style:x.label,children:" Puntuaci Total"}),h.jsx("span",{style:x.valueLarge,children:Math.round(i)})]}),h.jsxs("div",{style:x.card,children:[h.jsx("span",{style:x.label,children:" Vides"}),h.jsxs("span",{style:x.livesText,"aria-label":`${u} vides restants`,children:["".repeat(u),"".repeat(Math.max(0,3-u))]})]}),h.jsxs("div",{style:{...x.card,...x.helpsCard},children:[h.jsxs("button",{style:x.helpButton,onClick:s,disabled:r===0,title:`Mostra el laberint (${Vs(g.keyHelpReveal)}) | Cost: 50 pts`,children:[h.jsx(Fa,{size:18}),h.jsxs("span",{children:["Revelar (",r,")"]}),h.jsx("kbd",{children:Vs(g.keyHelpReveal)})]}),h.jsxs("button",{style:{...x.helpButton,...l?x.helpActive:{}},onClick:c,title:`Mostra el cam recorregut (${Vs(g.keyHelpPath)}) | Cost: -2 pts/s`,children:[h.jsx(Xs,{size:18}),h.jsx("span",{children:"Cam"}),h.jsx("kbd",{children:Vs(g.keyHelpPath)})]})]})]})}const a2=i=>{const r=`linear-gradient(90deg, ${i.accentColor1}, ${i.accentColor2})`,l=Fe(i.textColor,.08);return{overlay:{position:"fixed",inset:0,background:Fe(i.textColor,.75),backdropFilter:"blur(8px)",display:"grid",placeItems:"center",zIndex:50},modalContent:{background:i.surfaceColor,border:`1px solid ${i.borderColor}`,borderRadius:16,padding:"clamp(24px, 5vw, 40px)",color:i.textColor,width:"min(500px, 90vw)",boxShadow:"0 10px 30px rgba(0,0,0,0.45)",textAlign:"center",display:"flex",flexDirection:"column",gap:"24px"},successIcon:{color:i.easyColor,marginBottom:"-16px"},title:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:700,margin:0,color:i.easyColor},results:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",borderTop:`1px solid ${i.borderColor}`,borderBottom:`1px solid ${i.borderColor}`,padding:"20px 0"},resultItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},resultLabel:{fontSize:14,color:i.subtextColor,textTransform:"uppercase"},resultValue:{fontSize:"clamp(20px, 4vw, 26px)",fontWeight:600},actions:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},retryButton:{padding:"14px",borderRadius:"10px",border:"none",background:r,color:"#fff",fontSize:"18px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},backButton:{padding:"14px",borderRadius:"10px",border:`1px solid ${i.borderColor}`,background:l,color:i.textColor,fontSize:"18px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}};function l2({levelNumber:i,pointsGained:r,totalScore:l,onNextLevel:s,onBack:c}){const u=on(),{getVisualSettings:f}=wt(),p=f("levelScreen"),y=j.useMemo(()=>a2(p),[p]);return h.jsx("div",{style:y.overlay,children:h.jsxs("div",{style:y.modalContent,role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:[h.jsx("div",{style:y.successIcon,children:h.jsx(sd,{size:56})}),h.jsxs("h2",{id:"modalTitle",style:y.title,children:["Nivell ",i+1," Superat!"]}),h.jsxs("div",{style:y.results,children:[h.jsxs("div",{style:y.resultItem,children:[h.jsx("span",{style:y.resultLabel,children:"Punts Aconseguits"}),h.jsxs("span",{style:y.resultValue,children:["+",Math.round(r)]})]}),h.jsxs("div",{style:y.resultItem,children:[h.jsx("span",{style:y.resultLabel,children:"Puntuaci Total"}),h.jsx("span",{style:y.resultValue,children:Math.round(l)})]})]}),h.jsxs("div",{style:y.actions,children:[h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.retryButton,onClick:s,children:["Segent Nivell ",h.jsx(id,{size:18})]}),h.jsxs("button",{onMouseEnter:()=>u.playHover(),style:y.backButton,onClick:c,children:[h.jsx(Cr,{size:18})," Tornar al Men"]})]})]})})}const i2=500,y0=3,m0=[{w:3,h:3},{w:3,h:4},{w:4,h:4},{w:4,h:5},{w:5,h:5},{w:5,h:6},{w:6,h:6},{w:6,h:7},{w:7,h:7},{w:7,h:8},{w:8,h:8},{w:8,h:9},{w:9,h:9},{w:10,h:10},{w:12,h:12},{w:15,h:15},{w:18,h:18},{w:20,h:20}];function Uc(i){const r=Math.min(i-1,m0.length-1),{w:l,h:s}=m0[r],c=l*s,u=Math.min(18,Math.max(5,Math.round(c/6)));return{width:l,height:s,memorizeTime:u}}function Nc(i){const r=Math.floor((i-1)/3),l=Math.min(r,6),s=400+l*200,c=.4+l*.15,u=1+l*.5,f=25+l*10;return{baseScore:s,timeLossPerSecond:c,pathHelpLossPerSecond:u,revealCost:f}}const qs=i=>i===" "?"Espai":i.length===1?i.toUpperCase():i;function s2({onBack:i}){const r=on(),{getVisualSettings:l,settings:s}=wt(),{user:c}=Zs(),u=l("levelScreen"),{keyMoveUp:f,keyMoveDown:p,keyMoveLeft:y,keyMoveRight:g}=s.game,[x,S]=j.useState(1),[T,A]=j.useState(0),[R,U]=j.useState(()=>li()),[_,N]=j.useState(()=>{const le=Uc(1);return Xa({levelNumber:1,difficulty:"normal",width:le.width,height:le.height,memorizeTime:le.memorizeTime,stars:[60,45,30]})}),[O,Y]=j.useState(0),[X,ne]=j.useState(()=>Nc(1)),Z=_.memorizeTime,[H,ye]=j.useState("memorize"),[pe,J]=j.useState(Z),K=j.useRef(Z),[W,de]=j.useState({x:_.start.x,y:_.start.y}),[fe,me]=j.useState([{x:_.start.x,y:_.start.y}]),[B,Q]=j.useState(0),[oe,Ce]=j.useState(()=>X.baseScore),[_e,v]=j.useState(y0),[C,V]=j.useState(3),[I,F]=j.useState(!1),[ee,ae]=j.useState(!1),[Ae,xe]=j.useState(!1),[un,Pt]=j.useState(null),[Kn,Jn]=j.useState(!1),Yt=j.useMemo(()=>{const le=K.current-pe;return Math.min(100,Math.max(0,le/K.current*100))},[pe]),Kt=j.useCallback((le,Qe)=>{ye("memorize"),J(le.memorizeTime),K.current=le.memorizeTime,de({x:le.start.x,y:le.start.y}),me([{x:le.start.x,y:le.start.y}]),Q(0),Ce(Qe.baseScore),v(y0),V(3),F(!1),ae(!1),Pt(null),xe(!1)},[]);j.useEffect(()=>{if(H!=="memorize")return;const Qe=setInterval(()=>{J(te=>te<=1?(clearInterval(Qe),r.playStart(),ye("playing"),de({x:_.start.x,y:_.start.y}),0):(te<=4?r.playTickFinal():r.playTick(),te-1))},1e3);return()=>clearInterval(Qe)},[H,_.start.x,_.start.y,r]);const xn=j.useRef(I);j.useEffect(()=>{xn.current=I},[I]);const Er=j.useRef(ee);j.useEffect(()=>{Er.current=ee},[ee]),j.useEffect(()=>{if(H==="playing")return r.startMusic(),()=>r.stopMusic();r.stopMusic()},[H,r]),j.useEffect(()=>{if(H!=="playing")return;const le=setInterval(()=>{Q(Qe=>Qe+1),Ce(Qe=>{let te=X.timeLossPerSecond;return xn.current&&(te+=X.pathHelpLossPerSecond),Math.max(0,Qe-te)})},1e3);return()=>clearInterval(le)},[H,X]);const cn=j.useCallback(()=>{H!=="playing"||C<=0||Ae||(r.playReveal(),V(le=>le-1),Ce(le=>Math.max(0,le-X.revealCost)),xe(!0),setTimeout(()=>xe(!1),i2))},[H,C,Ae,r,X]),Jt=j.useCallback(()=>{H==="playing"&&F(le=>(le?r.playToggleOff():r.playToggleOn(),!le))},[H,r]),Qn=j.useCallback(()=>{H==="playing"&&ae(le=>(le?r.playToggleOff():r.playToggleOn(),!le))},[H,r]),En=j.useCallback(()=>{r.playFail(),r.stopMusic(),i()},[r,i]),nl=j.useCallback(()=>{r.playFail(),r.stopMusic(),A(0),S(1),U(li());const le=Uc(1),Qe=Xa({levelNumber:1,difficulty:"normal",width:le.width,height:le.height,memorizeTime:le.memorizeTime,stars:[60,45,30]}),te=Nc(1);N(Qe),ne(te),Kt(Qe,te)},[r,Kt]),rl=j.useCallback(()=>{r.playBtnSound(),r.stopMusic(),S(le=>{const Qe=le+1,te=Uc(Qe),at=Xa({levelNumber:Qe,difficulty:"normal",width:te.width,height:te.height,memorizeTime:te.memorizeTime,stars:[60,45,30]}),ze=Nc(Qe);return N(at),ne(ze),Kt(at,ze),Qe}),Jn(!1)},[r,Kt]);j.useEffect(()=>{H==="completed"&&(Y(oe),A(le=>le+oe),Jn(!0))},[H,oe]),j.useEffect(()=>{if(H!=="playing")return;const{game:le}=s,Qe=te=>{const at=te.target;if(at&&(["INPUT","TEXTAREA","SELECT"].includes(at.tagName)||at.isContentEditable)||Ae)return;Pt(null);const ze=te.key.toLowerCase();if(te.key===le.keyHelpReveal||ze===(le.keyHelpReveal||"").toLowerCase()){te.preventDefault(),cn();return}if(ze===(le.keyHelpPath||"").toLowerCase()){te.preventDefault(),Jt();return}const{x:dn,y:jt}=W;let _t=dn,He=jt,tt=!1;if(te.key==="ArrowUp"||ze===(le.keyMoveUp||"").toLowerCase())te.preventDefault(),_.maze[jt][dn].walls.top?tt=!0:He-=1;else if(te.key==="ArrowDown"||ze===(le.keyMoveDown||"").toLowerCase())te.preventDefault(),_.maze[jt][dn].walls.bottom?tt=!0:He+=1;else if(te.key==="ArrowLeft"||ze===(le.keyMoveLeft||"").toLowerCase())te.preventDefault(),_.maze[jt][dn].walls.left?tt=!0:_t-=1;else if(te.key==="ArrowRight"||ze===(le.keyMoveRight||"").toLowerCase())te.preventDefault(),_.maze[jt][dn].walls.right?tt=!0:_t+=1;else return;if(tt){r.playCrash();const Pe=_e-1;if(Pe<=0){v(0),r.stopMusic(),ye("failed");const Qt=kb(T);U(Qt),c&&jy(c.id,Qt).catch(jn=>{console.error("Error sincronitzant el millor score de prctica:",jn)})}else v(Pe),de({x:_.start.x,y:_.start.y}),me([{x:_.start.x,y:_.start.y}]);return}_t>=0&&_t<_.width&&He>=0&&He<_.height&&(de({x:_t,y:He}),me(Pe=>[...Pe,{x:_t,y:He}])),_t===_.exit.x&&He===_.exit.y&&(r.playWin(),r.stopMusic(),ye("completed"))};return window.addEventListener("keydown",Qe),()=>window.removeEventListener("keydown",Qe)},[H,s,_,W,_e,Ae,r,cn,Jt,Qn,T,c]);const gt=j.useMemo(()=>({path_color:u.mazePathColor||"#EEF2FF",wall_color:u.mazeWallColor||"#3B82F6",wall_thickness:u.mazeWallThickness||3,exit_color:u.mazeExitColor||u.normalColor||"#F59E0B",player_color:u.mazePlayerColor||"#111",player_path_color:u.playerPathColor||"rgba(0, 0, 0, 0.4)",crash_help_color:u.crashHelpColor||"#E11D48"}),[u]),ct={page:{minHeight:"100svh",width:"100%",margin:0,background:u.backgroundColor,color:u.textColor,boxSizing:"border-box",padding:"clamp(16px, 3vw, 24px)",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",alignItems:"center"},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexShrink:0,width:"100%",maxWidth:"980px"},title:{margin:0,fontSize:"clamp(22px, 4vw, 28px)",textAlign:"center"},ghostBtn:{padding:"10px 14px",borderRadius:12,border:`1px solid ${u.borderColor}`,background:u.surfaceColor,color:u.textColor,cursor:"pointer",fontSize:16,whiteSpace:"nowrap"},mainArea:{flexGrow:1,display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",minHeight:0,width:"100%",maxWidth:"980px"},memorizePanel:{background:`linear-gradient(90deg, ${u.accentColor1}, ${u.accentColor2})`,borderRadius:16,padding:"16px clamp(16px, 3vw, 24px) 20px",boxShadow:q.shadow,textAlign:"center",flexShrink:0},memorizeHeading:{margin:0,fontSize:"clamp(16px, 2vw, 18px)",opacity:.95},memorizeCounter:{fontSize:"clamp(40px, 6vw, 56px)",fontWeight:800,marginTop:6},progressTrack:{marginTop:10,height:10,borderRadius:999,background:"rgba(255,255,255,.35)",overflow:"hidden"},progressFill:{height:"100%",background:u.surfaceColor,borderRadius:999},boardWrap:{flexGrow:1,display:"grid",placeItems:"center",minHeight:0},boardInner:{width:"100%",height:"100%",aspectRatio:"1 / 1",maxWidth:"calc(100vh - 300px)",maxHeight:"100%",background:u.mazePathColor,borderRadius:16,boxShadow:"0 16px 48px rgba(0,0,0,.35), inset 0 0 0 3px rgba(0,0,0,.25)",overflow:"hidden",position:"relative"},footer:{flexShrink:0,width:"100%",maxWidth:"980px",textAlign:"center"},tip:{display:"inline-block",background:u.surfaceColor,border:`1px solid ${u.borderColor}`,padding:"10px 16px",borderRadius:10,color:u.subtextColor,fontSize:14}};return h.jsxs("div",{style:ct.page,children:[h.jsxs("header",{style:ct.headerRow,children:[h.jsxs("button",{type:"button",onClick:En,onMouseEnter:()=>r.playHover(),style:ct.ghostBtn,children:[h.jsx("span",{"aria-hidden":"true",children:""})," Tornar"]}),h.jsxs("h1",{style:ct.title,children:["Mode Score - Nivell ",x]}),h.jsx("div",{style:{width:100}})]}),h.jsxs("main",{style:ct.mainArea,children:[H==="memorize"?h.jsxs("section",{"aria-labelledby":"memorizeTitle",style:ct.memorizePanel,children:[h.jsxs("h2",{id:"memorizeTitle",style:ct.memorizeHeading,children:[h.jsx("span",{"aria-hidden":"true",children:""})," Memoritza el Laberint!"]}),h.jsx("div",{role:"status","aria-live":"polite",style:ct.memorizeCounter,children:pe}),h.jsx("div",{role:"progressbar","aria-valuenow":Math.round(Yt),style:ct.progressTrack,children:h.jsx("div",{style:{...ct.progressFill,width:`${Yt}%`}})})]}):h.jsx(r2,{totalScore:T,revealCharges:C,isPathHelpActive:I,isCrashHelpActive:ee,onRevealHelp:cn,onTogglePathHelp:Jt,onToggleCrashHelp:Qn,lives:_e}),h.jsx("section",{"aria-label":"Tauler del laberint",style:ct.boardWrap,children:h.jsx("div",{style:ct.boardInner,children:h.jsx(dd,{level:_,phase:H,playerPos:W,showReveal:Ae,settings:gt,showPlayerPath:I,crashPosition:un,forcePathHistory:fe})})})]}),h.jsx("footer",{style:ct.footer,children:H==="playing"?h.jsxs("p",{style:ct.tip,children:["Utilitza les ",h.jsx("kbd",{children:"Fletxes"})," o",h.jsxs("kbd",{children:[" ",qs(f)]}),h.jsx("kbd",{children:qs(y)}),h.jsx("kbd",{children:qs(p)}),h.jsxs("kbd",{children:[qs(g)," "]}),"per mouret."]}):H==="memorize"?h.jsx("p",{style:ct.tip,children:"Memoritza el cam des de l'inici (cercle) fins al final (quadrat)."}):null}),H==="failed"&&h.jsx(O0,{onRetry:nl,onBack:En,score:Math.round(T),bestScore:Math.round(R),isPracticeScoreMode:!0}),H==="completed"&&Kn&&h.jsx(l2,{levelNumber:x-1,pointsGained:oe,totalScore:T,onNextLevel:rl,onBack:En})]})}const ky=i=>i.startsWith("/")?i:`/${i}`,o2=i=>{const r=i.endsWith("/")?i.slice(0,-1):i;return r.startsWith("/")?r:`/${r}`},Lc=(i,r)=>{const l=Number.parseInt(i??"",10);return Number.isFinite(l)&&l>0?l:r},Hc=i=>{if(!i)return"/";const[r,l]=i.split("?"),s=r?r.replace(/\/+/g,"/"):"/",c=s.endsWith("/")&&s!=="/"?s.slice(0,-1):s,u=ky(c);return l?`${u}?${l}`:u},v0=()=>{if(typeof window>"u")return"/";const{pathname:i,search:r}=window.location;return`${i}${r}`||"/"},u2={"easy-1":Ty},c2="/MazeMind-TFG/",Zl=o2(c2);function d2(){const{user:i}=Zs(),[r,l]=j.useState(!1),[s,c]=j.useState(!1),[u,f]=j.useState(()=>Gs()),p=j.useRef(null),y=j.useRef(null),[g,x]=j.useState(()=>v0()),[S,T]=j.useState(0),[A,R]=j.useState("easy");j.useEffect(()=>{if(typeof window>"u")return;const J=()=>{T(0),x(v0())};return window.addEventListener("popstate",J),()=>window.removeEventListener("popstate",J)},[]);const U=j.useCallback(J=>{const K=ky(J);return Zl?`${Zl}${K}`:K},[]),_=j.useCallback(J=>{if(!J)return"/";if(!Zl)return Hc(J);if(J.startsWith(Zl)){const K=J.slice(Zl.length)||"/";return Hc(K)}return Hc(J)},[]),N=j.useMemo(()=>_(g),[g,_]),O=j.useCallback((J,K)=>{K?.preserveTutorial||c(!1);const W=U(J);typeof window<"u"&&window.history.pushState({},"",W),x(de=>de===W?(T(fe=>fe+1),de):(T(0),W))},[U]),Y=()=>{c(!0),O("/level/easy/1",{preserveTutorial:!0})};j.useEffect(()=>{if(!i?.id){p.current=null,f(Gs());return}if(p.current===i.id||y.current===i.id)return;y.current=i.id,(async()=>{try{const K=await Sw(i.id);f(K),p.current=i.id}catch(K){console.error("Error sincronitzant el progrs a l'inici de sessi:",K)}finally{y.current=null}})()},[i,f]);const X=J=>{l(!1)},ne=async()=>{try{await sn.auth.signOut()}catch(J){console.error("Error en tancar sessi:",J)}finally{l(!1)}},Z=()=>{ne()},H=j.useMemo(()=>{if(N==="/settings")return{type:"settings"};if(N==="/practice/free")return{type:"practice-free"};if(N==="/practice/normal")return{type:"practice-normal"};if(N==="/practice/ia")return{type:"practice-ia"};if(N==="/levels")return{type:"levels"};if(N.startsWith("/level/custom")){const[,K=""]=N.split("?"),W=new URLSearchParams(K),de=Lc(W.get("w"),7),fe=Lc(W.get("h"),7),me=Lc(W.get("t"),10),Q=W.get("d")==="hard"?"hard":"normal";return{type:"custom",width:de,height:fe,time:me,difficulty:Q}}const J=N.match(/^\/level\/(easy|normal|hard)\/(\d+)$/);if(J){const[,K,W]=J;return{type:"level",difficulty:K,number:Number(W)}}return N==="/"||N===""?{type:"home"}:{type:"unknown",path:N}},[N]);j.useEffect(()=>{H.type==="unknown"&&console.warn(`Ruta desconeguda: ${H.path}. Redirigint a HomeScreen.`)},[H]);const ye=j.useCallback(J=>{const K=new URLSearchParams;K.set("w",String(J.width)),K.set("h",String(J.height)),K.set("t",String(J.time)),K.set("d",J.difficulty),O(`/level/custom?${K.toString()}`)},[O]),pe=()=>h.jsxs(h.Fragment,{children:[h.jsx(Cb,{progress:u,user:i,onNavigate:()=>O("/levels"),onUserClick:()=>l(!0),onLogout:Z,onSettingsClick:()=>O("/settings")}),r&&h.jsx(Rw,{onClose:()=>l(!1),onLogin:X,onRegister:X})]});switch(H.type){case"settings":return h.jsx(t2,{onBack:()=>O("/")});case"practice-free":return h.jsx(n2,{onBack:()=>O("/levels"),onStartGame:ye});case"custom":{const J=Xa({levelNumber:99,difficulty:H.difficulty,width:H.width,height:H.height,memorizeTime:H.time,stars:[60,45,30]}),K=new URLSearchParams({w:String(H.width),h:String(H.height),t:String(H.time),d:H.difficulty});return h.jsx(Oc,{level:J,onBack:()=>O("/practice/free"),onRetry:()=>O(`/level/custom?${K.toString()}`),isTutorialMode:!1,onCompleteTutorial:()=>{},onLevelComplete:W=>f(W),isPracticeMode:!0},S)}case"practice-normal":return h.jsx(s2,{onBack:()=>O("/levels")},S);case"practice-ia":{const J=Xa({levelNumber:1,difficulty:"easy",width:7,height:7,memorizeTime:12,stars:[60,45,30]});return h.jsx(Oc,{level:J,onBack:()=>O("/levels"),onRetry:()=>O("/practice/ia"),isTutorialMode:!1,onCompleteTutorial:()=>{},onLevelComplete:K=>f(K),isPracticeMode:!0},S)}case"levels":return h.jsx(Mb,{progress:u,onPlayLevel:(J,K)=>O(`/level/${K}/${J}`),onBack:()=>O("/"),onStartTutorial:Y,selectedDifficulty:A,onDifficultyChange:R,onStartPracticeIA:()=>O("/practice/ia"),onStartPracticeNormal:()=>O("/practice/normal"),onStartPracticeFree:()=>O("/practice/free")});case"level":{const{difficulty:J,number:K}=H,W=`${J}-${K}`,de=u2[W]??Xa({levelNumber:K,difficulty:J,width:7,height:7,memorizeTime:10,stars:[60,45,30]});return h.jsx(Oc,{level:de,onBack:()=>O("/levels"),onRetry:()=>O(`/level/${J}/${K}`),isTutorialMode:s,onCompleteTutorial:()=>c(!1),onLevelComplete:fe=>f(fe),isPracticeMode:!1},S)}case"home":return pe();case"unknown":default:return pe()}}e1.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(fw,{children:h.jsx(mb,{children:h.jsx(d2,{})})})}));
